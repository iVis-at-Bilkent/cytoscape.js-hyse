"use strict";var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function r(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function i(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}var o=Object.freeze({nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(t){return 1},edgeWeight:function(t){return 1},animate:void 0,animationDuration:void 0,animationEasing:void 0,animateFilter:function(t,e){return!0},pan:void 0,zoom:void 0,fit:void 0,padding:void 0,boundingBox:void 0,spacingFactor:void 0,nodeDimensionsIncludeLabels:void 0,transform:function(t,e){return e},ticksPerFrame:30,ready:function(){},stop:function(){},performPostProcessing:void 0});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var s,u={exports:{}},c={exports:{}};s=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=28)}([function(t,e,r){function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,t.exports=n},function(t,e,r){var n=r(2),i=r(8),o=r(9);function a(t,e,r){n.call(this,r),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=r,this.bendpoints=[],this.source=t,this.target=e}for(var s in a.prototype=Object.create(n.prototype),n)a[s]=n[s];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(t,e){for(var r=this.getOtherEnd(t),n=e.getGraphManager().getRoot();;){if(r.getOwner()==e)return r;if(r.getOwner()==n)break;r=r.getOwner().getParent()}return null},a.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=a},function(t,e,r){t.exports=function(t){this.vGraphObject=t}},function(t,e,r){var n=r(2),i=r(10),o=r(13),a=r(0),s=r(16),u=r(5);function c(t,e,r,a){null==r&&null==a&&(a=e),n.call(this,a),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=t,this.rect=null!=r&&null!=e?new o(e.x,e.y,r.width,r.height):new o}for(var h in c.prototype=Object.create(n.prototype),n)c[h]=n[h];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(t){this.rect.width=t},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(t){this.rect.height=t},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},c.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},c.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},c.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},c.prototype.getEdgeListToNode=function(t){var e=[],r=this;return r.edges.forEach((function(n){if(n.target==t){if(n.source!=r)throw"Incorrect edge source!";e.push(n)}})),e},c.prototype.getEdgesBetween=function(t){var e=[],r=this;return r.edges.forEach((function(n){if(n.source!=r&&n.target!=r)throw"Incorrect edge source and/or target";n.target!=t&&n.source!=t||e.push(n)})),e},c.prototype.getNeighborsList=function(){var t=new Set,e=this;return e.edges.forEach((function(r){if(r.source==e)t.add(r.target);else{if(r.target!=e)throw"Incorrect incidency!";t.add(r.source)}})),t},c.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var e=this.child.getNodes(),r=0;r<e.length;r++)e[r].withChildren().forEach((function(e){t.add(e)}));return t},c.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var e=this.child.getNodes(),r=0;r<e.length;r++)t+=e[r].getNoOfChildren();return 0==t&&(t=1),t},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var t,e,r=-a.INITIAL_WORLD_BOUNDARY,n=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_X+s.nextDouble()*(n-r)+r;var i=-a.INITIAL_WORLD_BOUNDARY,o=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_Y+s.nextDouble()*(o-i)+i,this.rect.x=t,this.rect.y=e},c.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var e=t.getRight()-t.getLeft(),r=t.getBottom()-t.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(e+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>e?(this.rect.x-=(this.labelWidth-e)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(e+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(r+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>r?(this.rect.y-=(this.labelHeight-r)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(r+this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(t){var e=this.rect.x;e>a.WORLD_BOUNDARY?e=a.WORLD_BOUNDARY:e<-a.WORLD_BOUNDARY&&(e=-a.WORLD_BOUNDARY);var r=this.rect.y;r>a.WORLD_BOUNDARY?r=a.WORLD_BOUNDARY:r<-a.WORLD_BOUNDARY&&(r=-a.WORLD_BOUNDARY);var n=new u(e,r),i=t.inverseTransformPoint(n);this.setLocation(i.x,i.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=c},function(t,e,r){var n=r(0);function i(){}for(var o in n)i[o]=n[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=i},function(t,e,r){function n(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(t){this.x=t},n.prototype.setY=function(t){this.y=t},n.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=n},function(t,e,r){var n=r(2),i=r(10),o=r(0),a=r(7),s=r(3),u=r(1),c=r(13),h=r(12),l=r(11);function f(t,e,r){n.call(this,r),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof a?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var d in f.prototype=Object.create(n.prototype),n)f[d]=n[d];f.prototype.getNodes=function(){return this.nodes},f.prototype.getEdges=function(){return this.edges},f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getParent=function(){return this.parent},f.prototype.getLeft=function(){return this.left},f.prototype.getRight=function(){return this.right},f.prototype.getTop=function(){return this.top},f.prototype.getBottom=function(){return this.bottom},f.prototype.isConnected=function(){return this.isConnected},f.prototype.add=function(t,e,r){if(null==e&&null==r){var n=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var i=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(r)>-1))throw"Source or target not in graph!";if(e.owner!=r.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=r.owner?null:(i.source=e,i.target=r,i.isInterGraph=!1,this.getEdges().push(i),e.edges.push(i),r!=e&&r.edges.push(i),i)},f.prototype.remove=function(t){var e=t;if(t instanceof s){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var r=e.edges.slice(),n=r.length,i=0;i<n;i++)(o=r[i]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(a=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(t instanceof u){var o;if(null==(o=t))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var a,c=o.source.edges.indexOf(o),h=o.target.edges.indexOf(o);if(!(c>-1&&h>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(c,1),o.target!=o.source&&o.target.edges.splice(h,1),-1==(a=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(a,1)}},f.prototype.updateLeftTop=function(){for(var t,e,r,n=i.MAX_VALUE,o=i.MAX_VALUE,a=this.getNodes(),s=a.length,u=0;u<s;u++){var c=a[u];n>(t=c.getTop())&&(n=t),o>(e=c.getLeft())&&(o=e)}return n==i.MAX_VALUE?null:(r=null!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=o-r,this.top=n-r,new h(this.left,this.top))},f.prototype.updateBounds=function(t){for(var e,r,n,o,a,s=i.MAX_VALUE,u=-i.MAX_VALUE,h=i.MAX_VALUE,l=-i.MAX_VALUE,f=this.nodes,d=f.length,p=0;p<d;p++){var g=f[p];t&&null!=g.child&&g.updateBounds(),s>(e=g.getLeft())&&(s=e),u<(r=g.getRight())&&(u=r),h>(n=g.getTop())&&(h=n),l<(o=g.getBottom())&&(l=o)}var v=new c(s,h,u-s,l-h);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=null!=f[0].getParent().paddingLeft?f[0].getParent().paddingLeft:this.margin,this.left=v.x-a,this.right=v.x+v.width+a,this.top=v.y-a,this.bottom=v.y+v.height+a},f.calculateBounds=function(t){for(var e,r,n,o,a=i.MAX_VALUE,s=-i.MAX_VALUE,u=i.MAX_VALUE,h=-i.MAX_VALUE,l=t.length,f=0;f<l;f++){var d=t[f];a>(e=d.getLeft())&&(a=e),s<(r=d.getRight())&&(s=r),u>(n=d.getTop())&&(u=n),h<(o=d.getBottom())&&(h=o)}return new c(a,u,s-a,h-u)},f.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,r=e.length,n=0;n<r;n++)t+=e[n].calcEstimatedSize();return this.estimatedSize=0==t?o.EMPTY_COMPOUND_NODE_SIZE:t/Math.sqrt(this.nodes.length),this.estimatedSize},f.prototype.updateConnected=function(){var t=this;if(0!=this.nodes.length){var e,r,n=new l,i=new Set,o=this.nodes[0];for(o.withChildren().forEach((function(t){n.push(t),i.add(t)}));0!==n.length;)for(var a=(e=(o=n.shift()).getEdges()).length,s=0;s<a;s++)null==(r=e[s].getOtherEndInGraph(o,this))||i.has(r)||r.withChildren().forEach((function(t){n.push(t),i.add(t)}));if(this.isConnected=!1,i.size>=this.nodes.length){var u=0;i.forEach((function(e){e.owner==t&&u++})),u==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=f},function(t,e,r){var n,i=r(1);function o(t){n=r(6),this.layout=t,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),r=this.add(t,e);return this.setRootGraph(r),this.rootGraph},o.prototype.add=function(t,e,r,n,i){if(null==r&&null==n&&null==i){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}i=r,r=t;var o=(n=e).getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return r.isInterGraph=!1,o.add(r,n,i);if(r.isInterGraph=!0,r.source=n,r.target=i,this.edges.indexOf(r)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(r),null==r.source||null==r.target)throw"Edge source and/or target is null!";if(-1!=r.source.edges.indexOf(r)||-1!=r.target.edges.indexOf(r))throw"Edge already in source and/or target incidency list!";return r.source.edges.push(r),r.target.edges.push(r),r},o.prototype.remove=function(t){if(t instanceof n){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var r,o=[],a=(o=o.concat(e.getEdges())).length,s=0;s<a;s++)r=o[s],e.remove(r);var u,c=[];for(a=(c=c.concat(e.getNodes())).length,s=0;s<a;s++)u=c[s],e.remove(u);e==this.rootGraph&&this.setRootGraph(null);var h=this.graphs.indexOf(e);this.graphs.splice(h,1),e.parent=null}else if(t instanceof i){if(null==(r=t))throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(-1==r.source.edges.indexOf(r)||-1==r.target.edges.indexOf(r))throw"Source and/or target doesn't know this edge!";if(h=r.source.edges.indexOf(r),r.source.edges.splice(h,1),h=r.target.edges.indexOf(r),r.target.edges.splice(h,1),null==r.source.owner||null==r.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==r.source.owner.getGraphManager().edges.indexOf(r))throw"Not in owner graph manager's edge list!";h=r.source.owner.getGraphManager().edges.indexOf(r),r.source.owner.getGraphManager().edges.splice(h,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),r=e.length,n=0;n<r;n++)t=t.concat(e[n].getNodes());this.allNodes=t}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){var t=[],e=this.getGraphs();e.length;for(var r=0;r<e.length;r++)t=t.concat(e[r].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var r,n=t.getOwner();null!=(r=n.getParent());){if(r==e)return!0;if(null==(n=r.getOwner()))break}for(n=e.getOwner();null!=(r=n.getParent());){if(r==t)return!0;if(null==(n=r.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var t,e,r,n,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(e=(t=o[s]).source,r=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=r,e!=r){for(n=e.getOwner();null==t.lca;){for(t.targetInLca=r,i=r.getOwner();null==t.lca;){if(i==n){t.lca=i;break}if(i==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=i.getParent(),i=t.targetInLca.getOwner()}if(n==this.rootGraph)break;null==t.lca&&(t.sourceInLca=n.getParent(),n=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},o.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var r=t.getOwner();null!=r;){for(var n=e.getOwner();null!=n;){if(n==r)return n;n=n.getParent().getOwner()}r=r.getParent().getOwner()}return r},o.prototype.calcInclusionTreeDepths=function(t,e){var r;null==t&&null==e&&(t=this.rootGraph,e=1);for(var n=t.getNodes(),i=n.length,o=0;o<i;o++)(r=n[o]).inclusionTreeDepth=e,null!=r.child&&this.calcInclusionTreeDepths(r.child,e+1)},o.prototype.includesInvalidEdge=function(){for(var t,e=[],r=this.edges.length,n=0;n<r;n++)t=this.edges[n],this.isOneAncestorOfOther(t.source,t.target)&&e.push(t);for(n=0;n<e.length;n++)this.remove(e[n]);return!1},t.exports=o},function(t,e,r){var n=r(12);function i(){}i.calcSeparationAmount=function(t,e,r,n){if(!t.intersects(e))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(t,e,i),r[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),r[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?r[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(r[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?r[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(r[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var o=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()===t.getCenterY()&&e.getCenterX()===t.getCenterX()&&(o=1);var a=o*r[0],s=r[1]/o;r[0]<s?s=r[0]:a=r[1],r[0]=-1*i[0]*(s/2+n),r[1]=-1*i[1]*(a/2+n)},i.decideDirectionsForOverlappingNodes=function(t,e,r){t.getCenterX()<e.getCenterX()?r[0]=-1:r[0]=1,t.getCenterY()<e.getCenterY()?r[1]=-1:r[1]=1},i.getIntersection2=function(t,e,r){var n=t.getCenterX(),i=t.getCenterY(),o=e.getCenterX(),a=e.getCenterY();if(t.intersects(e))return r[0]=n,r[1]=i,r[2]=o,r[3]=a,!0;var s=t.getX(),u=t.getY(),c=t.getRight(),h=t.getX(),l=t.getBottom(),f=t.getRight(),d=t.getWidthHalf(),p=t.getHeightHalf(),g=e.getX(),v=e.getY(),y=e.getRight(),m=e.getX(),_=e.getBottom(),w=e.getRight(),E=e.getWidthHalf(),b=e.getHeightHalf(),x=!1,N=!1;if(n===o){if(i>a)return r[0]=n,r[1]=u,r[2]=o,r[3]=_,!1;if(i<a)return r[0]=n,r[1]=l,r[2]=o,r[3]=v,!1}else if(i===a){if(n>o)return r[0]=s,r[1]=i,r[2]=y,r[3]=a,!1;if(n<o)return r[0]=c,r[1]=i,r[2]=g,r[3]=a,!1}else{var A=t.height/t.width,T=e.height/e.width,L=(a-i)/(o-n),C=void 0,M=void 0,O=void 0,I=void 0,D=void 0,R=void 0;if(-A===L?n>o?(r[0]=h,r[1]=l,x=!0):(r[0]=c,r[1]=u,x=!0):A===L&&(n>o?(r[0]=s,r[1]=u,x=!0):(r[0]=f,r[1]=l,x=!0)),-T===L?o>n?(r[2]=m,r[3]=_,N=!0):(r[2]=y,r[3]=v,N=!0):T===L&&(o>n?(r[2]=g,r[3]=v,N=!0):(r[2]=w,r[3]=_,N=!0)),x&&N)return!1;if(n>o?i>a?(C=this.getCardinalDirection(A,L,4),M=this.getCardinalDirection(T,L,2)):(C=this.getCardinalDirection(-A,L,3),M=this.getCardinalDirection(-T,L,1)):i>a?(C=this.getCardinalDirection(-A,L,1),M=this.getCardinalDirection(-T,L,3)):(C=this.getCardinalDirection(A,L,2),M=this.getCardinalDirection(T,L,4)),!x)switch(C){case 1:I=u,O=n+-p/L,r[0]=O,r[1]=I;break;case 2:O=f,I=i+d*L,r[0]=O,r[1]=I;break;case 3:I=l,O=n+p/L,r[0]=O,r[1]=I;break;case 4:O=h,I=i+-d*L,r[0]=O,r[1]=I}if(!N)switch(M){case 1:R=v,D=o+-b/L,r[2]=D,r[3]=R;break;case 2:D=w,R=a+E*L,r[2]=D,r[3]=R;break;case 3:R=_,D=o+b/L,r[2]=D,r[3]=R;break;case 4:D=m,R=a+-E*L,r[2]=D,r[3]=R}}return!1},i.getCardinalDirection=function(t,e,r){return t>e?r:1+r%4},i.getIntersection=function(t,e,r,i){if(null==i)return this.getIntersection2(t,e,r);var o,a,s,u,c,h,l,f=t.x,d=t.y,p=e.x,g=e.y,v=r.x,y=r.y,m=i.x,_=i.y;return 0==(l=(o=g-d)*(u=v-m)-(a=_-y)*(s=f-p))?null:new n((s*(h=m*y-v*_)-u*(c=p*d-f*g))/l,(a*c-o*h)/l)},i.angleOfVector=function(t,e,r,n){var i=void 0;return t!==r?(i=Math.atan((n-e)/(r-t)),r<t?i+=Math.PI:n<e&&(i+=this.TWO_PI)):i=n<e?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(t,e,r,n){var i=t.x,o=t.y,a=e.x,s=e.y,u=r.x,c=r.y,h=n.x,l=n.y,f=(a-i)*(l-c)-(h-u)*(s-o);if(0===f)return!1;var d=((l-c)*(h-i)+(u-h)*(l-o))/f,p=((o-s)*(h-i)+(a-i)*(l-o))/f;return 0<d&&d<1&&0<p&&p<1},i.findCircleLineIntersections=function(t,e,r,n,i,o,a){var s=(r-t)*(r-t)+(n-e)*(n-e),u=2*((t-i)*(r-t)+(e-o)*(n-e)),c=(t-i)*(t-i)+(e-o)*(e-o)-a*a;if(u*u-4*s*c>=0){var h=(-u+Math.sqrt(u*u-4*s*c))/(2*s),l=(-u-Math.sqrt(u*u-4*s*c))/(2*s);return h>=0&&h<=1?[h]:l>=0&&l<=1?[l]:null}return null},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,t.exports=i},function(t,e,r){function n(){}n.sign=function(t){return t>0?1:t<0?-1:0},n.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},n.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=n},function(t,e,r){function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,t.exports=n},function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return{value:t,next:null,prev:null}},o=function(t,e,r,n){return null!==t?t.next=e:n.head=e,null!==r?r.prev=e:n.tail=e,e.prev=t,e.next=r,n.length++,e},a=function(t,e){var r=t.prev,n=t.next;return null!==r?r.next=n:e.head=n,null!==n?n.prev=r:e.tail=r,t.prev=t.next=null,e.length--,t},s=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach((function(t){return r.push(t)}))}return n(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,e){return o(e.prev,i(t),e,this)}},{key:"insertAfter",value:function(t,e){return o(e,i(t),e.next,this)}},{key:"insertNodeBefore",value:function(t,e){return o(e.prev,t,e,this)}},{key:"insertNodeAfter",value:function(t,e){return o(e,t,e.next,this)}},{key:"push",value:function(t){return o(this.tail,i(t),null,this)}},{key:"unshift",value:function(t){return o(null,i(t),this.head,this)}},{key:"remove",value:function(t){return a(t,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var e=1,r=this.head;e<t;)r=r.next,e++;return r.value}}},{key:"set_object_at",value:function(t,e){if(t<=this.length()){for(var r=1,n=this.head;r<t;)n=n.next,r++;n.value=e}}}]),t}();t.exports=s},function(t,e,r){function n(t,e,r){this.x=null,this.y=null,null==t&&null==e&&null==r?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==r?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==r&&(r=t,this.x=r.x,this.y=r.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(t,e,r){"Point"==t.constructor.name&&null==e&&null==r?(r=t,this.setLocation(r.x,r.y)):"number"==typeof t&&"number"==typeof e&&null==r&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},n.prototype.move=function(t,e){this.x=t,this.y=e},n.prototype.translate=function(t,e){this.x+=t,this.y+=e},n.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=n},function(t,e,r){function n(t,e,r,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=r&&null!=n&&(this.x=t,this.y=e,this.width=r,this.height=n)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(t){this.x=t},n.prototype.getY=function(){return this.y},n.prototype.setY=function(t){this.y=t},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(t){return!(this.getRight()<t.x||this.getBottom()<t.y||t.getRight()<this.x||t.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},t.exports=n},function(t,e,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(){}i.lastID=0,i.createID=function(t){return i.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=i.getString(),i.lastID++),t.uniqueID)},i.getString=function(t){return null==t&&(t=i.lastID),"Object#"+t},i.isPrimitive=function(t){var e=void 0===t?"undefined":n(t);return null==t||"object"!=e&&"function"!=e},t.exports=i},function(t,e,r){function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(0),o=r(7),a=r(3),s=r(1),u=r(6),c=r(5),h=r(17),l=r(29);function f(t){l.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}f.RANDOM_SEED=1,f.prototype=Object.create(l.prototype),f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},f.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},f.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},f.prototype.newGraphManager=function(){var t=new o(this);return this.graphManager=t,t},f.prototype.newGraph=function(t){return new u(null,this.graphManager,t)},f.prototype.newNode=function(t){return new a(this.graphManager,t)},f.prototype.newEdge=function(t){return new s(null,null,t)},f.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},f.prototype.runLayout=function(){var t;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),t=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(t&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,t)},f.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},f.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var r=this.graphManager.getRoot().getNodes();for(e=0;e<r.length;e++)r[e];this.update(this.graphManager.getRoot())}},f.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof a){var e=t;if(null!=e.getChild())for(var r=e.getChild().getNodes(),n=0;n<r.length;n++)update(r[n]);null!=e.vGraphObject&&e.vGraphObject.update(e)}else if(t instanceof s){var i=t;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(t instanceof u){var o=t;null!=o.vGraphObject&&o.vGraphObject.update(o)}},f.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},f.prototype.transform=function(t){if(null==t)this.transform(new c(0,0));else{var e=new h,r=this.graphManager.getRoot().updateLeftTop();if(null!=r){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(r.x),e.setDeviceOrgY(r.y);for(var n=this.getAllNodes(),i=0;i<n.length;i++)n[i].transform(e)}}},f.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,r,n=t.getNodes(),i=0;i<n.length;i++)null==(r=(e=n[i]).getChild())||0==r.getNodes().length?e.scatter():(this.positionNodesRandomly(r),e.updateBounds())},f.prototype.getFlatForest=function(){for(var t=[],e=!0,r=this.graphManager.getRoot().getNodes(),i=!0,o=0;o<r.length;o++)null!=r[o].getChild()&&(i=!1);if(!i)return t;var a=new Set,s=[],u=new Map,c=[];for(c=c.concat(r);c.length>0&&e;){for(s.push(c[0]);s.length>0&&e;){var h=s[0];s.splice(0,1),a.add(h);var l=h.getEdges();for(o=0;o<l.length;o++){var f=l[o].getOtherEnd(h);if(u.get(h)!=f){if(a.has(f)){e=!1;break}s.push(f),u.set(f,h)}}}if(e){var d=[].concat(n(a));for(t.push(d),o=0;o<d.length;o++){var p=d[o],g=c.indexOf(p);g>-1&&c.splice(g,1)}a=new Set,u=new Map}else t=[]}return t},f.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],r=t.source,n=this.graphManager.calcLowestCommonAncestor(t.source,t.target),i=0;i<t.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),n.add(o);var a=this.newEdge(null);this.graphManager.add(a,r,o),e.add(o),r=o}return a=this.newEdge(null),this.graphManager.add(a,r,t.target),this.edgeToDummyNodes.set(t,e),t.isInterGraph()?this.graphManager.remove(t):n.remove(t),e},f.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=[].concat(n(this.edgeToDummyNodes.keys())).concat(t);for(var e=0;e<t.length;e++){var r=t[e];if(r.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(r),o=0;o<i.length;o++){var a=i[o],s=new c(a.getCenterX(),a.getCenterY()),u=r.bendpoints.get(o);u.x=s.x,u.y=s.y,a.getOwner().remove(a)}this.graphManager.add(r,r.source,r.target)}}},f.transform=function(t,e,r,n){if(null!=r&&null!=n){var i=e;return t<=50?i-=(e-e/r)/50*(50-t):i+=(e*n-e)/50*(t-50),i}var o,a;return t<=50?(o=9*e/500,a=e/10):(o=9*e/50,a=-8*e),o*t+a},f.findCenterOfTree=function(t){var e=[];e=e.concat(t);var r=[],n=new Map,i=!1,o=null;1!=e.length&&2!=e.length||(i=!0,o=e[0]);for(var a=0;a<e.length;a++){var s=(h=e[a]).getNeighborsList().size;n.set(h,h.getNeighborsList().size),1==s&&r.push(h)}var u=[];for(u=u.concat(r);!i;){var c=[];for(c=c.concat(u),u=[],a=0;a<e.length;a++){var h=e[a],l=e.indexOf(h);l>=0&&e.splice(l,1),h.getNeighborsList().forEach((function(t){if(r.indexOf(t)<0){var e=n.get(t)-1;1==e&&u.push(t),n.set(t,e)}}))}r=r.concat(u),1!=e.length&&2!=e.length||(i=!0,o=e[0])}return o},f.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=f},function(t,e,r){function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},t.exports=n},function(t,e,r){var n=r(5);function i(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(t){this.lworldExtX=t},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(t){this.lworldExtY=t},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},i.prototype.transformX=function(t){var e=0,r=this.lworldExtX;return 0!=r&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/r),e},i.prototype.transformY=function(t){var e=0,r=this.lworldExtY;return 0!=r&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/r),e},i.prototype.inverseTransformX=function(t){var e=0,r=this.ldeviceExtX;return 0!=r&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/r),e},i.prototype.inverseTransformY=function(t){var e=0,r=this.ldeviceExtY;return 0!=r&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/r),e},i.prototype.inverseTransformPoint=function(t){return new n(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=i},function(t,e,r){var n=r(15),i=r(4),o=r(0),a=r(8),s=r(9);function u(){n.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var c in u.prototype=Object.create(n.prototype),n)u[c]=n[c];u.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var t,e,r,n,a,s,u,c=this.getGraphManager().getAllEdges(),h=0;h<c.length;h++)e=(t=c[h]).idealLength,t.isInterGraph&&(n=t.getSource(),a=t.getTarget(),s=t.getSourceInLca().getEstimatedSize(),u=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=s+u-2*o.SIMPLE_NODE_SIZE),r=t.getLca().getInclusionTreeDepth(),t.idealLength+=e*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+a.getInclusionTreeDepth()-2*r))},u.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(t>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(t-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),r=0;r<e.length;r++)t=e[r],this.calcSpringForce(t,t.idealLength)},u.prototype.calcRepulsionForces=function(){var t,e,r,n,o,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&a&&this.updateGrid(),o=new Set,t=0;t<u.length;t++)r=u[t],this.calculateRepulsionForceOfANode(r,o,a,s),o.add(r);else for(t=0;t<u.length;t++)for(r=u[t],e=t+1;e<u.length;e++)n=u[e],r.getOwner()==n.getOwner()&&this.calcRepulsionForce(r,n)},u.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),r=0;r<e.length;r++)t=e[r],this.calcGravitationalForce(t)},u.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},u.prototype.calcSpringForce=function(t,e){var r,n,i,o,a=t.getSource(),s=t.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(r=t.getLength())&&(i=(n=t.edgeElasticity*(r-e))*(t.lengthX/r),o=n*(t.lengthY/r),a.springForceX+=i,a.springForceY+=o,s.springForceX-=i,s.springForceY-=o)},u.prototype.calcRepulsionForce=function(t,e){var r,n,o,u,c,h,l,f=t.getRect(),d=e.getRect(),p=new Array(2),g=new Array(4);if(f.intersects(d)){a.calcSeparationAmount(f,d,p,i.DEFAULT_EDGE_LENGTH/2),h=2*p[0],l=2*p[1];var v=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=v*h,t.repulsionForceY-=v*l,e.repulsionForceX+=v*h,e.repulsionForceY+=v*l}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(r=d.getCenterX()-f.getCenterX(),n=d.getCenterY()-f.getCenterY()):(a.getIntersection(f,d,g),r=g[2]-g[0],n=g[3]-g[1]),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=s.sign(r)*i.MIN_REPULSION_DIST),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=s.sign(n)*i.MIN_REPULSION_DIST),o=r*r+n*n,u=Math.sqrt(o),h=(c=(t.nodeRepulsion/2+e.nodeRepulsion/2)*t.noOfChildren*e.noOfChildren/o)*r/u,l=c*n/u,t.repulsionForceX-=h,t.repulsionForceY-=l,e.repulsionForceX+=h,e.repulsionForceY+=l},u.prototype.calcGravitationalForce=function(t){var e,r,n,i,o,a,s,u;r=((e=t.getOwner()).getRight()+e.getLeft())/2,n=(e.getTop()+e.getBottom())/2,i=t.getCenterX()-r,o=t.getCenterY()-n,a=Math.abs(i)+t.getWidth()/2,s=Math.abs(o)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(a>(u=e.getEstimatedSize()*this.gravityRangeFactor)||s>u)&&(t.gravitationForceX=-this.gravityConstant*i,t.gravitationForceY=-this.gravityConstant*o):(a>(u=e.getEstimatedSize()*this.compoundGravityRangeFactor)||s>u)&&(t.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},u.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,e=this.graphManager.getAllNodes(),r=0;r<e.length;r++)(t=e[r]).noOfChildren=t.getNoOfChildren()},u.prototype.calcGrid=function(t){var e,r;e=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),r=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var n=new Array(e),i=0;i<e;i++)n[i]=new Array(r);for(i=0;i<e;i++)for(var o=0;o<r;o++)n[i][o]=new Array;return n},u.prototype.addNodeToGrid=function(t,e,r){var n,i,o,a;n=parseInt(Math.floor((t.getRect().x-e)/this.repulsionRange)),i=parseInt(Math.floor((t.getRect().width+t.getRect().x-e)/this.repulsionRange)),o=parseInt(Math.floor((t.getRect().y-r)/this.repulsionRange)),a=parseInt(Math.floor((t.getRect().height+t.getRect().y-r)/this.repulsionRange));for(var s=n;s<=i;s++)for(var u=o;u<=a;u++)this.grid[s][u].push(t),t.setGridCoordinates(n,i,o,a)},u.prototype.updateGrid=function(){var t,e,r=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<r.length;t++)e=r[t],this.addNodeToGrid(e,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(t,e,r,n){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&r||n){var o,a=new Set;t.surrounding=new Array;for(var s=this.grid,u=t.startX-1;u<t.finishX+2;u++)for(var c=t.startY-1;c<t.finishY+2;c++)if(!(u<0||c<0||u>=s.length||c>=s[0].length))for(var h=0;h<s[u][c].length;h++)if(o=s[u][c][h],t.getOwner()==o.getOwner()&&t!=o&&!e.has(o)&&!a.has(o)){var l=Math.abs(t.getCenterX()-o.getCenterX())-(t.getWidth()/2+o.getWidth()/2),f=Math.abs(t.getCenterY()-o.getCenterY())-(t.getHeight()/2+o.getHeight()/2);l<=this.repulsionRange&&f<=this.repulsionRange&&a.add(o)}t.surrounding=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(a))}for(u=0;u<t.surrounding.length;u++)this.calcRepulsionForce(t,t.surrounding[u])},u.prototype.calcRepulsionRange=function(){return 0},t.exports=u},function(t,e,r){var n=r(1),i=r(4);function o(t,e,r){n.call(this,t,e,r),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH}for(var a in o.prototype=Object.create(n.prototype),n)o[a]=n[a];t.exports=o},function(t,e,r){var n=r(3),i=r(4);function o(t,e,r,o){n.call(this,t,e,r,o),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var a in o.prototype=Object.create(n.prototype),n)o[a]=n[a];o.prototype.setGridCoordinates=function(t,e,r,n){this.startX=t,this.finishX=e,this.startY=r,this.finishY=n},t.exports=o},function(t,e,r){function n(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(t){this.width=t},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(t){this.height=t},t.exports=n},function(t,e,r){var n=r(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(t,e){var r=n.createID(t);this.contains(r)||(this.map[r]=e,this.keys.push(t))},i.prototype.contains=function(t){return n.createID(t),null!=this.map[t]},i.prototype.get=function(t){var e=n.createID(t);return this.map[e]},i.prototype.keySet=function(){return this.keys},t.exports=i},function(t,e,r){var n=r(14);function i(){this.set={}}i.prototype.add=function(t){var e=n.createID(t);this.contains(e)||(this.set[e]=t)},i.prototype.remove=function(t){delete this.set[n.createID(t)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(t){return this.set[n.createID(t)]==t},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),r=e.length,n=0;n<r;n++)t.push(this.set[e[n]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];this.add(n)}},t.exports=i},function(t,e,r){function n(){}n.multMat=function(t,e){for(var r=[],n=0;n<t.length;n++){r[n]=[];for(var i=0;i<e[0].length;i++){r[n][i]=0;for(var o=0;o<t[0].length;o++)r[n][i]+=t[n][o]*e[o][i]}}return r},n.transpose=function(t){for(var e=[],r=0;r<t[0].length;r++){e[r]=[];for(var n=0;n<t.length;n++)e[r][n]=t[n][r]}return e},n.multCons=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]*e;return r},n.minusOp=function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]-e[n];return r},n.dotProduct=function(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r},n.mag=function(t){return Math.sqrt(this.dotProduct(t,t))},n.normalize=function(t){for(var e=[],r=this.mag(t),n=0;n<t.length;n++)e[n]=t[n]/r;return e},n.multGamma=function(t){for(var e=[],r=0,n=0;n<t.length;n++)r+=t[n];r*=-1/t.length;for(var i=0;i<t.length;i++)e[i]=r+t[i];return e},n.multL=function(t,e,r){for(var n=[],i=[],o=[],a=0;a<e[0].length;a++){for(var s=0,u=0;u<e.length;u++)s+=-.5*e[u][a]*t[u];i[a]=s}for(var c=0;c<r.length;c++){for(var h=0,l=0;l<r.length;l++)h+=r[c][l]*i[l];o[c]=h}for(var f=0;f<e.length;f++){for(var d=0,p=0;p<e[0].length;p++)d+=e[f][p]*o[p];n[f]=d}return n},t.exports=n},function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(11),o=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===r&&void 0===r||(this.compareFunction=this._defaultCompareFunction);var n=void 0;n=e instanceof i?e.size():e.length,this._quicksort(e,0,n-1)}return n(t,[{key:"_quicksort",value:function(t,e,r){if(e<r){var n=this._partition(t,e,r);this._quicksort(t,e,n),this._quicksort(t,n+1,r)}}},{key:"_partition",value:function(t,e,r){for(var n=this._get(t,e),i=e,o=r;;){for(;this.compareFunction(n,this._get(t,o));)o--;for(;this.compareFunction(this._get(t,i),n);)i++;if(!(i<o))return o;this._swap(t,i,o),i++,o--}}},{key:"_get",value:function(t,e){return t instanceof i?t.get_object_at(e):t[e]}},{key:"_set",value:function(t,e,r){t instanceof i?t.set_object_at(e,r):t[e]=r}},{key:"_swap",value:function(t,e,r){var n=this._get(t,e);this._set(t,e,this._get(t,r)),this._set(t,r,n)}},{key:"_defaultCompareFunction",value:function(t,e){return e>t}}]),t}();t.exports=o},function(t,e,r){function n(){}n.svd=function(t){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=t.length,this.n=t[0].length;var e=Math.min(this.m,this.n);this.s=function(t){for(var e=[];t-- >0;)e.push(0);return e}(Math.min(this.m+1,this.n)),this.U=function t(e){if(0==e.length)return 0;for(var r=[],n=0;n<e[0];n++)r.push(t(e.slice(1)));return r}([this.m,e]),this.V=function(t){return function t(e){if(0==e.length)return 0;for(var r=[],n=0;n<e[0];n++)r.push(t(e.slice(1)));return r}(t)}([this.n,this.n]);for(var r,i,o=function(t){for(var e=[];t-- >0;)e.push(0);return e}(this.n),a=function(t){for(var e=[];t-- >0;)e.push(0);return e}(this.m),s=Math.min(this.m-1,this.n),u=Math.max(0,Math.min(this.n-2,this.m)),c=0;c<Math.max(s,u);c++){if(c<s){this.s[c]=0;for(var h=c;h<this.m;h++)this.s[c]=n.hypot(this.s[c],t[h][c]);if(0!==this.s[c]){t[c][c]<0&&(this.s[c]=-this.s[c]);for(var l=c;l<this.m;l++)t[l][c]/=this.s[c];t[c][c]+=1}this.s[c]=-this.s[c]}for(var f=c+1;f<this.n;f++){if(r=c<s,i=0!==this.s[c],r&&i){for(var d=0,p=c;p<this.m;p++)d+=t[p][c]*t[p][f];d=-d/t[c][c];for(var g=c;g<this.m;g++)t[g][f]+=d*t[g][c]}o[f]=t[c][f]}if(function(t,e){return e}(0,c<s))for(var v=c;v<this.m;v++)this.U[v][c]=t[v][c];if(c<u){o[c]=0;for(var y=c+1;y<this.n;y++)o[c]=n.hypot(o[c],o[y]);if(0!==o[c]){o[c+1]<0&&(o[c]=-o[c]);for(var m=c+1;m<this.n;m++)o[m]/=o[c];o[c+1]+=1}if(o[c]=-o[c],function(t,e){return t&&e}(c+1<this.m,0!==o[c])){for(var _=c+1;_<this.m;_++)a[_]=0;for(var w=c+1;w<this.n;w++)for(var E=c+1;E<this.m;E++)a[E]+=o[w]*t[E][w];for(var b=c+1;b<this.n;b++)for(var x=-o[b]/o[c+1],N=c+1;N<this.m;N++)t[N][b]+=x*a[N]}for(var A=c+1;A<this.n;A++)this.V[A][c]=o[A]}}var T=Math.min(this.n,this.m+1);s<this.n&&(this.s[s]=t[s][s]),this.m<T&&(this.s[T-1]=0),u+1<T&&(o[u]=t[u][T-1]),o[T-1]=0;for(var L=s;L<e;L++){for(var C=0;C<this.m;C++)this.U[C][L]=0;this.U[L][L]=1}for(var M=s-1;M>=0;M--)if(0!==this.s[M]){for(var O=M+1;O<e;O++){for(var I=0,D=M;D<this.m;D++)I+=this.U[D][M]*this.U[D][O];I=-I/this.U[M][M];for(var R=M;R<this.m;R++)this.U[R][O]+=I*this.U[R][M]}for(var F=M;F<this.m;F++)this.U[F][M]=-this.U[F][M];this.U[M][M]=1+this.U[M][M];for(var P=0;P<M-1;P++)this.U[P][M]=0}else{for(var S=0;S<this.m;S++)this.U[S][M]=0;this.U[M][M]=1}for(var G=this.n-1;G>=0;G--){if(function(t,e){return t&&e}(G<u,0!==o[G]))for(var j=G+1;j<e;j++){for(var k=0,U=G+1;U<this.n;U++)k+=this.V[U][G]*this.V[U][j];k=-k/this.V[G+1][G];for(var Y=G+1;Y<this.n;Y++)this.V[Y][j]+=k*this.V[Y][G]}for(var X=0;X<this.n;X++)this.V[X][G]=0;this.V[G][G]=1}for(var z=T-1,H=Math.pow(2,-52),B=Math.pow(2,-966);T>0;){var W=void 0,V=void 0;for(W=T-2;W>=-1&&-1!==W;W--)if(Math.abs(o[W])<=B+H*(Math.abs(this.s[W])+Math.abs(this.s[W+1]))){o[W]=0;break}if(W===T-2)V=4;else{var q=void 0;for(q=T-1;q>=W&&q!==W;q--){var $=(q!==T?Math.abs(o[q]):0)+(q!==W+1?Math.abs(o[q-1]):0);if(Math.abs(this.s[q])<=B+H*$){this.s[q]=0;break}}q===W?V=3:q===T-1?V=1:(V=2,W=q)}switch(W++,V){case 1:var Z=o[T-2];o[T-2]=0;for(var K=T-2;K>=W;K--){var Q=n.hypot(this.s[K],Z),J=this.s[K]/Q,tt=Z/Q;this.s[K]=Q,K!==W&&(Z=-tt*o[K-1],o[K-1]=J*o[K-1]);for(var et=0;et<this.n;et++)Q=J*this.V[et][K]+tt*this.V[et][T-1],this.V[et][T-1]=-tt*this.V[et][K]+J*this.V[et][T-1],this.V[et][K]=Q}break;case 2:var rt=o[W-1];o[W-1]=0;for(var nt=W;nt<T;nt++){var it=n.hypot(this.s[nt],rt),ot=this.s[nt]/it,at=rt/it;this.s[nt]=it,rt=-at*o[nt],o[nt]=ot*o[nt];for(var st=0;st<this.m;st++)it=ot*this.U[st][nt]+at*this.U[st][W-1],this.U[st][W-1]=-at*this.U[st][nt]+ot*this.U[st][W-1],this.U[st][nt]=it}break;case 3:var ut=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[T-1]),Math.abs(this.s[T-2])),Math.abs(o[T-2])),Math.abs(this.s[W])),Math.abs(o[W])),ct=this.s[T-1]/ut,ht=this.s[T-2]/ut,lt=o[T-2]/ut,ft=this.s[W]/ut,dt=o[W]/ut,pt=((ht+ct)*(ht-ct)+lt*lt)/2,gt=ct*lt*(ct*lt),vt=0;(function(t,e){return t||e})(0!==pt,0!==gt)&&(vt=Math.sqrt(pt*pt+gt),pt<0&&(vt=-vt),vt=gt/(pt+vt));for(var yt=(ft+ct)*(ft-ct)+vt,mt=ft*dt,_t=W;_t<T-1;_t++){var wt=n.hypot(yt,mt),Et=yt/wt,bt=mt/wt;_t!==W&&(o[_t-1]=wt),yt=Et*this.s[_t]+bt*o[_t],o[_t]=Et*o[_t]-bt*this.s[_t],mt=bt*this.s[_t+1],this.s[_t+1]=Et*this.s[_t+1];for(var xt=0;xt<this.n;xt++)wt=Et*this.V[xt][_t]+bt*this.V[xt][_t+1],this.V[xt][_t+1]=-bt*this.V[xt][_t]+Et*this.V[xt][_t+1],this.V[xt][_t]=wt;if(Et=yt/(wt=n.hypot(yt,mt)),bt=mt/wt,this.s[_t]=wt,yt=Et*o[_t]+bt*this.s[_t+1],this.s[_t+1]=-bt*o[_t]+Et*this.s[_t+1],mt=bt*o[_t+1],o[_t+1]=Et*o[_t+1],_t<this.m-1)for(var Nt=0;Nt<this.m;Nt++)wt=Et*this.U[Nt][_t]+bt*this.U[Nt][_t+1],this.U[Nt][_t+1]=-bt*this.U[Nt][_t]+Et*this.U[Nt][_t+1],this.U[Nt][_t]=wt}o[T-2]=yt;break;case 4:if(this.s[W]<=0){this.s[W]=this.s[W]<0?-this.s[W]:0;for(var At=0;At<=z;At++)this.V[At][W]=-this.V[At][W]}for(;W<z&&!(this.s[W]>=this.s[W+1]);){var Tt=this.s[W];if(this.s[W]=this.s[W+1],this.s[W+1]=Tt,W<this.n-1)for(var Lt=0;Lt<this.n;Lt++)Tt=this.V[Lt][W+1],this.V[Lt][W+1]=this.V[Lt][W],this.V[Lt][W]=Tt;if(W<this.m-1)for(var Ct=0;Ct<this.m;Ct++)Tt=this.U[Ct][W+1],this.U[Ct][W+1]=this.U[Ct][W],this.U[Ct][W]=Tt;W++}T--}}return{U:this.U,V:this.V,S:this.s}},n.hypot=function(t,e){var r=void 0;return Math.abs(t)>Math.abs(e)?(r=e/t,r=Math.abs(t)*Math.sqrt(1+r*r)):0!=e?(r=t/e,r=Math.abs(e)*Math.sqrt(1+r*r)):r=0,r},t.exports=n},function(t,e,r){var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,t),this.sequence1=e,this.sequence2=r,this.match_score=n,this.mismatch_penalty=o,this.gap_penalty=a,this.iMax=e.length+1,this.jMax=r.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.grid[s][u]=0}this.tracebackGrid=new Array(this.iMax);for(var c=0;c<this.iMax;c++){this.tracebackGrid[c]=new Array(this.jMax);for(var h=0;h<this.jMax;h++)this.tracebackGrid[c][h]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(t,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var t=1;t<this.jMax;t++)this.grid[0][t]=this.grid[0][t-1]+this.gap_penalty,this.tracebackGrid[0][t]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var r=1;r<this.iMax;r++)for(var n=1;n<this.jMax;n++){var i=[this.sequence1[r-1]===this.sequence2[n-1]?this.grid[r-1][n-1]+this.match_score:this.grid[r-1][n-1]+this.mismatch_penalty,this.grid[r-1][n]+this.gap_penalty,this.grid[r][n-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(i);this.grid[r][n]=i[o[0]],this.tracebackGrid[r][n]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var t=[];for(t.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});t[0];){var e=t[0],r=this.tracebackGrid[e.pos[0]][e.pos[1]];r[0]&&t.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),r[1]&&t.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),r[2]&&t.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),t.shift()}return this.alignments}},{key:"getAllIndexes",value:function(t,e){for(var r=[],n=-1;-1!==(n=t.indexOf(e,n+1));)r.push(n);return r}},{key:"arrayAllMaxIndexes",value:function(t){return this.getAllIndexes(t,Math.max.apply(null,t))}}]),t}();t.exports=o},function(t,e,r){var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(4),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(5),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(25),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(6),n.LEdge=r(1),n.LGraphManager=r(7),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(27),n.Matrix=r(24),n.SVD=r(26),t.exports=n},function(t,e,r){function n(){this.listeners=[]}var i=n.prototype;i.addListener=function(t,e){this.listeners.push({event:t,callback:e})},i.removeListener=function(t,e){for(var r=this.listeners.length;r>=0;r--){var n=this.listeners[r];n.event===t&&n.callback===e&&this.listeners.splice(r,1)}},i.emit=function(t,e){for(var r=0;r<this.listeners.length;r++){var n=this.listeners[r];t===n.event&&n.callback(e)}},t.exports=n}])},c.exports=s(),function(t,e){!function(e,r){t.exports=r(c.exports)}(0,(function(t){return e={45:(t,e,r)=>{var n={};n.layoutBase=r(551),n.CoSEConstants=r(806),n.CoSEEdge=r(767),n.CoSEGraph=r(880),n.CoSEGraphManager=r(578),n.CoSELayout=r(765),n.CoSENode=r(991),n.ConstraintHandler=r(902),t.exports=n},806:(t,e,r)=>{var n=r(551).FDLayoutConstants;function i(){}for(var o in n)i[o]=n[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!0,i.PURE_INCREMENTAL=i.DEFAULT_INCREMENTAL,t.exports=i},767:(t,e,r)=>{var n=r(551).FDLayoutEdge;function i(t,e,r){n.call(this,t,e,r)}for(var o in i.prototype=Object.create(n.prototype),n)i[o]=n[o];t.exports=i},880:(t,e,r)=>{var n=r(551).LGraph;function i(t,e,r){n.call(this,t,e,r)}for(var o in i.prototype=Object.create(n.prototype),n)i[o]=n[o];t.exports=i},578:(t,e,r)=>{var n=r(551).LGraphManager;function i(t){n.call(this,t)}for(var o in i.prototype=Object.create(n.prototype),n)i[o]=n[o];t.exports=i},765:(t,e,r)=>{var n=r(551).FDLayout,i=r(578),o=r(880),a=r(991),s=r(767),u=r(806),c=r(902),h=r(551).FDLayoutConstants,l=r(551).LayoutConstants,f=r(551).Point,d=r(551).PointD,p=r(551).DimensionD,g=r(551).Layout,v=r(551).Integer,y=r(551).IGeometry,m=r(551).LGraph,_=r(551).Transform,w=r(551).LinkedList;function E(){n.call(this),this.toBeTiled={},this.constraints={}}for(var b in E.prototype=Object.create(n.prototype),n)E[b]=n[b];E.prototype.newGraphManager=function(){var t=new i(this);return this.graphManager=t,t},E.prototype.newGraph=function(t){return new o(null,this.graphManager,t)},E.prototype.newNode=function(t){return new a(this.graphManager,t)},E.prototype.newEdge=function(t){return new s(null,null,t)},E.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(u.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=h.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=h.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=h.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},E.prototype.initSpringEmbedder=function(){n.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/h.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},E.prototype.layout=function(){return l.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},E.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)u.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),e=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(t){return e.has(t)})),this.graphManager.setAllNodesToApplyGravitation(r));else{var t=this.getFlatForest();if(t.length>0)this.positionNodesRadially(t);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(t){return e.has(t)}));this.graphManager.setAllNodesToApplyGravitation(r),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(c.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),u.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},E.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%h.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),e=this.nodesWithGravity.filter((function(e){return t.has(e)}));this.graphManager.setAllNodesToApplyGravitation(e),this.graphManager.updateBounds(),this.updateGrid(),u.PURE_INCREMENTAL?this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),u.PURE_INCREMENTAL?this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var r=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(r,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},E.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},r=0;r<t.length;r++){var n=t[r].rect,i=t[r].id;e[i]={id:i,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return e},E.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===h.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},E.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),e=0;e<t.length;e++)t[e].move()},E.prototype.initConstraintVariables=function(){var t=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var e=this.graphManager.getAllNodes(),r=0;r<e.length;r++){var n=e[r];this.idToNodeMap.set(n.id,n)}var i=function e(r){for(var n,i=r.getChild().getNodes(),o=0,a=0;a<i.length;a++)null==(n=i[a]).getChild()?t.fixedNodeSet.has(n.id)&&(o+=100):o+=e(n);return o};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach((function(e){t.fixedNodeSet.add(e.nodeId)})),e=this.graphManager.getAllNodes(),r=0;r<e.length;r++)if(null!=(n=e[r]).getChild()){var o=i(n);o>0&&(n.fixedNodeWeight=o)}if(this.constraints.relativePlacementConstraint){var a=new Map,s=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach((function(e){t.fixedNodesOnHorizontal.add(e),t.fixedNodesOnVertical.add(e)})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var c=this.constraints.alignmentConstraint.vertical;for(r=0;r<c.length;r++)this.dummyToNodeForVerticalAlignment.set("dummy"+r,[]),c[r].forEach((function(e){a.set(e,"dummy"+r),t.dummyToNodeForVerticalAlignment.get("dummy"+r).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnHorizontal.add("dummy"+r)}))}if(this.constraints.alignmentConstraint.horizontal){var h=this.constraints.alignmentConstraint.horizontal;for(r=0;r<h.length;r++)this.dummyToNodeForHorizontalAlignment.set("dummy"+r,[]),h[r].forEach((function(e){s.set(e,"dummy"+r),t.dummyToNodeForHorizontalAlignment.get("dummy"+r).push(e),t.fixedNodeSet.has(e)&&t.fixedNodesOnVertical.add("dummy"+r)}))}}if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(t){var e,r,n;for(n=t.length-1;n>=2*t.length/3;n--)e=Math.floor(Math.random()*(n+1)),r=t[n],t[n]=t[e],t[e]=r;return t},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach((function(e){if(e.left){var r=a.has(e.left)?a.get(e.left):e.left,n=a.has(e.right)?a.get(e.right):e.right;t.nodesInRelativeHorizontal.includes(r)||(t.nodesInRelativeHorizontal.push(r),t.nodeToRelativeConstraintMapHorizontal.set(r,[]),t.dummyToNodeForVerticalAlignment.has(r)?t.nodeToTempPositionMapHorizontal.set(r,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(r,t.idToNodeMap.get(r).getCenterX())),t.nodesInRelativeHorizontal.includes(n)||(t.nodesInRelativeHorizontal.push(n),t.nodeToRelativeConstraintMapHorizontal.set(n,[]),t.dummyToNodeForVerticalAlignment.has(n)?t.nodeToTempPositionMapHorizontal.set(n,t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):t.nodeToTempPositionMapHorizontal.set(n,t.idToNodeMap.get(n).getCenterX())),t.nodeToRelativeConstraintMapHorizontal.get(r).push({right:n,gap:e.gap}),t.nodeToRelativeConstraintMapHorizontal.get(n).push({left:r,gap:e.gap})}else{var i=s.has(e.top)?s.get(e.top):e.top,o=s.has(e.bottom)?s.get(e.bottom):e.bottom;t.nodesInRelativeVertical.includes(i)||(t.nodesInRelativeVertical.push(i),t.nodeToRelativeConstraintMapVertical.set(i,[]),t.dummyToNodeForHorizontalAlignment.has(i)?t.nodeToTempPositionMapVertical.set(i,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(i,t.idToNodeMap.get(i).getCenterY())),t.nodesInRelativeVertical.includes(o)||(t.nodesInRelativeVertical.push(o),t.nodeToRelativeConstraintMapVertical.set(o,[]),t.dummyToNodeForHorizontalAlignment.has(o)?t.nodeToTempPositionMapVertical.set(o,t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(o)[0]).getCenterY()):t.nodeToTempPositionMapVertical.set(o,t.idToNodeMap.get(o).getCenterY())),t.nodeToRelativeConstraintMapVertical.get(i).push({bottom:o,gap:e.gap}),t.nodeToRelativeConstraintMapVertical.get(o).push({top:i,gap:e.gap})}}));else{var l=new Map,f=new Map;this.constraints.relativePlacementConstraint.forEach((function(t){if(t.left){var e=a.has(t.left)?a.get(t.left):t.left,r=a.has(t.right)?a.get(t.right):t.right;l.has(e)?l.get(e).push(r):l.set(e,[r]),l.has(r)?l.get(r).push(e):l.set(r,[e])}else{var n=s.has(t.top)?s.get(t.top):t.top,i=s.has(t.bottom)?s.get(t.bottom):t.bottom;f.has(n)?f.get(n).push(i):f.set(n,[i]),f.has(i)?f.get(i).push(n):f.set(i,[n])}}));var d=function(t,e){var r=[],n=[],i=new w,o=new Set,a=0;return t.forEach((function(s,u){if(!o.has(u)){r[a]=[],n[a]=!1;var c=u;for(i.push(c),o.add(c),r[a].push(c);0!=i.length;)c=i.shift(),e.has(c)&&(n[a]=!0),t.get(c).forEach((function(t){o.has(t)||(i.push(t),o.add(t),r[a].push(t))}));a++}})),{components:r,isFixed:n}},p=d(l,t.fixedNodesOnHorizontal);this.componentsOnHorizontal=p.components,this.fixedComponentsOnHorizontal=p.isFixed;var g=d(f,t.fixedNodesOnVertical);this.componentsOnVertical=g.components,this.fixedComponentsOnVertical=g.isFixed}}},E.prototype.updateDisplacements=function(){var t=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach((function(e){var r=t.idToNodeMap.get(e.nodeId);r.displacementX=0,r.displacementY=0})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var e=this.constraints.alignmentConstraint.vertical,r=0;r<e.length;r++){for(var n=0,i=0;i<e[r].length;i++){if(this.fixedNodeSet.has(e[r][i])){n=0;break}n+=this.idToNodeMap.get(e[r][i]).displacementX}var o=n/e[r].length;for(i=0;i<e[r].length;i++)this.idToNodeMap.get(e[r][i]).displacementX=o}if(this.constraints.alignmentConstraint.horizontal){var a=this.constraints.alignmentConstraint.horizontal;for(r=0;r<a.length;r++){var s=0;for(i=0;i<a[r].length;i++){if(this.fixedNodeSet.has(a[r][i])){s=0;break}s+=this.idToNodeMap.get(a[r][i]).displacementY}var c=s/a[r].length;for(i=0;i<a[r].length;i++)this.idToNodeMap.get(a[r][i]).displacementY=c}}}if(this.constraints.relativePlacementConstraint)if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach((function(e){if(!t.fixedNodesOnHorizontal.has(e)){var r=0;r=t.dummyToNodeForVerticalAlignment.has(e)?t.idToNodeMap.get(t.dummyToNodeForVerticalAlignment.get(e)[0]).displacementX:t.idToNodeMap.get(e).displacementX,t.nodeToRelativeConstraintMapHorizontal.get(e).forEach((function(n){var i;n.right?(i=t.nodeToTempPositionMapHorizontal.get(n.right)-t.nodeToTempPositionMapHorizontal.get(e)-r)<n.gap&&(r-=n.gap-i):(i=t.nodeToTempPositionMapHorizontal.get(e)-t.nodeToTempPositionMapHorizontal.get(n.left)+r)<n.gap&&(r+=n.gap-i)})),t.nodeToTempPositionMapHorizontal.set(e,t.nodeToTempPositionMapHorizontal.get(e)+r),t.dummyToNodeForVerticalAlignment.has(e)?t.dummyToNodeForVerticalAlignment.get(e).forEach((function(e){t.idToNodeMap.get(e).displacementX=r})):t.idToNodeMap.get(e).displacementX=r}})),this.nodesInRelativeVertical.forEach((function(e){if(!t.fixedNodesOnHorizontal.has(e)){var r=0;r=t.dummyToNodeForHorizontalAlignment.has(e)?t.idToNodeMap.get(t.dummyToNodeForHorizontalAlignment.get(e)[0]).displacementY:t.idToNodeMap.get(e).displacementY,t.nodeToRelativeConstraintMapVertical.get(e).forEach((function(n){var i;n.bottom?(i=t.nodeToTempPositionMapVertical.get(n.bottom)-t.nodeToTempPositionMapVertical.get(e)-r)<n.gap&&(r-=n.gap-i):(i=t.nodeToTempPositionMapVertical.get(e)-t.nodeToTempPositionMapVertical.get(n.top)+r)<n.gap&&(r+=n.gap-i)})),t.nodeToTempPositionMapVertical.set(e,t.nodeToTempPositionMapVertical.get(e)+r),t.dummyToNodeForHorizontalAlignment.has(e)?t.dummyToNodeForHorizontalAlignment.get(e).forEach((function(e){t.idToNodeMap.get(e).displacementY=r})):t.idToNodeMap.get(e).displacementY=r}}));else{for(r=0;r<this.componentsOnHorizontal.length;r++){var h=this.componentsOnHorizontal[r];if(this.fixedComponentsOnHorizontal[r])for(i=0;i<h.length;i++)this.dummyToNodeForVerticalAlignment.has(h[i])?this.dummyToNodeForVerticalAlignment.get(h[i]).forEach((function(e){t.idToNodeMap.get(e).displacementX=0})):this.idToNodeMap.get(h[i]).displacementX=0;else{var l=0,f=0;for(i=0;i<h.length;i++)this.dummyToNodeForVerticalAlignment.has(h[i])?(l+=(p=this.dummyToNodeForVerticalAlignment.get(h[i])).length*this.idToNodeMap.get(p[0]).displacementX,f+=p.length):(l+=this.idToNodeMap.get(h[i]).displacementX,f++);var d=l/f;for(i=0;i<h.length;i++)this.dummyToNodeForVerticalAlignment.has(h[i])?this.dummyToNodeForVerticalAlignment.get(h[i]).forEach((function(e){t.idToNodeMap.get(e).displacementX=d})):this.idToNodeMap.get(h[i]).displacementX=d}}for(r=0;r<this.componentsOnVertical.length;r++)if(h=this.componentsOnVertical[r],this.fixedComponentsOnVertical[r])for(i=0;i<h.length;i++)this.dummyToNodeForHorizontalAlignment.has(h[i])?this.dummyToNodeForHorizontalAlignment.get(h[i]).forEach((function(e){t.idToNodeMap.get(e).displacementY=0})):this.idToNodeMap.get(h[i]).displacementY=0;else{for(l=0,f=0,i=0;i<h.length;i++){var p;this.dummyToNodeForHorizontalAlignment.has(h[i])?(l+=(p=this.dummyToNodeForHorizontalAlignment.get(h[i])).length*this.idToNodeMap.get(p[0]).displacementY,f+=p.length):(l+=this.idToNodeMap.get(h[i]).displacementY,f++)}for(d=l/f,i=0;i<h.length;i++)this.dummyToNodeForHorizontalAlignment.has(h[i])?this.dummyToNodeForHorizontalAlignment.get(h[i]).forEach((function(e){t.idToNodeMap.get(e).displacementY=d})):this.idToNodeMap.get(h[i]).displacementY=d}}},E.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,r=[],n=this.graphManager.getGraphs(),i=n.length;for(e=0;e<i;e++)(t=n[e]).updateConnected(),t.isConnected||(r=r.concat(t.getNodes()));return r},E.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,r=new Set;for(e=0;e<t.length;e++){var n=t[e];if(!r.has(n)){var i=n.getSource(),o=n.getTarget();if(i==o)n.getBendpoints().push(new d),n.getBendpoints().push(new d),this.createDummyNodesForBendpoints(n),r.add(n);else{var a=[];if(a=(a=a.concat(i.getEdgeListToNode(o))).concat(o.getEdgeListToNode(i)),!r.has(a[0])){var s;if(a.length>1)for(s=0;s<a.length;s++){var u=a[s];u.getBendpoints().push(new d),this.createDummyNodesForBendpoints(u)}a.forEach((function(t){r.add(t)}))}}}if(r.size==t.length)break}},E.prototype.positionNodesRadially=function(t){for(var e=new f(0,0),r=Math.ceil(Math.sqrt(t.length)),n=0,i=0,o=0,a=new d(0,0),s=0;s<t.length;s++){s%r==0&&(o=0,i=n,0!=s&&(i+=u.DEFAULT_COMPONENT_SEPERATION),n=0);var c=t[s],h=g.findCenterOfTree(c);e.x=o,e.y=i,(a=E.radialLayout(c,h,e)).y>n&&(n=Math.floor(a.y)),o=Math.floor(a.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(l.WORLD_CENTER_X-a.x/2,l.WORLD_CENTER_Y-a.y/2))},E.radialLayout=function(t,e,r){var n=Math.max(this.maxDiagonalInTree(t),u.DEFAULT_RADIAL_SEPARATION);E.branchRadialLayout(e,null,0,359,0,n);var i=m.calculateBounds(t),o=new _;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(r.x),o.setWorldOrgY(r.y);for(var a=0;a<t.length;a++)t[a].transform(o);var s=new d(i.getMaxX(),i.getMaxY());return o.inverseTransformPoint(s)},E.branchRadialLayout=function(t,e,r,n,i,o){var a=(n-r+1)/2;a<0&&(a+=180);var s=(a+r)%360*y.TWO_PI/360,u=i*Math.cos(s),c=i*Math.sin(s);t.setCenter(u,c);var h=[],l=(h=h.concat(t.getEdges())).length;null!=e&&l--;for(var f,d=0,p=h.length,g=t.getEdgesBetween(e);g.length>1;){var v=g[0];g.splice(0,1);var m=h.indexOf(v);m>=0&&h.splice(m,1),p--,l--}f=null!=e?(h.indexOf(g[0])+1)%p:0;for(var _=Math.abs(n-r)/l,w=f;d!=l;w=++w%p){var b=h[w].getOtherEnd(t);if(b!=e){var x=(r+d*_)%360,N=(x+_)%360;E.branchRadialLayout(b,t,x,N,i+o,o),d++}}},E.maxDiagonalInTree=function(t){for(var e=v.MIN_VALUE,r=0;r<t.length;r++){var n=t[r].getDiagonal();n>e&&(e=n)}return e},E.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},E.prototype.groupZeroDegreeMembers=function(){var t=this,e={};this.memberGroups={},this.idToDummyNode={};for(var r=[],n=this.graphManager.getAllNodes(),i=0;i<n.length;i++){var o=(s=n[i]).getParent();0!==this.getNodeDegreeWithChildren(s)||null!=o.id&&this.getToBeTiled(o)||r.push(s)}for(i=0;i<r.length;i++){var s,u=(s=r[i]).getParent().id;void 0===e[u]&&(e[u]=[]),e[u]=e[u].concat(s)}Object.keys(e).forEach((function(r){if(e[r].length>1){var n="DummyCompound_"+r;t.memberGroups[n]=e[r];var i=e[r][0].getParent(),o=new a(t.graphManager);o.id=n,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,t.idToDummyNode[n]=o;var s=t.getGraphManager().add(t.newGraph(),o),u=i.getChild();u.add(o);for(var c=0;c<e[r].length;c++){var h=e[r][c];u.remove(h),s.add(h)}}}))},E.prototype.clearCompounds=function(){var t={},e={};this.performDFSOnCompounds();for(var r=0;r<this.compoundOrder.length;r++)e[this.compoundOrder[r].id]=this.compoundOrder[r],t[this.compoundOrder[r].id]=[].concat(this.compoundOrder[r].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[r].getChild()),this.compoundOrder[r].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(t,e)},E.prototype.clearZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach((function(r){var n=t.idToDummyNode[r];if(e[r]=t.tileNodes(t.memberGroups[r],n.paddingLeft+n.paddingRight),n.rect.width=e[r].width,n.rect.height=e[r].height,n.setCenter(e[r].centerX,e[r].centerY),n.labelMarginLeft=0,n.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var i=n.rect.width,o=n.rect.height;n.labelWidth&&("left"==n.labelPosHorizontal?(n.rect.x-=n.labelWidth,n.setWidth(i+n.labelWidth),n.labelMarginLeft=n.labelWidth):"center"==n.labelPosHorizontal&&n.labelWidth>i?(n.rect.x-=(n.labelWidth-i)/2,n.setWidth(n.labelWidth),n.labelMarginLeft=(n.labelWidth-i)/2):"right"==n.labelPosHorizontal&&n.setWidth(i+n.labelWidth)),n.labelHeight&&("top"==n.labelPosVertical?(n.rect.y-=n.labelHeight,n.setHeight(o+n.labelHeight),n.labelMarginTop=n.labelHeight):"center"==n.labelPosVertical&&n.labelHeight>o?(n.rect.y-=(n.labelHeight-o)/2,n.setHeight(n.labelHeight),n.labelMarginTop=(n.labelHeight-o)/2):"bottom"==n.labelPosVertical&&n.setHeight(o+n.labelHeight))}}))},E.prototype.repopulateCompounds=function(){for(var t=this.compoundOrder.length-1;t>=0;t--){var e=this.compoundOrder[t],r=e.id,n=e.paddingLeft,i=e.paddingTop,o=e.labelMarginLeft,a=e.labelMarginTop;this.adjustLocations(this.tiledMemberPack[r],e.rect.x,e.rect.y,n,i,o,a)}},E.prototype.repopulateZeroDegreeMembers=function(){var t=this,e=this.tiledZeroDegreePack;Object.keys(e).forEach((function(r){var n=t.idToDummyNode[r],i=n.paddingLeft,o=n.paddingTop,a=n.labelMarginLeft,s=n.labelMarginTop;t.adjustLocations(e[r],n.rect.x,n.rect.y,i,o,a,s)}))},E.prototype.getToBeTiled=function(t){var e=t.id;if(null!=this.toBeTiled[e])return this.toBeTiled[e];var r=t.getChild();if(null==r)return this.toBeTiled[e]=!1,!1;for(var n=r.getNodes(),i=0;i<n.length;i++){var o=n[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[e]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[e]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[e]=!0,!0},E.prototype.getNodeDegree=function(t){t.id;for(var e=t.getEdges(),r=0,n=0;n<e.length;n++){var i=e[n];i.getSource().id!==i.getTarget().id&&(r+=1)}return r},E.prototype.getNodeDegreeWithChildren=function(t){var e=this.getNodeDegree(t);if(null==t.getChild())return e;for(var r=t.getChild().getNodes(),n=0;n<r.length;n++){var i=r[n];e+=this.getNodeDegreeWithChildren(i)}return e},E.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},E.prototype.fillCompexOrderByDFS=function(t){for(var e=0;e<t.length;e++){var r=t[e];null!=r.getChild()&&this.fillCompexOrderByDFS(r.getChild().getNodes()),this.getToBeTiled(r)&&this.compoundOrder.push(r)}},E.prototype.adjustLocations=function(t,e,r,n,i,o,a){r+=i+a;for(var s=e+=n+o,u=0;u<t.rows.length;u++){var c=t.rows[u];e=s;for(var h=0,l=0;l<c.length;l++){var f=c[l];f.rect.x=e,f.rect.y=r,e+=f.rect.width+t.horizontalPadding,f.rect.height>h&&(h=f.rect.height)}r+=h+t.verticalPadding}},E.prototype.tileCompoundMembers=function(t,e){var r=this;this.tiledMemberPack=[],Object.keys(t).forEach((function(n){var i=e[n];if(r.tiledMemberPack[n]=r.tileNodes(t[n],i.paddingLeft+i.paddingRight),i.rect.width=r.tiledMemberPack[n].width,i.rect.height=r.tiledMemberPack[n].height,i.setCenter(r.tiledMemberPack[n].centerX,r.tiledMemberPack[n].centerY),i.labelMarginLeft=0,i.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var o=i.rect.width,a=i.rect.height;i.labelWidth&&("left"==i.labelPosHorizontal?(i.rect.x-=i.labelWidth,i.setWidth(o+i.labelWidth),i.labelMarginLeft=i.labelWidth):"center"==i.labelPosHorizontal&&i.labelWidth>o?(i.rect.x-=(i.labelWidth-o)/2,i.setWidth(i.labelWidth),i.labelMarginLeft=(i.labelWidth-o)/2):"right"==i.labelPosHorizontal&&i.setWidth(o+i.labelWidth)),i.labelHeight&&("top"==i.labelPosVertical?(i.rect.y-=i.labelHeight,i.setHeight(a+i.labelHeight),i.labelMarginTop=i.labelHeight):"center"==i.labelPosVertical&&i.labelHeight>a?(i.rect.y-=(i.labelHeight-a)/2,i.setHeight(i.labelHeight),i.labelMarginTop=(i.labelHeight-a)/2):"bottom"==i.labelPosVertical&&i.setHeight(a+i.labelHeight))}}))},E.prototype.tileNodes=function(t,e){var r=this.tileNodesByFavoringDim(t,e,!0),n=this.tileNodesByFavoringDim(t,e,!1),i=this.getOrgRatio(r);return this.getOrgRatio(n)<i?n:r},E.prototype.getOrgRatio=function(t){var e=t.width/t.height;return e<1&&(e=1/e),e},E.prototype.calcIdealRowWidth=function(t,e){var r=u.TILING_PADDING_VERTICAL,n=u.TILING_PADDING_HORIZONTAL,i=t.length,o=0,a=0,s=0;t.forEach((function(t){o+=t.getWidth(),a+=t.getHeight(),t.getWidth()>s&&(s=t.getWidth())}));var c,h=o/i,l=a/i,f=Math.pow(r-n,2)+4*(h+n)*(l+r)*i,d=(n-r+Math.sqrt(f))/(2*(h+n));e?(c=Math.ceil(d))==d&&c++:c=Math.floor(d);var p=c*(h+n)-n;return s>p&&(p=s),p+=2*n},E.prototype.tileNodesByFavoringDim=function(t,e,r){var n=u.TILING_PADDING_VERTICAL,i=u.TILING_PADDING_HORIZONTAL,o=u.TILING_COMPARE_BY,a={rows:[],rowWidth:[],rowHeight:[],width:0,height:e,verticalPadding:n,horizontalPadding:i,centerX:0,centerY:0};o&&(a.idealRowWidth=this.calcIdealRowWidth(t,r));var s=function(t){return t.rect.width*t.rect.height},c=function(t,e){return s(e)-s(t)};t.sort((function(t,e){var r=c;return a.idealRowWidth?(r=o)(t.id,e.id):r(t,e)}));for(var h=0,l=0,f=0;f<t.length;f++)h+=(d=t[f]).getCenterX(),l+=d.getCenterY();for(a.centerX=h/t.length,a.centerY=l/t.length,f=0;f<t.length;f++){var d=t[f];if(0==a.rows.length)this.insertNodeToRow(a,d,0,e);else if(this.canAddHorizontal(a,d.rect.width,d.rect.height)){var p=a.rows.length-1;a.idealRowWidth||(p=this.getShortestRowIndex(a)),this.insertNodeToRow(a,d,p,e)}else this.insertNodeToRow(a,d,a.rows.length,e);this.shiftToLastRow(a)}return a},E.prototype.insertNodeToRow=function(t,e,r,n){var i=n;r==t.rows.length&&(t.rows.push([]),t.rowWidth.push(i),t.rowHeight.push(0));var o=t.rowWidth[r]+e.rect.width;t.rows[r].length>0&&(o+=t.horizontalPadding),t.rowWidth[r]=o,t.width<o&&(t.width=o);var a=e.rect.height;r>0&&(a+=t.verticalPadding);var s=0;a>t.rowHeight[r]&&(s=t.rowHeight[r],t.rowHeight[r]=a,s=t.rowHeight[r]-s),t.height+=s,t.rows[r].push(e)},E.prototype.getShortestRowIndex=function(t){for(var e=-1,r=Number.MAX_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]<r&&(e=n,r=t.rowWidth[n]);return e},E.prototype.getLongestRowIndex=function(t){for(var e=-1,r=Number.MIN_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]>r&&(e=n,r=t.rowWidth[n]);return e},E.prototype.canAddHorizontal=function(t,e,r){if(t.idealRowWidth){var n=t.rows.length-1;return t.rowWidth[n]+e+t.horizontalPadding<=t.idealRowWidth}var i=this.getShortestRowIndex(t);if(i<0)return!0;var o=t.rowWidth[i];if(o+t.horizontalPadding+e<=t.width)return!0;var a,s,u=0;return t.rowHeight[i]<r&&i>0&&(u=r+t.verticalPadding-t.rowHeight[i]),a=t.width-o>=e+t.horizontalPadding?(t.height+u)/(o+e+t.horizontalPadding):(t.height+u)/t.width,u=r+t.verticalPadding,(s=t.width<e?(t.height+u)/e:(t.height+u)/t.width)<1&&(s=1/s),a<1&&(a=1/a),a<s},E.prototype.shiftToLastRow=function(t){var e=this.getLongestRowIndex(t),r=t.rowWidth.length-1,n=t.rows[e],i=n[n.length-1],o=i.width+t.horizontalPadding;if(t.width-t.rowWidth[r]>o&&e!=r){n.splice(-1,1),t.rows[r].push(i),t.rowWidth[e]=t.rowWidth[e]-o,t.rowWidth[r]=t.rowWidth[r]+o,t.width=t.rowWidth[instance.getLongestRowIndex(t)];for(var a=Number.MIN_VALUE,s=0;s<n.length;s++)n[s].height>a&&(a=n[s].height);e>0&&(a+=t.verticalPadding);var u=t.rowHeight[e]+t.rowHeight[r];t.rowHeight[e]=a,t.rowHeight[r]<i.height+t.verticalPadding&&(t.rowHeight[r]=i.height+t.verticalPadding);var c=t.rowHeight[e]+t.rowHeight[r];t.height+=c-u,this.shiftToLastRow(t)}},E.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},E.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},E.prototype.reduceTrees=function(){for(var t,e=[],r=!0;r;){var n=this.graphManager.getAllNodes(),i=[];r=!1;for(var o=0;o<n.length;o++)if(1==(t=n[o]).getEdges().length&&!t.getEdges()[0].isInterGraph&&null==t.getChild()){if(u.PURE_INCREMENTAL){var a=t.getEdges()[0].getOtherEnd(t),s=new p(t.getCenterX()-a.getCenterX(),t.getCenterY()-a.getCenterY());i.push([t,t.getEdges()[0],t.getOwner(),s])}else i.push([t,t.getEdges()[0],t.getOwner()]);r=!0}if(1==r){for(var c=[],h=0;h<i.length;h++)1==i[h][0].getEdges().length&&(c.push(i[h]),i[h][0].getOwner().remove(i[h][0]));e.push(c),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=e},E.prototype.growTree=function(t){for(var e,r=t[t.length-1],n=0;n<r.length;n++)e=r[n],this.findPlaceforPrunedNode(e),e[2].add(e[0]),e[2].add(e[1],e[1].source,e[1].target);t.splice(t.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},E.prototype.findPlaceforPrunedNode=function(t){var e,r,n=t[0];if(r=n==t[1].source?t[1].target:t[1].source,u.PURE_INCREMENTAL)n.setCenter(r.getCenterX()+t[3].getWidth(),r.getCenterY()+t[3].getHeight());else{var i=r.startX,o=r.finishX,a=r.startY,s=r.finishY,c=[0,0,0,0];if(a>0)for(var l=i;l<=o;l++)c[0]+=this.grid[l][a-1].length+this.grid[l][a].length-1;if(o<this.grid.length-1)for(l=a;l<=s;l++)c[1]+=this.grid[o+1][l].length+this.grid[o][l].length-1;if(s<this.grid[0].length-1)for(l=i;l<=o;l++)c[2]+=this.grid[l][s+1].length+this.grid[l][s].length-1;if(i>0)for(l=a;l<=s;l++)c[3]+=this.grid[i-1][l].length+this.grid[i][l].length-1;for(var f,d,p=v.MAX_VALUE,g=0;g<c.length;g++)c[g]<p?(p=c[g],f=1,d=g):c[g]==p&&f++;if(3==f&&0==p)0==c[0]&&0==c[1]&&0==c[2]?e=1:0==c[0]&&0==c[1]&&0==c[3]?e=0:0==c[0]&&0==c[2]&&0==c[3]?e=3:0==c[1]&&0==c[2]&&0==c[3]&&(e=2);else if(2==f&&0==p){var y=Math.floor(2*Math.random());e=0==c[0]&&0==c[1]?0==y?0:1:0==c[0]&&0==c[2]?0==y?0:2:0==c[0]&&0==c[3]?0==y?0:3:0==c[1]&&0==c[2]?0==y?1:2:0==c[1]&&0==c[3]?0==y?1:3:0==y?2:3}else e=4==f&&0==p?y=Math.floor(4*Math.random()):d;0==e?n.setCenter(r.getCenterX(),r.getCenterY()-r.getHeight()/2-h.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==e?n.setCenter(r.getCenterX()+r.getWidth()/2+h.DEFAULT_EDGE_LENGTH+n.getWidth()/2,r.getCenterY()):2==e?n.setCenter(r.getCenterX(),r.getCenterY()+r.getHeight()/2+h.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(r.getCenterX()-r.getWidth()/2-h.DEFAULT_EDGE_LENGTH-n.getWidth()/2,r.getCenterY())}},t.exports=E},991:(t,e,r)=>{var n=r(551).FDLayoutNode,i=r(551).IMath;function o(t,e,r,i){n.call(this,t,e,r,i)}for(var a in o.prototype=Object.create(n.prototype),n)o[a]=n[a];o.prototype.calculateDisplacement=function(){var t=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},o.prototype.propogateDisplacementToChildren=function(t,e){for(var r,n=this.getChild().getNodes(),i=0;i<n.length;i++)null==(r=n[i]).getChild()?(r.displacementX+=t,r.displacementY+=e):r.propogateDisplacementToChildren(t,e)},o.prototype.move=function(){var t=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.setPred1=function(t){this.pred1=t},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(t){this.next=t},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(t){this.processed=t},o.prototype.isProcessed=function(){return processed},t.exports=o},902:(t,e,r)=>{function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var i=r(806),o=r(551).LinkedList,a=r(551).Matrix,s=r(551).SVD;function u(){}u.handleConstraints=function(t){var e={};e.fixedNodeConstraint=t.constraints.fixedNodeConstraint,e.alignmentConstraint=t.constraints.alignmentConstraint,e.relativePlacementConstraint=t.constraints.relativePlacementConstraint;for(var r=new Map,u=new Map,c=[],h=[],l=t.getAllNodes(),f=0,d=0;d<l.length;d++){var p=l[d];null==p.getChild()&&(u.set(p.id,f++),c.push(p.getCenterX()),h.push(p.getCenterY()),r.set(p.id,p))}e.relativePlacementConstraint&&e.relativePlacementConstraint.forEach((function(t){t.gap||0==t.gap||(t.left?t.gap=i.DEFAULT_EDGE_LENGTH+r.get(t.left).getWidth()/2+r.get(t.right).getWidth()/2:t.gap=i.DEFAULT_EDGE_LENGTH+r.get(t.top).getHeight()/2+r.get(t.bottom).getHeight()/2)}));var g=function(t){var e=0,r=0;return t.forEach((function(t){e+=c[u.get(t)],r+=h[u.get(t)]})),{x:e/t.size,y:r/t.size}},v=function(t,e,r,i,a){var s=new Map;t.forEach((function(t,e){s.set(e,0)})),t.forEach((function(t,e){t.forEach((function(t){s.set(t.id,s.get(t.id)+1)}))}));var l=new Map,f=new Map,d=new o;s.forEach((function(t,n){0==t?(d.push(n),r||("horizontal"==e?l.set(n,u.has(n)?c[u.get(n)]:i.get(n)):l.set(n,u.has(n)?h[u.get(n)]:i.get(n)))):l.set(n,Number.NEGATIVE_INFINITY),r&&f.set(n,new Set([n]))})),r&&a.forEach((function(t){var n=[];if(t.forEach((function(t){r.has(t)&&n.push(t)})),n.length>0){var o=0;n.forEach((function(t){"horizontal"==e?(l.set(t,u.has(t)?c[u.get(t)]:i.get(t)),o+=l.get(t)):(l.set(t,u.has(t)?h[u.get(t)]:i.get(t)),o+=l.get(t))})),o/=n.length,t.forEach((function(t){r.has(t)||l.set(t,o)}))}else{var a=0;t.forEach((function(t){a+="horizontal"==e?u.has(t)?c[u.get(t)]:i.get(t):u.has(t)?h[u.get(t)]:i.get(t)})),a/=t.length,t.forEach((function(t){l.set(t,a)}))}}));for(var p=function(){var n=d.shift();t.get(n).forEach((function(t){if(l.get(t.id)<l.get(n)+t.gap)if(r&&r.has(t.id)){var o=void 0;if(o="horizontal"==e?u.has(t.id)?c[u.get(t.id)]:i.get(t.id):u.has(t.id)?h[u.get(t.id)]:i.get(t.id),l.set(t.id,o),o<l.get(n)+t.gap){var a=l.get(n)+t.gap-o;f.get(n).forEach((function(t){l.set(t,l.get(t)-a)}))}}else l.set(t.id,l.get(n)+t.gap);s.set(t.id,s.get(t.id)-1),0==s.get(t.id)&&d.push(t.id),r&&f.set(t.id,function(t,e){var r=new Set(t),n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;r.add(u)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(f.get(n),f.get(t.id)))}))};0!=d.length;)p();if(r){var g=new Set;t.forEach((function(t,e){0==t.length&&g.add(e)}));var v=[];f.forEach((function(t,e){if(g.has(e)){var i=!1,o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var h=u.value;r.has(h)&&(i=!0)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}if(!i){var l=!1,f=void 0;v.forEach((function(e,r){e.has([].concat(n(t))[0])&&(l=!0,f=r)})),l?t.forEach((function(t){v[f].add(t)})):v.push(new Set(t))}}})),v.forEach((function(t,r){var n=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,f=!0,d=!1,p=void 0;try{for(var g,v=t[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y=g.value,m=void 0;m="horizontal"==e?u.has(y)?c[u.get(y)]:i.get(y):u.has(y)?h[u.get(y)]:i.get(y);var _=l.get(y);m<n&&(n=m),m>a&&(a=m),_<o&&(o=_),_>s&&(s=_)}}catch(t){d=!0,p=t}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}var w=(n+a)/2-(o+s)/2,E=!0,b=!1,x=void 0;try{for(var N,A=t[Symbol.iterator]();!(E=(N=A.next()).done);E=!0){var T=N.value;l.set(T,l.get(T)+w)}}catch(t){b=!0,x=t}finally{try{!E&&A.return&&A.return()}finally{if(b)throw x}}}))}return l},y=function(t){var e=0,r=0,n=0,i=0;if(t.forEach((function(t){t.left?c[u.get(t.left)]-c[u.get(t.right)]>=0?e++:r++:h[u.get(t.top)]-h[u.get(t.bottom)]>=0?n++:i++})),e>r&&n>i)for(var o=0;o<u.size;o++)c[o]=-1*c[o],h[o]=-1*h[o];else if(e>r)for(var a=0;a<u.size;a++)c[a]=-1*c[a];else if(n>i)for(var s=0;s<u.size;s++)h[s]=-1*h[s]},m=function(t){var e=[],r=new o,n=new Set,i=0;return t.forEach((function(o,a){if(!n.has(a)){e[i]=[];var s=a;for(r.push(s),n.add(s),e[i].push(s);0!=r.length;)s=r.shift(),t.get(s).forEach((function(t){n.has(t.id)||(r.push(t.id),n.add(t.id),e[i].push(t.id))}));i++}})),e},_=function(t){var e=new Map;return t.forEach((function(t,r){e.set(r,[])})),t.forEach((function(t,r){t.forEach((function(t){e.get(r).push(t),e.get(t.id).push({id:r,gap:t.gap,direction:t.direction})}))})),e},w=function(t){var e=new Map;return t.forEach((function(t,r){e.set(r,[])})),t.forEach((function(t,r){t.forEach((function(t){e.get(t.id).push({id:r,gap:t.gap,direction:t.direction})}))})),e},E=[],b=[],x=!1,N=!1,A=new Set,T=new Map,L=new Map,C=[];if(e.fixedNodeConstraint&&e.fixedNodeConstraint.forEach((function(t){A.add(t.nodeId)})),e.relativePlacementConstraint&&(e.relativePlacementConstraint.forEach((function(t){t.left?(T.has(t.left)?T.get(t.left).push({id:t.right,gap:t.gap,direction:"horizontal"}):T.set(t.left,[{id:t.right,gap:t.gap,direction:"horizontal"}]),T.has(t.right)||T.set(t.right,[])):(T.has(t.top)?T.get(t.top).push({id:t.bottom,gap:t.gap,direction:"vertical"}):T.set(t.top,[{id:t.bottom,gap:t.gap,direction:"vertical"}]),T.has(t.bottom)||T.set(t.bottom,[]))})),L=_(T),C=m(L)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(e.fixedNodeConstraint&&e.fixedNodeConstraint.length>1)e.fixedNodeConstraint.forEach((function(t,e){E[e]=[t.position.x,t.position.y],b[e]=[c[u.get(t.nodeId)],h[u.get(t.nodeId)]]})),x=!0;else if(e.alignmentConstraint)!function(){var t=0;if(e.alignmentConstraint.vertical){for(var r=e.alignmentConstraint.vertical,i=function(e){var i=new Set;r[e].forEach((function(t){i.add(t)}));var o=new Set([].concat(n(i)).filter((function(t){return A.has(t)}))),a=void 0;a=o.size>0?c[u.get(o.values().next().value)]:g(i).x,r[e].forEach((function(e){E[t]=[a,h[u.get(e)]],b[t]=[c[u.get(e)],h[u.get(e)]],t++}))},o=0;o<r.length;o++)i(o);x=!0}if(e.alignmentConstraint.horizontal){for(var a=e.alignmentConstraint.horizontal,s=function(e){var r=new Set;a[e].forEach((function(t){r.add(t)}));var i=new Set([].concat(n(r)).filter((function(t){return A.has(t)}))),o=void 0;o=i.size>0?c[u.get(i.values().next().value)]:g(r).y,a[e].forEach((function(e){E[t]=[c[u.get(e)],o],b[t]=[c[u.get(e)],h[u.get(e)]],t++}))},l=0;l<a.length;l++)s(l);x=!0}e.relativePlacementConstraint&&(N=!0)}();else if(e.relativePlacementConstraint){for(var M=0,O=0,I=0;I<C.length;I++)C[I].length>M&&(M=C[I].length,O=I);if(M<L.size/2)y(e.relativePlacementConstraint),x=!1,N=!1;else{var D=new Map,R=new Map,F=[];C[O].forEach((function(t){T.get(t).forEach((function(e){"horizontal"==e.direction?(D.has(t)?D.get(t).push(e):D.set(t,[e]),D.has(e.id)||D.set(e.id,[]),F.push({left:t,right:e.id})):(R.has(t)?R.get(t).push(e):R.set(t,[e]),R.has(e.id)||R.set(e.id,[]),F.push({top:t,bottom:e.id}))}))})),y(F),N=!1;var P=v(D,"horizontal"),S=v(R,"vertical");C[O].forEach((function(t,e){b[e]=[c[u.get(t)],h[u.get(t)]],E[e]=[],P.has(t)?E[e][0]=P.get(t):E[e][0]=c[u.get(t)],S.has(t)?E[e][1]=S.get(t):E[e][1]=h[u.get(t)]})),x=!0}}if(x){for(var G,j=a.transpose(E),k=a.transpose(b),U=0;U<j.length;U++)j[U]=a.multGamma(j[U]),k[U]=a.multGamma(k[U]);var Y=a.multMat(j,a.transpose(k)),X=s.svd(Y);G=a.multMat(X.V,a.transpose(X.U));for(var z=0;z<u.size;z++){var H=[c[z],h[z]],B=[G[0][0],G[1][0]],W=[G[0][1],G[1][1]];c[z]=a.dotProduct(H,B),h[z]=a.dotProduct(H,W)}N&&y(e.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(e.fixedNodeConstraint&&e.fixedNodeConstraint.length>0){var V={x:0,y:0};e.fixedNodeConstraint.forEach((function(t,e){var r,n,i={x:c[u.get(t.nodeId)],y:h[u.get(t.nodeId)]},o=t.position,a=(n=i,{x:(r=o).x-n.x,y:r.y-n.y});V.x+=a.x,V.y+=a.y})),V.x/=e.fixedNodeConstraint.length,V.y/=e.fixedNodeConstraint.length,c.forEach((function(t,e){c[e]+=V.x})),h.forEach((function(t,e){h[e]+=V.y})),e.fixedNodeConstraint.forEach((function(t){c[u.get(t.nodeId)]=t.position.x,h[u.get(t.nodeId)]=t.position.y}))}if(e.alignmentConstraint){if(e.alignmentConstraint.vertical)for(var q=e.alignmentConstraint.vertical,$=function(t){var e=new Set;q[t].forEach((function(t){e.add(t)}));var r=new Set([].concat(n(e)).filter((function(t){return A.has(t)}))),i=void 0;i=r.size>0?c[u.get(r.values().next().value)]:g(e).x,e.forEach((function(t){A.has(t)||(c[u.get(t)]=i)}))},Z=0;Z<q.length;Z++)$(Z);if(e.alignmentConstraint.horizontal)for(var K=e.alignmentConstraint.horizontal,Q=function(t){var e=new Set;K[t].forEach((function(t){e.add(t)}));var r=new Set([].concat(n(e)).filter((function(t){return A.has(t)}))),i=void 0;i=r.size>0?h[u.get(r.values().next().value)]:g(e).y,e.forEach((function(t){A.has(t)||(h[u.get(t)]=i)}))},J=0;J<K.length;J++)Q(J)}e.relativePlacementConstraint&&function(){var t=new Map,r=new Map,n=new Map,i=new Map,o=new Map,a=new Map,s=new Set,l=new Set;if(A.forEach((function(t){s.add(t),l.add(t)})),e.alignmentConstraint){if(e.alignmentConstraint.vertical)for(var f=e.alignmentConstraint.vertical,d=function(e){n.set("dummy"+e,[]),f[e].forEach((function(r){t.set(r,"dummy"+e),n.get("dummy"+e).push(r),A.has(r)&&s.add("dummy"+e)})),o.set("dummy"+e,c[u.get(f[e][0])])},p=0;p<f.length;p++)d(p);if(e.alignmentConstraint.horizontal)for(var g=e.alignmentConstraint.horizontal,y=function(t){i.set("dummy"+t,[]),g[t].forEach((function(e){r.set(e,"dummy"+t),i.get("dummy"+t).push(e),A.has(e)&&l.add("dummy"+t)})),a.set("dummy"+t,h[u.get(g[t][0])])},E=0;E<g.length;E++)y(E)}var b=new Map,x=new Map,N=function(e){T.get(e).forEach((function(n){var i=void 0,o=void 0;"horizontal"==n.direction?(i=t.get(e)?t.get(e):e,o=t.get(n.id)?{id:t.get(n.id),gap:n.gap,direction:n.direction}:n,b.has(i)?b.get(i).push(o):b.set(i,[o]),b.has(o.id)||b.set(o.id,[])):(i=r.get(e)?r.get(e):e,o=r.get(n.id)?{id:r.get(n.id),gap:n.gap,direction:n.direction}:n,x.has(i)?x.get(i).push(o):x.set(i,[o]),x.has(o.id)||x.set(o.id,[]))}))},L=!0,C=!1,M=void 0;try{for(var O,I=T.keys()[Symbol.iterator]();!(L=(O=I.next()).done);L=!0)N(O.value)}catch(t){C=!0,M=t}finally{try{!L&&I.return&&I.return()}finally{if(C)throw M}}var D=_(b),R=_(x),F=m(D),P=m(R),S=w(b),G=w(x),j=[],k=[];F.forEach((function(t,e){j[e]=[],t.forEach((function(t){0==S.get(t).length&&j[e].push(t)}))})),P.forEach((function(t,e){k[e]=[],t.forEach((function(t){0==G.get(t).length&&k[e].push(t)}))}));var U=v(b,"horizontal",s,o,j),Y=v(x,"vertical",l,a,k),X=function(t){n.get(t)?n.get(t).forEach((function(e){c[u.get(e)]=U.get(t)})):c[u.get(t)]=U.get(t)},z=!0,H=!1,B=void 0;try{for(var W,V=U.keys()[Symbol.iterator]();!(z=(W=V.next()).done);z=!0)X(W.value)}catch(t){H=!0,B=t}finally{try{!z&&V.return&&V.return()}finally{if(H)throw B}}var q=function(t){i.get(t)?i.get(t).forEach((function(e){h[u.get(e)]=Y.get(t)})):h[u.get(t)]=Y.get(t)},$=!0,Z=!1,K=void 0;try{for(var Q,J=Y.keys()[Symbol.iterator]();!($=(Q=J.next()).done);$=!0)q(Q.value)}catch(t){Z=!0,K=t}finally{try{!$&&J.return&&J.return()}finally{if(Z)throw K}}}()}for(var tt=0;tt<l.length;tt++){var et=l[tt];null==et.getChild()&&et.setCenter(c[u.get(et.id)],h[u.get(et.id)])}},t.exports=u},551:e=>{e.exports=t}},r={},n=function t(n){var i=r[n];if(void 0!==i)return i.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}(45),n;var e,r,n}))}(u);var h=u.exports,l=function(t){function r(e,r,n,i,o,a){var s=t.call(this,e,r,n,i)||this;return s.layerIdx=-1,s.order=-1,s.isDirected=0,s.id=o,s.rank=a,s.noOfChildren=1,s.parentId="",s}return e(r,t),r.prototype.calculateDisplacement=function(){var t=this.graphManager.getLayout(),e=t.coolingFactor;1==this.isDirected&&(e=.7*t.directedCoolingFactor),this.displacementX+=e*(this.springForceX+this.repulsionForceX)/this.noOfChildren,1!==this.isDirected&&(this.displacementY+=e*(this.springForceY+this.repulsionForceY)/this.noOfChildren),Math.abs(this.displacementX)>e*t.maxNodeDisplacement&&(this.displacementX=e*t.maxNodeDisplacement*u.exports.layoutBase.IMath.sign(this.displacementX)),1!=this.isDirected&&Math.abs(this.displacementY)>e*t.maxNodeDisplacement&&(this.displacementY=e*t.maxNodeDisplacement*u.exports.layoutBase.IMath.sign(this.displacementY)),this.child&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},r.prototype.propogateDisplacementToChildren=function(t,e){this.child.nodes.forEach((function(r){r.child?r.propogateDisplacementToChildren(t,e):(r.displacementX+=t,r.displacementY+=e)}))},r.prototype.move=function(){var t=this.graphManager.getLayout();this.child||(1!=this.isDirected?(this.moveBy(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),0===this.isDirected?t.undirectedDisplacement+=Math.abs(this.displacementY):t.directedDisplacement+=Math.abs(this.displacementY)):(this.moveBy(this.displacementX,0),t.totalDisplacement+=Math.abs(this.displacementX),1==this.isDirected?t.directedDisplacement+=Math.abs(this.displacementY):t.undirectedDisplacement+=Math.abs(this.displacementY)))},r.prototype.swapPositionWith=function(t,e){void 0===e&&(e=!0);var n=t.rect.x,i=t.rect.y,o=this.rect.x,a=this.rect.y;if(u.exports.layoutBase.uniformNodeDimensions||(n<o?(o=this.rect.x+(this.rect.getWidthHalf()-t.rect.getWidthHalf()),n=t.rect.x+(this.rect.getWidthHalf()-t.rect.getWidthHalf())):(o=this.rect.x+(t.rect.getWidthHalf()-this.rect.getWidthHalf()),n=t.rect.x+(t.rect.getWidthHalf()-this.rect.getWidthHalf()))),this.setLocation(n,i),t.setLocation(o,a),e)this.resetForcesAndDisplacement(),t.resetForcesAndDisplacement();else{var s=new r(this.graphManager,null,null,null,"",-1);s.springForceX=this.springForceX,s.springForceY=this.springForceY,s.repulsionForceX=this.repulsionForceX,s.repulsionForceY=this.repulsionForceY,s.gravitationForceX=this.gravitationForceX,s.gravitationForceY=this.gravitationForceY,s.displacementX=this.displacementX,s.displacementY=this.displacementY,this.springForceX=t.springForceX,this.springForceY=t.springForceY,this.repulsionForceX=t.repulsionForceX,this.repulsionForceY=t.repulsionForceY,this.gravitationForceX=t.gravitationForceX,this.gravitationForceY=t.gravitationForceY,this.displacementX=t.displacementX,this.displacementY=t.displacementY,t.springForceX=s.springForceX,t.springForceY=s.springForceY,t.repulsionForceX=s.repulsionForceX,t.repulsionForceY=s.repulsionForceY,t.gravitationForceX=s.gravitationForceX,t.gravitationForceY=s.gravitationForceY,t.displacementX=s.displacementX,t.displacementY=s.displacementY}},r.prototype.resetForcesAndDisplacement=function(){this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},r}(u.exports.CoSENode),f=function(t){function r(e,r){var n=t.call(this)||this;return n.LEVEL=0,n.swapPeriod=10,n.id2LNode={},n.id2TotalForceX={},n.swapForceLimit=100,n.swappedPairs={},n.banned2SwapPairs={},n.minPairSwapPeriod=20*n.swapPeriod,n.orderFlipPeriod=100,n.isFastCooling=!0,n.isHighlightSwappedPair=!0,n.distinctColors=["#00c853","#ff3d00","#ffd600","#76ff03","#18ffff","#d500f9","#f48fb1","#2962ff"],n.cntBan4swap=0,n.nodeRepulsionCalculationWidth=7,n.fullyCalcRep4Ticks=.2,n.uniformNodeDimensions=!1,n.orderGap=80,n.expansionCoefficient=12,n.useExpansionByStreching=!0,n.edgesBetweenGraphs=[],n.dummyCompoundNodes=[],n.directedDisplacement=0,n.undirectedDisplacement=0,n.oldDirectedDisplacement=0,n.oldUndirectedDisplacement=0,n.performPostProcessing=!0,n.displayInitialPositions=!1,n.randomizeInitialPositions=!0,n.directedCoolingFactor=.9,n.leftCompoundNodes=[],n.rightCompoundNodes=[],n.topCompoundNodes=[],n.bottomCompoundNodes=[],n.nodeRepulsion=4500,n.postLayout=!1,n.undirectedNodes=[],n.directedNodes=[],n.useFRGridVariantHySE=!0,n.idealEdgeLength=50,n.forceUpdateGrid=!1,n.colorSwappedPair=!0,n.calcRepulsionRange=function(){return 2*(this.LEVEL+1)*this.idealEdgeLength},t.prototype.initParameters.call(n),n.layering=e,n.orderedLayers=[],n.layering.map((function(t){return t.length})),n.cy=r,n}return e(r,t),r.prototype.newGraphManager=function(){return t.prototype.newGraphManager.call(this)},r.prototype.beforeLayout=function(){var e,r=this,o=this.maxNodeDisplacement;t.prototype.initSpringEmbedder.call(this),this.maxNodeDisplacement=o,this.uniformLeafNodeSizes=this.uniformNodeDimensions,this.useFRGridVariant=this.useFRGridVariantHySE,this.LEVEL=0,this.IDEAL_EDGE_LENGTH=this.idealEdgeLength;for(var a=this.graphManager.getAllNodes(),s=0;s<a.length;s++)this.id2LNode[a[s].id]=a[s];this.layering.length>0&&this.prepareOrderedLayers(),this.prepareCompoundNodes(),this.dummyCompoundNodes.forEach((function(t){r.graphManager.getRoot().add(t),r.graphManager.allNodes.push(t)})),this.graphManager.getRoot().calcEstimatedSize();var u=0;for(s=0;s<a.length;s++){(l=this.cy.getElementById(a[s].id)).css("border-color","#eee29b")}for(s=0;s<this.dummyCompoundNodes.length;s++){for(var c=this.dummyCompoundNodes[s].child.getNodes(),h=0;h<c.length;h++){var l;(l=this.cy.getElementById(c[h].id)).css("border-color",this.distinctColors[u]),l.css("border-width","2px")}++u==this.distinctColors.length&&(u=0)}this.undirectedNodes=this.graphManager.allNodes.filter((function(t){return 1!=t.isDirected})),this.directedNodes=this.graphManager.allNodes.filter((function(t){return 1==t.isDirected})),this.graphManager.getRoot().nodes=this.graphManager.getRoot().nodes.filter((function(t){return 1==t.isDirected})),(e=this.graphManager.getRoot().nodes).push.apply(e,i([],n(this.dummyCompoundNodes),!1)),this.graphManager.updateBounds()},r.prototype.prepareCompoundNodes=function(){for(var t=this,e={},r={},n=new Set,i=function(t,a){if(!n.has(t)){n.add(t),void 0===e[a]&&(e[a]=[]),e[a].push(t);var s=o(t);if(s.length>0&&(void 0===r[a]&&(r[a]=new Set),s.forEach((function(t){r[a].has(t)||r[a].add(t)}))),t.child&&t.child.nodes.forEach((function(t){i(t,a)})),t.parentId){var u=t.owner.parent;i(u,a)}t.edges.filter((function(t){return 1!=t.source.isDirected&&1!=t.target.isDirected})).forEach((function(e){var r=e.source.id==t.id?e.target:e.source;i(r,a)}))}},o=function(t){var e=t.edges.filter((function(t){return 1==t.source.isDirected||1==t.target.isDirected}));return e.length>0?e.map((function(e){return e.source.id==t.id?e.target:e.source})):[]},a=this.graphManager.allNodes.filter((function(t){return 1!=t.isDirected})),s=0;s<a.length;s++){var c=a[s];i(c,s)}var h=this.graphManager.allNodes[0],f=this.graphManager.allNodes[0],d=this.graphManager.allNodes[0],p=this.graphManager.allNodes[0];this.graphManager.allNodes.filter((function(t){return 1==t.isDirected})).forEach((function(t){(1!=h.isDirected||t.rect.x<h.rect.x)&&(h=t),(1!=f.isDirected||t.rect.x+t.rect.width>f.rect.x+f.rect.width)&&(f=t),(1!=d.isDirected||t.rect.y<d.rect.y)&&(d=t),(1!=p.isDirected||t.rect.y+t.rect.height>p.rect.y+p.rect.height)&&(p=t)}));var g=function(n){var i=Object.keys(e)[n],o=e[Object.keys(e)[n]],a=r[i],s=[],c=[];null==a||0==a.size?(c.push(p.rect.y+p.rect.height),s.push(f.rect.x+f.rect.width)):a.forEach((function(t){s.push(t.rect.x),c.push(t.rect.y)}));var g=v.newGraph(),y=0;o.forEach((function(t){t.setRect({x:0,y:0},t.rect),y++,t.parentId||g.add(t)})),g.calcEstimatedSize();var m=new u.exports.layoutBase.PointD(0,0),_=new u.exports.layoutBase.DimensionD(g.getEstimatedSize(),g.getEstimatedSize()),w=new l(v.graphManager,m,_,null,"compoundNode"+i,-1);w.isDirected=0,w.nodeRepulsion=v.nodeRepulsion,w.noOfChildren=y,v.graphManager.add(g,w);var E=s.reduce((function(t,e){return t+e}))/s.length,b=c.reduce((function(t,e){return t+e}))/c.length,x=Math.abs(Math.abs(b)-Math.abs(d.rect.y)),N=Math.abs(p.rect.y+p.rect.height-b),A=Math.abs(Math.abs(E)-Math.abs(h.rect.x)),T=Math.abs(f.rect.x+f.rect.width-E),L=Math.min(x,N,A,T),C=x==L,M=A==L,O=T==L,I=N==L,D=new u.exports.layoutBase.PointD(E,b),R=function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},F=function(t,e,r){if("right"==e){var n=!1,i=null,o=[];r.forEach((function(e){R(t.rect,e.rect)?null!=i&&i instanceof l?(i.rect.x+i.rect.width<e.rect.x+e.rect.width&&(i=e),n=!0):(i=e,n=!0):o.push(e)})),n&&null!=i&&(t.setRect({x:i.rect.x+50+i.rect.width,y:D.y-t.rect.height/2},t.rect),F(t,e,r))}else if("left"==e){var a=!1,s=null,u=[];r.forEach((function(e){R(t.rect,e.rect)?null!=s&&s instanceof l?(s.rect.x>e.rect.x&&(s=e),a=!0):(s=e,a=!0):u.push(e)})),a&&null!=s&&(t.setRect({x:s.rect.x-50-t.rect.width,y:D.y-t.rect.height/2},t.rect),F(t,e,r))}else if("up"==e){var c=!1,h=null,f=[];r.forEach((function(e){R(t.rect,e.rect)?null!=h&&h instanceof l?(h.rect.y>e.rect.y&&(h=e),c=!0):(h=e,c=!0):f.push(e)})),c&&null!=h&&(t.setRect({x:D.x-t.rect.width/2,y:h.rect.y-50-t.rect.height},t.rect),F(t,e,r))}else if("down"==e){var d=!1,p=null,g=[];r.forEach((function(e){R(t.rect,e.rect)?null!=p&&p instanceof l?(p.rect.y+p.rect.height<e.rect.y+e.rect.height&&(p=e),d=!0):(p=e,d=!0):g.push(e)})),d&&null!=p&&(t.setRect({x:D.x-t.rect.width/2,y:p.rect.y+50+p.rect.height},t.rect),F(t,e,r))}};C?(w.setRect({x:D.x-w.rect.width/2,y:d.rect.y-50-w.rect.height},w.rect),F(w,"up",v.topCompoundNodes),v.topCompoundNodes.push(w)):I?(w.setRect({x:D.x-w.rect.width/2,y:p.rect.y+50+w.rect.height},w.rect),F(w,"down",v.bottomCompoundNodes),v.bottomCompoundNodes.push(w)):M?(w.setRect({x:h.rect.x-50-w.rect.width,y:D.y-w.rect.height/2},w.rect),F(w,"left",v.leftCompoundNodes),v.leftCompoundNodes.push(w)):O&&(w.setRect({x:f.rect.x+50+w.rect.width,y:D.y-w.rect.height/2},w.rect),F(w,"right",v.rightCompoundNodes),v.rightCompoundNodes.push(w)),o.forEach((function(e){var r=0,n=0;M&&C?x<A?t.randomizeInitialPositions?(n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2,r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2):(n=w.rect.y,r=D.x):t.randomizeInitialPositions?(r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2,n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2):(r=w.rect.x,n=D.y):M&&!C?N<A?t.randomizeInitialPositions?(n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2,r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2):(n=w.rect.y,r=D.x):t.randomizeInitialPositions?(r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2,n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2):(r=w.rect.x,n=D.y):!M&&C?x<T?t.randomizeInitialPositions?(n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2,r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2):(n=w.rect.y,r=D.x):t.randomizeInitialPositions?(r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2,n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2):(r=w.rect.x,n=D.y):N<T?t.randomizeInitialPositions?(n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2,r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2):(n=w.rect.y,r=D.x):t.randomizeInitialPositions?(r=w.rect.x+Math.floor(Math.random()*(w.rect.width-e.rect.width))/2,n=w.rect.y+Math.floor(Math.random()*(w.rect.height-e.rect.height))/2):(r=w.rect.x,n=D.y),new u.exports.layoutBase.PointD(r,n),e.rect.x=r,e.rect.y=n})),v.dummyCompoundNodes.push(w)},v=this;for(s=0;s<Object.keys(e).length;s++)g(s)},r.prototype.isSameOrders=function(t,e){for(var r=!0,n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)t[n][i].id!=e[n][i].id&&(r=!1);return r},r.prototype.layout=function(){this.beforeLayout();for(var t=!1;!this.displayInitialPositions&&!t;)t=this.tick();!this.displayInitialPositions&&this.performPostProcessing&&this.postLayoutRepulsionPhase()},r.prototype.isDirectedConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<2*this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,this.oldDirectedDisplacement=this.directedDisplacement,this.oldUndirectedDisplacement=this.undirectedDisplacement,t||e},r.prototype.tick=function(){if(this.totalIterations++,this.totalIterations%u.exports.CoSEConstants.CONVERGENCE_CHECK_PERIOD==0){if(this.isDirectedConverged()||this.totalIterations>this.maxIterations)return!0;this.isFastCooling?this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations*this.coolingCoefficient)/this.maxIterations):this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations),this.coolingFactor<0&&(this.coolingFactor=0)}return this.totalDisplacement=0,this.graphManager.updateBounds(),t.prototype.calcSpringForces.call(this),this.useFRGridVariant?this.gridRepulsion():(this.calcRepulsionForces(),this.repulsionTopLevel()),this.swapAndFlip(),this.moveNodes(),!1},r.prototype.gridRepulsion=function(){var t,e=null,r=this.graphManager.getAllNodes();(this.totalIterations%u.exports.layoutBase.FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD==1||this.forceUpdateGrid)&&this.updateGrid(),t=new Set;for(var n=0;n<r.length;n++)e=r[n],this.calculateRepulsionForceOfANode(e,t),t.add(e);this.forceUpdateGrid=!1},r.prototype.calculateRepulsionForceOfANode=function(t,e){if(this.totalIterations%u.exports.layoutBase.FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD==1||this.forceUpdateGrid){var r,o=new Set;t.surrounding=new Array;for(var a=this.grid,s=t.startX-1;s<t.finishX+2;s++)for(var c=t.startY-1;c<t.finishY+2;c++)if(!(s<0||c<0||s>=a.length||c>=a[0].length))for(var h=0;h<a[s][c].length;h++)if(r=a[s][c][h],t.getOwner()==r.getOwner()&&t!=r&&!e.has(r)&&!o.has(r)){var l=Math.abs(t.getCenterX()-r.getCenterX())-(t.getWidth()/2+r.getWidth()/2),f=Math.abs(t.getCenterY()-r.getCenterY())-(t.getHeight()/2+r.getHeight()/2);l<=this.repulsionRange&&f<=this.repulsionRange&&o.add(r)}t.surrounding=i([],n(o),!1)}for(s=0;s<t.surrounding.length;s++)this.calcRepulsionForceForGridNodes(t,t.surrounding[s])},r.prototype.calcRepulsionForceForGridNodes=function(t,e){var r,n,i,o,a,s,c,h=t.getRect(),l=e.getRect(),f=new Array(2),d=new Array(4);if(h.intersects(l)){u.exports.layoutBase.IGeometry.calcSeparationAmount(h,l,f,u.exports.layoutBase.FDLayoutConstants.DEFAULT_EDGE_LENGTH/2),s=2*f[0],c=2*f[1];var p=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=p*s,t.repulsionForceY-=p*c,e.repulsionForceX+=p*s,e.repulsionForceY+=p*c}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(r=l.getCenterX()-h.getCenterX(),n=l.getCenterY()-h.getCenterY()):(u.exports.layoutBase.IGeometry.getIntersection(h,l,d),r=d[2]-d[0],n=d[3]-d[1]),Math.abs(r)<u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST&&(r=u.exports.layoutBase.IMath.sign(r)*u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST),Math.abs(n)<u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST&&(n=u.exports.layoutBase.IMath.sign(n)*u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST),i=r*r+n*n,o=Math.sqrt(i),s=(a=(t.nodeRepulsion/2+e.nodeRepulsion/2)*t.noOfChildren*e.noOfChildren/i)*r/o,c=a*n/o,t.repulsionForceX-=s,t.repulsionForceY-=c,e.repulsionForceX+=s,e.repulsionForceY+=c},r.prototype.postLayoutRepulsionPhase=function(){this.postLayout=!0;var t=this.totalIterations;this.totalIterations=0,Math.min(this.graphManager.getAllNodes().length,200);for(var e=this.graphManager.getAllNodes().length,r=0;r<e;r++)this.totalDisplacement=0,this.undirectedDisplacement=0,this.directedDisplacement=0,this.directedCoolingFactor=1,this.graphManager.updateBounds(),this.calcRepulsionForcesInRootGraph(),this.moveNodes();this.totalIterations=t},r.prototype.postLayoutOverlapRemoval=function(){this.orderedLayers.forEach((function(t){for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1],i=Math.abs(r.getRect().getCenterX()-n.getRect().getCenterX());if(i<r.getWidth()+n.getWidth()){var o=(r.getWidth()+n.getWidth()-i)/2;r.moveBy(-o,0),n.moveBy(o,0)}}}))},r.prototype.repulsionTopLevel=function(){for(var t=0;t<this.dummyCompoundNodes.length;t++){this.repulsionForUndirected(this.dummyCompoundNodes[t].child);for(var e=0;e<this.dummyCompoundNodes.length;e++)t!=e&&this.fdCalculateRepulsionForces(this.dummyCompoundNodes[t],this.dummyCompoundNodes[e])}for(t=0;t<this.dummyCompoundNodes.length;t++)for(e=0;e<this.directedNodes.length;e++)this.fdCalculateRepulsionForces(this.directedNodes[e],this.dummyCompoundNodes[t])},r.prototype.repulsionForUndirected=function(t){for(var e=0;e<t.nodes.length;e++)for(var r=0;r<t.nodes.length;r++)if(e!=r){var n=t.nodes[e],i=t.nodes[r];this.fdCalculateRepulsionForces(n,i),n.child&&this.repulsionForUndirected(n.child),i.child&&this.repulsionForUndirected(i.child)}},r.prototype.calcSpringForce=function(t,e){var r=t.getSource(),n=t.getTarget();if(!this.postLayout||!(1==r.isDirected&&1==n.isDirected||0==r.isDirected&&0==n.isDirected)){if(this.uniformLeafNodeSizes&&null==r.getChild()&&null==n.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;var i=t.getLength();if(0!=i){var o=t.edgeElasticity*(i-e),a=o*(t.lengthX/i),s=o*(t.lengthY/i);1===r.isDirected&&n.isDirected,r.springForceX+=a,1===n.isDirected&&r.isDirected,n.springForceX-=a,1!=r.isDirected&&(r.springForceY+=s),1!=n.isDirected&&(n.springForceY-=s),1==r.isDirected&&1!=n.isDirected&&(n.springForceY+=s/2,n.springForceX+=a/2),1!=r.isDirected&&1==n.isDirected&&(r.springForceY-=s/2,r.springForceX-=a/2)}}},r.prototype.calcRepulsionForce=function(t,e){var r,n=t.getRect(),i=e.getRect(),o=n.getCenterX(),a=i.getCenterX(),s=Math.abs(o-a)-(n.width/2+i.width/2);if(s<=0)r=2*s;else{var c=-s;this.uniformLeafNodeSizes&&(c=a>o?o-a:a-o),Math.abs(c)<u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST&&(c=u.exports.layoutBase.IMath.sign(c)*u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST),r=-(t.nodeRepulsion/2+e.nodeRepulsion/2)/(c*c)}o<a&&(r=-r),1==t.isDirected&&1==e.isDirected?(t.repulsionForceX-=r,e.repulsionForceX+=r):1==t.isDirected&&1!=e.isDirected?e.repulsionForceX+=r:1!=t.isDirected&&1==e.isDirected&&(t.repulsionForceX-=r)},r.prototype.fdCalculateRepulsionForces=function(t,e,r){void 0===r&&(r=!0);var n,i,o,a,s,c,h,l=t.getRect(),f=e.getRect(),d=new Array(2),p=new Array(4);if(l.intersects(f)){u.exports.layoutBase.IGeometry.calcSeparationAmount(l,f,d,u.exports.layoutBase.FDLayoutConstants.DEFAULT_EDGE_LENGTH/2),c=2*d[0],h=2*d[1];var g=t.noOfChildren*e.noOfChildren/(t.noOfChildren+e.noOfChildren);t.repulsionForceX-=g*c,t.repulsionForceY-=g*h,e.repulsionForceX+=g*c,e.repulsionForceY+=g*h}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(n=f.getCenterX()-l.getCenterX(),i=f.getCenterY()-l.getCenterY()):(u.exports.layoutBase.IGeometry.getIntersection(l,f,p),n=p[2]-p[0],i=p[3]-p[1]),Math.abs(n)<u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST&&(n=u.exports.layoutBase.IMath.sign(n)*u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST),Math.abs(i)<u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST&&(i=u.exports.layoutBase.IMath.sign(i)*u.exports.layoutBase.FDLayoutConstants.MIN_REPULSION_DIST),o=n*n+i*i,a=Math.sqrt(o),c=(s=r?(t.nodeRepulsion/2+e.nodeRepulsion/2)*t.noOfChildren*e.noOfChildren/o:(t.nodeRepulsion/2+e.nodeRepulsion/2)/o)*n/a,h=s*i/a,1!=t.isDirected&&(t.repulsionForceX-=c,t.repulsionForceY-=h),1!=e.isDirected&&(e.repulsionForceX+=c,e.repulsionForceY+=h)},r.prototype.swapAndFlip=function(){for(var t in this.id2LNode)1===this.id2LNode[t].isDirected&&(null!=this.id2TotalForceX[t]&&null!=this.id2TotalForceX[t]||(this.id2TotalForceX[t]=0),this.id2TotalForceX[t]+=this.id2LNode[t].repulsionForceX+this.id2LNode[t].springForceX);if(this.totalIterations%this.swapPeriod==0)for(var t in this.swapAdjacentsIfNeed(),this.id2TotalForceX)this.id2TotalForceX[t]=0},r.prototype.flipOrders=function(){var t=this.orderedLayers;if(this.totalIterations%this.orderFlipPeriod==0)for(var e=1;e<t.length-1;e++){var r=this.getTotalNumCrossing(t[e-1],t[e]);if(this.flipLayer(t[e],e),r<this.getTotalNumCrossing(t[e-1],t[e]))this.flipLayer(t[e],e);else for(var n=0;n<t[e].length;n++)t[e][n].resetForcesAndDisplacement()}},r.prototype.getNumCrossings=function(t){for(var e=0,r=0;r<t.length;r++)for(var n=r+1;n<t.length;n++){var i=t[r].source.rect.x,o=t[r].target.rect.x,a=t[n].source.rect.x,s=t[n].target.rect.x;(i<a&&o>s||i>a&&o<s)&&e++}return e},r.prototype.getTotalNumCrossing=function(t,e){var r=t.reduce((function(t,e){return t.concat(e.edges.filter((function(t){return t.source.id==e.id})))}),[]),n=this.getNumCrossings(r),i=e.reduce((function(t,e){return t.concat(e.edges.filter((function(t){return t.source.id==e.id})))}),[]);return n+this.getNumCrossings(i)},r.prototype.flipLayer=function(t,e){for(var r=0,n=t.length-1;r<n;){var i=t[r],o=t[n];i.swapPositionWith(o,!1),this.swapOnOrderedLayers(e,r,n),r++,n--}},r.prototype.swapAdjacentsIfNeed=function(){for(var t=this.orderedLayers,e=[],r=0;r<t.length;r++)for(var n=r,i=0;i<t[r].length-1;i++){var o=t[r][i].id,a=t[r][i+1].id,s=[o,a].sort().join("|");if(!(this.swappedPairs[s]&&this.totalIterations-this.swappedPairs[s]<this.minPairSwapPeriod)){var u=t[r][i].edges.length+t[r][i+1].edges.length,c=Math.abs(this.id2TotalForceX[o]-this.id2TotalForceX[a]);c>this.swapForceLimit&&e.push({pairId:s,swapForce:c,layerId:n,n1:o,n2:a,order1:i,order2:i+1,connectedEdgeCount:u})}}e.length>0&&(this.forceUpdateGrid=!0),e.sort((function(t,e){return e.swapForce-t.swapForce}));var h={};for(r=0;r<e.length;r++){var l=e[r];s=l.pairId;if(!h[l.n1]&&!h[l.n2]){this.banned2SwapPairs[s]=!1,this.highlightPair(s,!0);var f=Math.abs(this.id2LNode[l.n1].getRect().getCenterX()-this.id2LNode[l.n2].getRect().getCenterX());this.totalDisplacement+=f,this.id2LNode[l.n1].swapPositionWith(this.id2LNode[l.n2]),this.swapOnOrderedLayers(l.layerId,l.order1,l.order2),this.swappedPairs[s]=this.totalIterations,this.banned2SwapPairs[s]=!0,this.highlightPair(s,this.colorSwappedPair);for(var d=this.id2LNode[l.n1].edges,p=this.id2LNode[l.n2].edges,g=0;g<d.length;g++)h[d[g].source.id]=!0,h[d[g].target.id]=!0;for(var v=0;v<p.length;v++)h[p[v].source.id]=!0,h[p[v].target.id]=!0}}},r.prototype.highlightPair=function(t,e){if(void 0===e&&(e=!1),this.isHighlightSwappedPair){var r=t.split("|");if(this.cy){var n=this.cy.$id(r[0]).union(this.cy.$id(r[1]));e?(n.css("border-color",""),n.css("border-width","0")):(this.cntBan4swap++,n.css("border-color",this.distinctColors[this.cntBan4swap%this.distinctColors.length]),n.css("border-width","3px"))}}},r.prototype.calcRepulsionForces=function(){if(this.totalIterations<this.fullyCalcRep4Ticks*this.maxIterations)for(var t=0;t<this.orderedLayers.length;t++)for(var e=this.orderedLayers[t],r=0;r<e.length;r++)for(var n=r+1;n<e.length;n++)e[r],e[n],this.calcRepulsionForce(e[r],e[n]);else for(t=0;t<this.orderedLayers.length;t++)for(e=this.orderedLayers[t],r=0;r<e.length-1;r++){e[r],e[r+1],this.calcRepulsionForce(e[r],e[r+1]);for(var i=2;i<=this.nodeRepulsionCalculationWidth;i++)if(r<e.length-i){if(e[r+i].isChild)continue;this.calcRepulsionForce(e[r],e[r+i])}}},r.prototype.calcRepulsionForcesInRootGraph=function(){var t=this;this.graphManager.rootGraph.nodes.forEach((function(e){e.nodeRepulsion=t.nodeRepulsion/300}));for(var e=0;e<this.orderedLayers.length;e++)for(var r=this.orderedLayers[e],n=0;n<r.length;n++){for(var i=n+1;i<r.length;i++)r[n].nodeRepulsion=this.nodeRepulsion,r[i].nodeRepulsion=this.nodeRepulsion,this.calcRepulsionForce(r[n],r[i]);var o=r[n];o.nodeRepulsion=this.nodeRepulsion/300;for(var a=0;a<this.topCompoundNodes.length;a++){var s=this.topCompoundNodes[a];this.fdCalculateRepulsionForces(o,s)}for(a=0;a<this.bottomCompoundNodes.length;a++){s=this.bottomCompoundNodes[a];this.fdCalculateRepulsionForces(o,s)}for(a=0;a<this.leftCompoundNodes.length;a++){s=this.leftCompoundNodes[a];this.fdCalculateRepulsionForces(o,s)}for(a=0;a<this.rightCompoundNodes.length;a++){s=this.rightCompoundNodes[a];this.fdCalculateRepulsionForces(o,s)}}},r.prototype.moveNodes=function(){for(var t=this.graphManager.allNodes,e=0;e<t.length;e++)t[e].calculateDisplacement(),t[e].move(),1==t[e].isDirected&&this.maintainLayers(t[e]),t[e].resetForcesAndDisplacement()},r.prototype.expandNodes=function(){(new Date).getTime();for(var t=this.graphManager.allNodes.filter((function(t){return 1==t.isDirected})),e=[],r={},n=[],i=0;i<t.length;i++)n.push(t[i].order),e.includes(t[i].rank)||e.push(t[i].rank),r[t[i].rank]?r[t[i].rank]++:r[t[i].rank]=1;e.forEach((function(e){var r=t.filter((function(t){return t.rank==e})),n=r.length/2;r.forEach((function(t){if(t.order<n){var e=30*(t.order-n);t.moveOnXaxis(e)}else{e=30*(t.order-n);t.moveOnXaxis(e)}}))})),(new Date).getTime()},r.prototype.expandNodesByStreching=function(){(new Date).getTime();for(var t=this.graphManager.allNodes.filter((function(t){return 1==t.isDirected})),e=Math.min.apply(Math,i([],n(t.map((function(t){return t.rect.x}))),!1)),r=e+(Math.max.apply(Math,i([],n(t.map((function(t){return t.rect.x+t.rect.width}))),!1))-e)/2,o=this.expansionCoefficient,a=0;a<t.length;a++)if(t[a].rect.x>r){var s=r+(t[a].rect.x-r)*o;t[a].moveBy(s-t[a].rect.x,0)}else{s=r-(r-t[a].rect.x)*o;t[a].moveBy(s-t[a].rect.x,0)}(new Date).getTime()},r.prototype.setPositionsFromLayering=function(){for(var t=this.orderedLayers,e=this.orderGap,r=Math.max.apply(Math,i([],n(t.map((function(t){return t.length}))),!1))*e,o=0;o<t.length;o++)for(var a=0;a<t[o].length;a++){var s=t[o][a],u={x:r/(t[o].length+1)*(a+1),y:80*o};s.setLocation(u.x,u.y)}},r.prototype.countCrosses=function(){for(var t=this,e=0,r=function(r){for(var i=[],o=function(e){i=i.concat(n.orderedLayers[r][e].edges.filter((function(n){return n.source.id==t.orderedLayers[r][e].id})))},a=0;a<n.orderedLayers[r].length;a++)o(a);for(a=0;a<i.length;a++)for(var s=i[a],u=a+1;u<i.length;u++){var c=i[u];s.source.id!=c.source.id&&s.target.id!=c.target.id&&((s.source.rect.x>c.source.rect.x&&s.target.rect.x<c.target.rect.x||s.source.rect.x<c.source.rect.x&&s.target.rect.x>c.target.rect.x)&&e++)}},n=this,i=0;i<this.orderedLayers.length;i++)r(i);return e},r.prototype.isAllSorted=function(){for(var t=0;t<this.orderedLayers.length;t++)for(var e=0;e<this.orderedLayers[t].length-1;e++)if(this.orderedLayers[t][e].rect.x>=this.orderedLayers[t][e+1].rect.x)return!1;return!0},r.prototype.maintainLayers=function(t){var e=t.displacementX>0?t.order+1:t.order-1,r=this.orderedLayers[t.layerIdx][e];if(t.displacementX>0)for(;r&&t.rect.x>r.rect.x;)this.swapOnOrderedLayers(t.layerIdx,e-1,e),e++,r=this.orderedLayers[t.layerIdx][e];else for(;r&&t.rect.x<r.rect.x;)this.swapOnOrderedLayers(t.layerIdx,e+1,e),e--,r=this.orderedLayers[t.layerIdx][e]},r.prototype.prepareOrderedLayers=function(){var t=this,e="string"==typeof this.layering[0][0]?function(e){return t.id2LNode[e]}:function(e){return t.id2LNode[e.id()]};this.orderedLayers=[];for(var r=0;r<this.layering.length;r++){for(var n=this.layering[r].map(e).sort((function(t,e){return t.rect.x-e.rect.x})),i=0;i<n.length;i++)n[i].layerIdx=r,n[i].order=i;this.orderedLayers.push(n)}},r.prototype.swapOnOrderedLayers=function(t,e,r){var n=this.orderedLayers[t][e];this.orderedLayers[t][e]=this.orderedLayers[t][r],this.orderedLayers[t][r]=n,this.orderedLayers[t][e].order=e,this.orderedLayers[t][r].order=r},r}(u.exports.CoSELayout),d=function(t){function r(e,r,n){return t.call(this,e,r,n)||this}return e(r,t),r}(u.exports.CoSEEdge),p=function(){function t(t){this.id2LNode={},this.options=Object.assign({},o,t)}return t.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles.nodes(),n=this.initPositionsLikeDagre(e,r,t);if(t.isManuelRankAndOrder&&(n=this.getLayeringFromData(r)),this.randomizeOrderInLayers(n),this.setPositionsFromLayering(n,t),t.justHierarchy)return r.layoutPositions(this,t,(function(t){return{x:t.position("x"),y:t.position("y")}})),this;var i=new f(n,e);i.swapPeriod=t.swapPeriod,i.minPairSwapPeriod=t.minPairSwapPeriod,i.swapForceLimit=t.swapForceLimit,i.isHighlightSwappedPair="during"==t.animate;var o=i.newGraphManager();if(console.log("processing nodes"),this.processNodes(e,o.addRoot(),i,t),this.processEdges(e,o,t),"during"!=t.animate){i.runLayout();for(var a=0;a<o.allNodes.length;a++){var s=o.allNodes[a];e.nodes("#"+s.id).scratch("force_directed_pos",{x:s.rect.x,y:s.rect.y})}r.layoutPositions(this,t,(function(t){var e=(t="object"==typeof t?t:this).scratch("force_directed_pos");return{x:e.x,y:e.y}})),t.stop&&"function"==typeof t.stop&&t.stop()}else this.runTickByTickAnimated(i,r,t);return this},t.prototype.runTickByTickAnimated=function(t,e,r){var n=this;t.beforeLayout(),t.swapPeriod=r.swapPeriod,t.minPairSwapPeriod=r.minPairSwapPeriod,t.isFastCooling=r.isFastCooling,t.swapForceLimit=r.swapForceLimit,t.coolingCoefficient=r.coolingCoefficient,t.orderFlipPeriod=r.orderFlipPeriod,t.nodeRepulsionCalculationWidth=r.nodeRepulsionCalculationWidth,t.fullyCalcRep4Ticks=r.fullyCalcRep4Ticks,t.uniformNodeDimensions=r.uniformNodeDimensions,t.maxNodeDisplacement=r.maxNodeDisplacement,t.orderGap=r.orderGap;var i=function(){setTimeout((function(){for(var o=!1,a=0;a<r.ticksPerFrame&&!o;a++)o=t.tick();e.positions((function(t){var e=n.id2LNode[t.id()];return{x:e.getRect().getCenterX(),y:e.getRect().getCenterY()}})),o?(console.log("Ended in ",t.totalIterations," ticks "),r.stop&&"function"==typeof r.stop&&r.stop()):requestAnimationFrame(i)}),r.tickDelay)};requestAnimationFrame(i)},t.prototype.processNodes=function(t,e,r,n){for(var i=t.nodes(),o=0;o<i.length;o++){var a=i[o],s=a.position(),c=a.width(),h=a.height(),f=new l(r.graphManager,new u.exports.PointD(s.x,s.y),new u.exports.DimensionD(c,h),null,a.id(),a.rank);f.nodeRepulsion=n.nodeRepulsion,f.isDirected=a.data("isDirected"),console.log(f);var d=e.add(f);this.id2LNode[a.id()]=d}},t.prototype.processEdges=function(t,e,r){for(var n=t.edges(),i=0;i<n.length;i++){var o=n[i],a=this.id2LNode[o.source().id()],s=this.id2LNode[o.target().id()],u=new d(a,s,null);u.idealLength=r.idealEdgeLength,u.edgeElasticity=r.edgeElasticity,e.add(u,a,s)}},t.prototype.initPositionsLikeDagre=function(t,e,r){for(var o=this.getLayers(t,e),a=r.rankGap,s=r.orderGap,u=Math.max.apply(Math,i([],n(o.map((function(t){return t.length}))),!1))*s,c=0;c<o.length;c++)for(var h=0;h<o[c].length;h++){var l=o[c][h],f={x:u/(o[c].length+1)*(h+1),y:a*c};l.position(f)}return o},t.prototype.getLayeringFromData=function(t){var e,n,i,o;if(t[0].data("level")){var a={},s=t.map((function(t){return Number(t.data("level"))}));try{for(var u=r(s),c=u.next();!c.done;c=u.next()){a[f=c.value]||(a[f]=0),a[f]+=1}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var h=Object.keys(a).length,l=new Array(h);for(var f in a)l[Number(f)]=new Array(a[f]);for(var d=0;d<t.length;d++){var p=t[d],g=Number(p.data("level")),v=a[g]-1;l[g][v]=p,a[g]=a[g]-1}return l}a={},s=t.map((function(t){return Number(t.id().substr(1).split("_")[0])}));try{for(var y=r(s),m=y.next();!m.done;m=y.next()){a[f=m.value]||(a[f]=0),a[f]+=1}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}h=Object.keys(a).length,l=new Array(h);for(var f in a)l[Number(f)-1]=new Array(a[f]);for(d=0;d<t.length;d++){var _=(p=t[d]).id().substr(1).split("_");l[_[0]-1][_[1]-1]=p}return l},t.prototype.randomizeOrderInLayers=function(t){for(var e=0;e<t.length;e++)t[e].sort((function(){return Math.random()-.5}))},t.prototype.setPositionsFromLayering=function(t,e){for(var r=e.rankGap,o=e.orderGap,a=Math.max.apply(Math,i([],n(t.map((function(t){return t.length}))),!1))*o,s=0;s<t.length;s++)for(var u=0;u<t[s].length;u++){var c=t[s][u],h={x:a/(t[s].length+1)*(u+1),y:r*s};c.position(h)}},t.prototype.printLayers=function(t,e){for(var r=this.getLayers(t,e),n="",i=0;i<r.length;i++){n+="[";for(var o=0;o<r[i].length;o++)n+=r[i][o].id()+", ";n=n.slice(0,n.length-2),n+="]\n"}console.log(n)},t.prototype.getLayers=function(t,e){for(var r=[],n=t.collection();n.length<e.length;){for(var i=[],o=e.not(n),a=0;a<o.length;a++){var s=o[a];s.incomers("node").not(n).length<1&&i.push(s)}r.push(i),n.merge(i)}return r},t}(),g={exports:{}};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
!function(t,e){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",s=16,u=32,c=64,h=128,l=256,f=1/0,d=9007199254740991,p=NaN,g=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",u],["partialRight",c],["rearg",l]],y="[object Arguments]",m="[object Array]",_="[object Boolean]",w="[object Date]",E="[object Error]",b="[object Function]",x="[object GeneratorFunction]",N="[object Map]",A="[object Number]",T="[object Object]",L="[object Promise]",C="[object RegExp]",M="[object Set]",O="[object String]",I="[object Symbol]",D="[object WeakMap]",R="[object ArrayBuffer]",F="[object DataView]",P="[object Float32Array]",S="[object Float64Array]",G="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",U="[object Uint8Array]",Y="[object Uint8ClampedArray]",X="[object Uint16Array]",z="[object Uint32Array]",H=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,$=RegExp(V.source),Z=RegExp(q.source),K=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,it=RegExp(nt.source),ot=/^\s+/,at=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ft=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nt="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",Lt="\\ufe0e\\ufe0f",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt="[']",Ot="[\\ud800-\\udfff]",It="["+Ct+"]",Dt="["+xt+"]",Rt="\\d+",Ft="[\\u2700-\\u27bf]",Pt="["+At+"]",St="[^\\ud800-\\udfff"+Ct+Rt+Nt+At+Tt+"]",Gt="\\ud83c[\\udffb-\\udfff]",jt="[^\\ud800-\\udfff]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Yt="["+Tt+"]",Xt="(?:"+Pt+"|"+St+")",zt="(?:"+Yt+"|"+St+")",Ht="(?:['](?:d|ll|m|re|s|t|ve))?",Bt="(?:['](?:D|LL|M|RE|S|T|VE))?",Wt="(?:"+Dt+"|"+Gt+")"+"?",Vt="[\\ufe0e\\ufe0f]?",qt=Vt+Wt+("(?:\\u200d(?:"+[jt,kt,Ut].join("|")+")"+Vt+Wt+")*"),$t="(?:"+[Ft,kt,Ut].join("|")+")"+qt,Zt="(?:"+[jt+Dt+"?",Dt,kt,Ut,Ot].join("|")+")",Kt=RegExp(Mt,"g"),Qt=RegExp(Dt,"g"),Jt=RegExp(Gt+"(?="+Gt+")|"+Zt+qt,"g"),te=RegExp([Yt+"?"+Pt+"+"+Ht+"(?="+[It,Yt,"$"].join("|")+")",zt+"+"+Bt+"(?="+[It,Yt+Xt,"$"].join("|")+")",Yt+"?"+Xt+"+"+Ht,Yt+"+"+Bt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,$t].join("|"),"g"),ee=RegExp("[\\u200d\\ud800-\\udfff"+xt+Lt+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,oe={};oe[P]=oe[S]=oe[G]=oe[j]=oe[k]=oe[U]=oe[Y]=oe[X]=oe[z]=!0,oe[y]=oe[m]=oe[R]=oe[_]=oe[F]=oe[w]=oe[E]=oe[b]=oe[N]=oe[A]=oe[T]=oe[C]=oe[M]=oe[O]=oe[D]=!1;var ae={};ae[y]=ae[m]=ae[R]=ae[F]=ae[_]=ae[w]=ae[P]=ae[S]=ae[G]=ae[j]=ae[k]=ae[N]=ae[A]=ae[T]=ae[C]=ae[M]=ae[O]=ae[I]=ae[U]=ae[Y]=ae[X]=ae[z]=!0,ae[E]=ae[b]=ae[D]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,ce=parseInt,he="object"==typeof a&&a&&a.Object===Object&&a,le="object"==typeof self&&self&&self.Object===Object&&self,fe=he||le||Function("return this")(),de=e&&!e.nodeType&&e,pe=de&&t&&!t.nodeType&&t,ge=pe&&pe.exports===de,ve=ge&&he.process,ye=function(){try{var t=pe&&pe.require&&pe.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),me=ye&&ye.isArrayBuffer,_e=ye&&ye.isDate,we=ye&&ye.isMap,Ee=ye&&ye.isRegExp,be=ye&&ye.isSet,xe=ye&&ye.isTypedArray;function Ne(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ae(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}function Te(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Le(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Me(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function Oe(t,e){return!!(null==t?0:t.length)&&Ue(t,e,0)>-1}function Ie(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function De(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Re(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Fe(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function Pe(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Se(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Ge=He("length");function je(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function ke(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ue(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):ke(t,Xe,r)}function Ye(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function Xe(t){return t!=t}function ze(t,e){var r=null==t?0:t.length;return r?Ve(t,e)/r:p}function He(t){return function(e){return null==e?r:e[t]}}function Be(t){return function(e){return null==t?r:t[e]}}function We(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r}function Ve(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function qe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function $e(t){return t?t.slice(0,dr(t)+1).replace(ot,""):t}function Ze(t){return function(e){return t(e)}}function Ke(t,e){return De(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function Je(t,e){for(var r=-1,n=t.length;++r<n&&Ue(e,t[r],0)>-1;);return r}function tr(t,e){for(var r=t.length;r--&&Ue(e,t[r],0)>-1;);return r}function er(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}var rr=Be({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),nr=Be({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(t){return"\\"+se[t]}function or(t){return ee.test(t)}function ar(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function sr(t,e){return function(r){return t(e(r))}}function ur(t,e){for(var r=-1,n=t.length,i=0,a=[];++r<n;){var s=t[r];s!==e&&s!==o||(t[r]=o,a[i++]=r)}return a}function cr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function hr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}function lr(t){return or(t)?function(t){var e=Jt.lastIndex=0;for(;Jt.test(t);)++e;return e}(t):Ge(t)}function fr(t){return or(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function dr(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var pr=Be({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gr=function t(e){var a,at=(e=null==e?fe:gr.defaults(fe.Object(),e,gr.pick(fe,ne))).Array,xt=e.Date,Nt=e.Error,At=e.Function,Tt=e.Math,Lt=e.Object,Ct=e.RegExp,Mt=e.String,Ot=e.TypeError,It=at.prototype,Dt=At.prototype,Rt=Lt.prototype,Ft=e["__core-js_shared__"],Pt=Dt.toString,St=Rt.hasOwnProperty,Gt=0,jt=(a=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",kt=Rt.toString,Ut=Pt.call(Lt),Yt=fe._,Xt=Ct("^"+Pt.call(St).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ge?e.Buffer:r,Ht=e.Symbol,Bt=e.Uint8Array,Wt=zt?zt.allocUnsafe:r,Vt=sr(Lt.getPrototypeOf,Lt),qt=Lt.create,$t=Rt.propertyIsEnumerable,Zt=It.splice,Jt=Ht?Ht.isConcatSpreadable:r,ee=Ht?Ht.iterator:r,se=Ht?Ht.toStringTag:r,he=function(){try{var t=po(Lt,"defineProperty");return t({},"",{}),t}catch(t){}}(),le=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,de=xt&&xt.now!==fe.Date.now&&xt.now,pe=e.setTimeout!==fe.setTimeout&&e.setTimeout,ve=Tt.ceil,ye=Tt.floor,Ge=Lt.getOwnPropertySymbols,Be=zt?zt.isBuffer:r,vr=e.isFinite,yr=It.join,mr=sr(Lt.keys,Lt),_r=Tt.max,wr=Tt.min,Er=xt.now,br=e.parseInt,xr=Tt.random,Nr=It.reverse,Ar=po(e,"DataView"),Tr=po(e,"Map"),Lr=po(e,"Promise"),Cr=po(e,"Set"),Mr=po(e,"WeakMap"),Or=po(Lt,"create"),Ir=Mr&&new Mr,Dr={},Rr=Yo(Ar),Fr=Yo(Tr),Pr=Yo(Lr),Sr=Yo(Cr),Gr=Yo(Mr),jr=Ht?Ht.prototype:r,kr=jr?jr.valueOf:r,Ur=jr?jr.toString:r;function Yr(t){if(is(t)&&!Va(t)&&!(t instanceof Br)){if(t instanceof Hr)return t;if(St.call(t,"__wrapped__"))return Xo(t)}return new Hr(t)}var Xr=function(){function t(){}return function(e){if(!ns(e))return{};if(qt)return qt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function zr(){}function Hr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Br(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new qr;++e<r;)this.add(t[e])}function Zr(t){var e=this.__data__=new Vr(t);this.size=e.size}function Kr(t,e){var r=Va(t),n=!r&&Wa(t),i=!r&&!n&&Ka(t),o=!r&&!n&&!i&&fs(t),a=r||n||i||o,s=a?qe(t.length,Mt):[],u=s.length;for(var c in t)!e&&!St.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Eo(c,u))||s.push(c);return s}function Qr(t){var e=t.length;return e?t[Zn(0,e-1)]:r}function Jr(t,e){return jo(Ii(t),cn(e,0,t.length))}function tn(t){return jo(Ii(t))}function en(t,e,n){(n!==r&&!za(t[e],n)||n===r&&!(e in t))&&sn(t,e,n)}function rn(t,e,n){var i=t[e];St.call(t,e)&&za(i,n)&&(n!==r||e in t)||sn(t,e,n)}function nn(t,e){for(var r=t.length;r--;)if(za(t[r][0],e))return r;return-1}function on(t,e,r,n){return pn(t,(function(t,i,o){e(n,t,r(t),o)})),n}function an(t,e){return t&&Di(e,Fs(e),t)}function sn(t,e,r){"__proto__"==e&&he?he(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function un(t,e){for(var n=-1,i=e.length,o=at(i),a=null==t;++n<i;)o[n]=a?r:Ms(t,e[n]);return o}function cn(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function hn(t,e,n,i,o,a){var s,u=1&e,c=2&e,h=4&e;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!ns(t))return t;var l=Va(t);if(l){if(s=function(t){var e=t.length,r=new t.constructor(e);e&&"string"==typeof t[0]&&St.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!u)return Ii(t,s)}else{var f=yo(t),d=f==b||f==x;if(Ka(t))return Ai(t,u);if(f==T||f==y||d&&!o){if(s=c||d?{}:_o(t),!u)return c?function(t,e){return Di(t,vo(t),e)}(t,function(t,e){return t&&Di(e,Ps(e),t)}(s,t)):function(t,e){return Di(t,go(t),e)}(t,an(s,t))}else{if(!ae[f])return o?t:{};s=function(t,e,r){var n=t.constructor;switch(e){case R:return Ti(t);case _:case w:return new n(+t);case F:return function(t,e){var r=e?Ti(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case P:case S:case G:case j:case k:case U:case Y:case X:case z:return Li(t,r);case N:return new n;case A:case O:return new n(t);case C:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case M:return new n;case I:return i=t,kr?Lt(kr.call(i)):{}}var i}(t,f,u)}}a||(a=new Zr);var p=a.get(t);if(p)return p;a.set(t,s),cs(t)?t.forEach((function(r){s.add(hn(r,e,n,r,t,a))})):os(t)&&t.forEach((function(r,i){s.set(i,hn(r,e,n,i,t,a))}));var g=l?r:(h?c?ao:oo:c?Ps:Fs)(t);return Te(g||t,(function(r,i){g&&(r=t[i=r]),rn(s,i,hn(r,e,n,i,t,a))})),s}function ln(t,e,n){var i=n.length;if(null==t)return!i;for(t=Lt(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function fn(t,e,i){if("function"!=typeof t)throw new Ot(n);return Fo((function(){t.apply(r,i)}),e)}function dn(t,e,r,n){var i=-1,o=Oe,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;r&&(e=De(e,Ze(r))),n?(o=Ie,a=!1):e.length>=200&&(o=Qe,a=!1,e=new $r(e));t:for(;++i<s;){var h=t[i],l=null==r?h:r(h);if(h=n||0!==h?h:0,a&&l==l){for(var f=c;f--;)if(e[f]===l)continue t;u.push(h)}else o(e,l,n)||u.push(h)}return u}Yr.templateSettings={escape:K,evaluate:Q,interpolate:J,variable:"",imports:{_:Yr}},Yr.prototype=zr.prototype,Yr.prototype.constructor=Yr,Hr.prototype=Xr(zr.prototype),Hr.prototype.constructor=Hr,Br.prototype=Xr(zr.prototype),Br.prototype.constructor=Br,Wr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},Wr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wr.prototype.get=function(t){var e=this.__data__;if(Or){var n=e[t];return n===i?r:n}return St.call(e,t)?e[t]:r},Wr.prototype.has=function(t){var e=this.__data__;return Or?e[t]!==r:St.call(e,t)},Wr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Or&&e===r?i:e,this},Vr.prototype.clear=function(){this.__data__=[],this.size=0},Vr.prototype.delete=function(t){var e=this.__data__,r=nn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zt.call(e,r,1),--this.size,!0)},Vr.prototype.get=function(t){var e=this.__data__,n=nn(e,t);return n<0?r:e[n][1]},Vr.prototype.has=function(t){return nn(this.__data__,t)>-1},Vr.prototype.set=function(t,e){var r=this.__data__,n=nn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Tr||Vr),string:new Wr}},qr.prototype.delete=function(t){var e=lo(this,t).delete(t);return this.size-=e?1:0,e},qr.prototype.get=function(t){return lo(this,t).get(t)},qr.prototype.has=function(t){return lo(this,t).has(t)},qr.prototype.set=function(t,e){var r=lo(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(t){return this.__data__.set(t,i),this},$r.prototype.has=function(t){return this.__data__.has(t)},Zr.prototype.clear=function(){this.__data__=new Vr,this.size=0},Zr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Zr.prototype.get=function(t){return this.__data__.get(t)},Zr.prototype.has=function(t){return this.__data__.has(t)},Zr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Vr){var n=r.__data__;if(!Tr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(t,e),this.size=r.size,this};var pn=Pi(bn),gn=Pi(xn,!0);function vn(t,e){var r=!0;return pn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function yn(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===r?s==s&&!ls(s):n(s,u)))var u=s,c=a}return c}function mn(t,e){var r=[];return pn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function _n(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=wo),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?_n(s,e-1,r,n,i):Re(i,s):n||(i[i.length]=s)}return i}var wn=Si(),En=Si(!0);function bn(t,e){return t&&wn(t,e,Fs)}function xn(t,e){return t&&En(t,e,Fs)}function Nn(t,e){return Me(e,(function(e){return ts(t[e])}))}function An(t,e){for(var n=0,i=(e=Ei(e,t)).length;null!=t&&n<i;)t=t[Uo(e[n++])];return n&&n==i?t:r}function Tn(t,e,r){var n=e(t);return Va(t)?n:Re(n,r(t))}function Ln(t){return null==t?t===r?"[object Undefined]":"[object Null]":se&&se in Lt(t)?function(t){var e=St.call(t,se),n=t[se];try{t[se]=r;var i=!0}catch(t){}var o=kt.call(t);i&&(e?t[se]=n:delete t[se]);return o}(t):function(t){return kt.call(t)}(t)}function Cn(t,e){return t>e}function Mn(t,e){return null!=t&&St.call(t,e)}function On(t,e){return null!=t&&e in Lt(t)}function In(t,e,n){for(var i=n?Ie:Oe,o=t[0].length,a=t.length,s=a,u=at(a),c=1/0,h=[];s--;){var l=t[s];s&&e&&(l=De(l,Ze(e))),c=wr(l.length,c),u[s]=!n&&(e||o>=120&&l.length>=120)?new $r(s&&l):r}l=t[0];var f=-1,d=u[0];t:for(;++f<o&&h.length<c;){var p=l[f],g=e?e(p):p;if(p=n||0!==p?p:0,!(d?Qe(d,g):i(h,g,n))){for(s=a;--s;){var v=u[s];if(!(v?Qe(v,g):i(t[s],g,n)))continue t}d&&d.push(g),h.push(p)}}return h}function Dn(t,e,n){var i=null==(t=Oo(t,e=Ei(e,t)))?t:t[Uo(Jo(e))];return null==i?r:Ne(i,t,n)}function Rn(t){return is(t)&&Ln(t)==y}function Fn(t,e,n,i,o){return t===e||(null==t||null==e||!is(t)&&!is(e)?t!=t&&e!=e:function(t,e,n,i,o,a){var s=Va(t),u=Va(e),c=s?m:yo(t),h=u?m:yo(e),l=(c=c==y?T:c)==T,f=(h=h==y?T:h)==T,d=c==h;if(d&&Ka(t)){if(!Ka(e))return!1;s=!0,l=!1}if(d&&!l)return a||(a=new Zr),s||fs(t)?no(t,e,n,i,o,a):function(t,e,r,n,i,o,a){switch(r){case F:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new Bt(t),new Bt(e)));case _:case w:case A:return za(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case O:return t==e+"";case N:var s=ar;case M:var u=1&n;if(s||(s=cr),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var h=no(s(t),s(e),n,i,o,a);return a.delete(t),h;case I:if(kr)return kr.call(t)==kr.call(e)}return!1}(t,e,c,n,i,o,a);if(!(1&n)){var p=l&&St.call(t,"__wrapped__"),g=f&&St.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,b=g?e.value():e;return a||(a=new Zr),o(v,b,n,i,a)}}if(!d)return!1;return a||(a=new Zr),function(t,e,n,i,o,a){var s=1&n,u=oo(t),c=u.length,h=oo(e).length;if(c!=h&&!s)return!1;var l=c;for(;l--;){var f=u[l];if(!(s?f in e:St.call(e,f)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var g=!0;a.set(t,e),a.set(e,t);var v=s;for(;++l<c;){var y=t[f=u[l]],m=e[f];if(i)var _=s?i(m,y,f,e,t,a):i(y,m,f,t,e,a);if(!(_===r?y===m||o(y,m,n,i,a):_)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=t.constructor,E=e.constructor;w==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,i,o,a)}(t,e,n,i,Fn,o))}function Pn(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=Lt(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=n[o])[0],h=t[c],l=u[1];if(s&&u[2]){if(h===r&&!(c in t))return!1}else{var f=new Zr;if(i)var d=i(h,l,c,t,e,f);if(!(d===r?Fn(l,h,3,i,f):d))return!1}}return!0}function Sn(t){return!(!ns(t)||(e=t,jt&&jt in e))&&(ts(t)?Xt:yt).test(Yo(t));var e}function Gn(t){return"function"==typeof t?t:null==t?au:"object"==typeof t?Va(t)?zn(t[0],t[1]):Xn(t):gu(t)}function jn(t){if(!To(t))return mr(t);var e=[];for(var r in Lt(t))St.call(t,r)&&"constructor"!=r&&e.push(r);return e}function kn(t){if(!ns(t))return function(t){var e=[];if(null!=t)for(var r in Lt(t))e.push(r);return e}(t);var e=To(t),r=[];for(var n in t)("constructor"!=n||!e&&St.call(t,n))&&r.push(n);return r}function Un(t,e){return t<e}function Yn(t,e){var r=-1,n=$a(t)?at(t.length):[];return pn(t,(function(t,i,o){n[++r]=e(t,i,o)})),n}function Xn(t){var e=fo(t);return 1==e.length&&e[0][2]?Co(e[0][0],e[0][1]):function(r){return r===t||Pn(r,t,e)}}function zn(t,e){return xo(t)&&Lo(e)?Co(Uo(t),e):function(n){var i=Ms(n,t);return i===r&&i===e?Os(n,t):Fn(e,i,3)}}function Hn(t,e,n,i,o){t!==e&&wn(e,(function(a,s){if(o||(o=new Zr),ns(a))!function(t,e,n,i,o,a,s){var u=Do(t,n),c=Do(e,n),h=s.get(c);if(h)return void en(t,n,h);var l=a?a(u,c,n+"",t,e,s):r,f=l===r;if(f){var d=Va(c),p=!d&&Ka(c),g=!d&&!p&&fs(c);l=c,d||p||g?Va(u)?l=u:Za(u)?l=Ii(u):p?(f=!1,l=Ai(c,!0)):g?(f=!1,l=Li(c,!0)):l=[]:ss(c)||Wa(c)?(l=u,Wa(u)?l=ws(u):ns(u)&&!ts(u)||(l=_o(c))):f=!1}f&&(s.set(c,l),o(l,c,i,a,s),s.delete(c));en(t,n,l)}(t,e,s,n,Hn,i,o);else{var u=i?i(Do(t,s),a,s+"",t,e,o):r;u===r&&(u=a),en(t,s,u)}}),Ps)}function Bn(t,e){var n=t.length;if(n)return Eo(e+=e<0?n:0,n)?t[e]:r}function Wn(t,e,r){e=e.length?De(e,(function(t){return Va(t)?function(e){return An(e,1===t.length?t[0]:t)}:t})):[au];var n=-1;e=De(e,Ze(ho()));var i=Yn(t,(function(t,r,i){var o=De(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;for(;++n<a;){var u=Ci(i[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Vn(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],s=An(t,a);r(s,a)&&ei(o,Ei(a,t),s)}return o}function qn(t,e,r,n){var i=n?Ye:Ue,o=-1,a=e.length,s=t;for(t===e&&(e=Ii(e)),r&&(s=De(t,Ze(r)));++o<a;)for(var u=0,c=e[o],h=r?r(c):c;(u=i(s,h,u,n))>-1;)s!==t&&Zt.call(s,u,1),Zt.call(t,u,1);return t}function $n(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;Eo(i)?Zt.call(t,i,1):di(t,i)}}return t}function Zn(t,e){return t+ye(xr()*(e-t+1))}function Kn(t,e){var r="";if(!t||e<1||e>d)return r;do{e%2&&(r+=t),(e=ye(e/2))&&(t+=t)}while(e);return r}function Qn(t,e){return Po(Mo(t,e,au),t+"")}function Jn(t){return Qr(zs(t))}function ti(t,e){var r=zs(t);return jo(r,cn(e,0,r.length))}function ei(t,e,n,i){if(!ns(t))return t;for(var o=-1,a=(e=Ei(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var c=Uo(e[o]),h=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=s){var l=u[c];(h=i?i(l,c,u):r)===r&&(h=ns(l)?l:Eo(e[o+1])?[]:{})}rn(u,c,h),u=u[c]}return t}var ri=Ir?function(t,e){return Ir.set(t,e),t}:au,ni=he?function(t,e){return he(t,"toString",{configurable:!0,enumerable:!1,value:nu(e),writable:!0})}:au;function ii(t){return jo(zs(t))}function oi(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=at(i);++n<i;)o[n]=t[n+e];return o}function ai(t,e){var r;return pn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function si(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=t[o];null!==a&&!ls(a)&&(r?a<=e:a<e)?n=o+1:i=o}return i}return ui(t,e,au,r)}function ui(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,c=ls(e),h=e===r;o<a;){var l=ye((o+a)/2),f=n(t[l]),d=f!==r,p=null===f,g=f==f,v=ls(f);if(s)var y=i||g;else y=h?g&&(i||d):u?g&&d&&(i||!p):c?g&&d&&!p&&(i||!v):!p&&!v&&(i?f<=e:f<e);y?o=l+1:a=l}return wr(a,4294967294)}function ci(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r],s=e?e(a):a;if(!r||!za(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function hi(t){return"number"==typeof t?t:ls(t)?p:+t}function li(t){if("string"==typeof t)return t;if(Va(t))return De(t,li)+"";if(ls(t))return Ur?Ur.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function fi(t,e,r){var n=-1,i=Oe,o=t.length,a=!0,s=[],u=s;if(r)a=!1,i=Ie;else if(o>=200){var c=e?null:Ki(t);if(c)return cr(c);a=!1,i=Qe,u=new $r}else u=e?[]:s;t:for(;++n<o;){var h=t[n],l=e?e(h):h;if(h=r||0!==h?h:0,a&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue t;e&&u.push(l),s.push(h)}else i(u,l,r)||(u!==s&&u.push(l),s.push(h))}return s}function di(t,e){return null==(t=Oo(t,e=Ei(e,t)))||delete t[Uo(Jo(e))]}function pi(t,e,r,n){return ei(t,e,r(An(t,e)),n)}function gi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?oi(t,n?0:o,n?o+1:i):oi(t,n?o+1:0,n?i:o)}function vi(t,e){var r=t;return r instanceof Br&&(r=r.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),r)}function yi(t,e,r){var n=t.length;if(n<2)return n?fi(t[0]):[];for(var i=-1,o=at(n);++i<n;)for(var a=t[i],s=-1;++s<n;)s!=i&&(o[i]=dn(o[i]||a,t[s],e,r));return fi(_n(o,1),e,r)}function mi(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:r;n(s,t[i],u)}return s}function _i(t){return Za(t)?t:[]}function wi(t){return"function"==typeof t?t:au}function Ei(t,e){return Va(t)?t:xo(t,e)?[t]:ko(Es(t))}var bi=Qn;function xi(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:oi(t,e,n)}var Ni=le||function(t){return fe.clearTimeout(t)};function Ai(t,e){if(e)return t.slice();var r=t.length,n=Wt?Wt(r):new t.constructor(r);return t.copy(n),n}function Ti(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function Li(t,e){var r=e?Ti(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ci(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,a=ls(t),s=e!==r,u=null===e,c=e==e,h=ls(e);if(!u&&!h&&!a&&t>e||a&&s&&c&&!u&&!h||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!h&&t<e||h&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Mi(t,e,r,n){for(var i=-1,o=t.length,a=r.length,s=-1,u=e.length,c=_r(o-a,0),h=at(u+c),l=!n;++s<u;)h[s]=e[s];for(;++i<a;)(l||i<o)&&(h[r[i]]=t[i]);for(;c--;)h[s++]=t[i++];return h}function Oi(t,e,r,n){for(var i=-1,o=t.length,a=-1,s=r.length,u=-1,c=e.length,h=_r(o-s,0),l=at(h+c),f=!n;++i<h;)l[i]=t[i];for(var d=i;++u<c;)l[d+u]=e[u];for(;++a<s;)(f||i<o)&&(l[d+r[a]]=t[i++]);return l}function Ii(t,e){var r=-1,n=t.length;for(e||(e=at(n));++r<n;)e[r]=t[r];return e}function Di(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=i?i(n[u],t[u],u,n,t):r;c===r&&(c=t[u]),o?sn(n,u,c):rn(n,u,c)}return n}function Ri(t,e){return function(r,n){var i=Va(r)?Ae:on,o=e?e():{};return i(r,t,ho(n,2),o)}}function Fi(t){return Qn((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&bo(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=Lt(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}function Pi(t,e){return function(r,n){if(null==r)return r;if(!$a(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Lt(r);(e?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Si(t){return function(e,r,n){for(var i=-1,o=Lt(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}function Gi(t){return function(e){var n=or(e=Es(e))?fr(e):r,i=n?n[0]:e.charAt(0),o=n?xi(n,1).join(""):e.slice(1);return i[t]()+o}}function ji(t){return function(e){return Fe(tu(Ws(e).replace(Kt,"")),t,"")}}function ki(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Xr(t.prototype),n=t.apply(r,e);return ns(n)?n:r}}function Ui(t){return function(e,n,i){var o=Lt(e);if(!$a(e)){var a=ho(n,3);e=Fs(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function Yi(t){return io((function(e){var i=e.length,o=i,a=Hr.prototype.thru;for(t&&e.reverse();o--;){var s=e[o];if("function"!=typeof s)throw new Ot(n);if(a&&!u&&"wrapper"==uo(s))var u=new Hr([],!0)}for(o=u?o:i;++o<i;){var c=uo(s=e[o]),h="wrapper"==c?so(s):r;u=h&&No(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?u[uo(h[0])].apply(u,h[3]):1==s.length&&No(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Va(r))return u.plant(r).value();for(var n=0,o=i?e[n].apply(this,t):r;++n<i;)o=e[n].call(this,o);return o}}))}function Xi(t,e,n,i,o,a,s,u,c,l){var f=e&h,d=1&e,p=2&e,g=24&e,v=512&e,y=p?r:ki(t);return function r(){for(var h=arguments.length,m=at(h),_=h;_--;)m[_]=arguments[_];if(g)var w=co(r),E=er(m,w);if(i&&(m=Mi(m,i,o,g)),a&&(m=Oi(m,a,s,g)),h-=E,g&&h<l){var b=ur(m,w);return $i(t,e,Xi,r.placeholder,n,m,b,u,c,l-h)}var x=d?n:this,N=p?x[t]:t;return h=m.length,u?m=Io(m,u):v&&h>1&&m.reverse(),f&&c<h&&(m.length=c),this&&this!==fe&&this instanceof r&&(N=y||ki(N)),N.apply(x,m)}}function zi(t,e){return function(r,n){return function(t,e,r,n){return bn(t,(function(t,i,o){e(n,r(t),i,o)})),n}(r,t,e(n),{})}}function Hi(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=li(n),i=li(i)):(n=hi(n),i=hi(i)),o=t(n,i)}return o}}function Bi(t){return io((function(e){return e=De(e,Ze(ho())),Qn((function(r){var n=this;return t(e,(function(t){return Ne(t,n,r)}))}))}))}function Wi(t,e){var n=(e=e===r?" ":li(e)).length;if(n<2)return n?Kn(e,t):e;var i=Kn(e,ve(t/lr(e)));return or(e)?xi(fr(i),0,t).join(""):i.slice(0,t)}function Vi(t){return function(e,n,i){return i&&"number"!=typeof i&&bo(e,n,i)&&(n=i=r),e=vs(e),n===r?(n=e,e=0):n=vs(n),function(t,e,r,n){for(var i=-1,o=_r(ve((e-t)/(r||1)),0),a=at(o);o--;)a[n?o:++i]=t,t+=r;return a}(e,n,i=i===r?e<n?1:-1:vs(i),t)}}function qi(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=_s(e),r=_s(r)),t(e,r)}}function $i(t,e,n,i,o,a,s,h,l,f){var d=8&e;e|=d?u:c,4&(e&=~(d?c:u))||(e&=-4);var p=[t,e,o,d?a:r,d?s:r,d?r:a,d?r:s,h,l,f],g=n.apply(r,p);return No(t)&&Ro(g,p),g.placeholder=i,So(g,t,e)}function Zi(t){var e=Tt[t];return function(t,r){if(t=_s(t),(r=null==r?0:wr(ys(r),292))&&vr(t)){var n=(Es(t)+"e").split("e");return+((n=(Es(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Ki=Cr&&1/cr(new Cr([,-0]))[1]==f?function(t){return new Cr(t)}:lu;function Qi(t){return function(e){var r=yo(e);return r==N?ar(e):r==M?hr(e):function(t,e){return De(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ji(t,e,i,a,f,d,p,g){var v=2&e;if(!v&&"function"!=typeof t)throw new Ot(n);var y=a?a.length:0;if(y||(e&=-97,a=f=r),p=p===r?p:_r(ys(p),0),g=g===r?g:ys(g),y-=f?f.length:0,e&c){var m=a,_=f;a=f=r}var w=v?r:so(t),E=[t,e,i,a,f,m,_,d,p,g];if(w&&function(t,e){var r=t[1],n=e[1],i=r|n,a=i<131,s=n==h&&8==r||n==h&&r==l&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!a&&!s)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Mi(c,u,e[4]):u,t[4]=c?ur(t[3],o):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Oi(c,u,e[6]):u,t[6]=c?ur(t[5],o):e[6]);(u=e[7])&&(t[7]=u);n&h&&(t[8]=null==t[8]?e[8]:wr(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(E,w),t=E[0],e=E[1],i=E[2],a=E[3],f=E[4],!(g=E[9]=E[9]===r?v?0:t.length:_r(E[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||e==s?function(t,e,n){var i=ki(t);return function o(){for(var a=arguments.length,s=at(a),u=a,c=co(o);u--;)s[u]=arguments[u];var h=a<3&&s[0]!==c&&s[a-1]!==c?[]:ur(s,c);return(a-=h.length)<n?$i(t,e,Xi,o.placeholder,r,s,h,r,r,n-a):Ne(this&&this!==fe&&this instanceof o?i:t,this,s)}}(t,e,g):e!=u&&33!=e||f.length?Xi.apply(r,E):function(t,e,r,n){var i=1&e,o=ki(t);return function e(){for(var a=-1,s=arguments.length,u=-1,c=n.length,h=at(c+s),l=this&&this!==fe&&this instanceof e?o:t;++u<c;)h[u]=n[u];for(;s--;)h[u++]=arguments[++a];return Ne(l,i?r:this,h)}}(t,e,i,a);else var b=function(t,e,r){var n=1&e,i=ki(t);return function e(){return(this&&this!==fe&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,i);return So((w?ri:Ro)(b,E),t,e)}function to(t,e,n,i){return t===r||za(t,Rt[n])&&!St.call(i,n)?e:t}function eo(t,e,n,i,o,a){return ns(t)&&ns(e)&&(a.set(e,t),Hn(t,e,r,eo,a),a.delete(e)),t}function ro(t){return ss(t)?r:t}function no(t,e,n,i,o,a){var s=1&n,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var h=a.get(t),l=a.get(e);if(h&&l)return h==e&&l==t;var f=-1,d=!0,p=2&n?new $r:r;for(a.set(t,e),a.set(e,t);++f<u;){var g=t[f],v=e[f];if(i)var y=s?i(v,g,f,e,t,a):i(g,v,f,t,e,a);if(y!==r){if(y)continue;d=!1;break}if(p){if(!Se(e,(function(t,e){if(!Qe(p,e)&&(g===t||o(g,t,n,i,a)))return p.push(e)}))){d=!1;break}}else if(g!==v&&!o(g,v,n,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function io(t){return Po(Mo(t,r,qo),t+"")}function oo(t){return Tn(t,Fs,go)}function ao(t){return Tn(t,Ps,vo)}var so=Ir?function(t){return Ir.get(t)}:lu;function uo(t){for(var e=t.name+"",r=Dr[e],n=St.call(Dr,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function co(t){return(St.call(Yr,"placeholder")?Yr:t).placeholder}function ho(){var t=Yr.iteratee||su;return t=t===su?Gn:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function fo(t){for(var e=Fs(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Lo(i)]}return e}function po(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Sn(n)?n:r}var go=Ge?function(t){return null==t?[]:(t=Lt(t),Me(Ge(t),(function(e){return $t.call(t,e)})))}:mu,vo=Ge?function(t){for(var e=[];t;)Re(e,go(t)),t=Vt(t);return e}:mu,yo=Ln;function mo(t,e,r){for(var n=-1,i=(e=Ei(e,t)).length,o=!1;++n<i;){var a=Uo(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&rs(i)&&Eo(a,i)&&(Va(t)||Wa(t))}function _o(t){return"function"!=typeof t.constructor||To(t)?{}:Xr(Vt(t))}function wo(t){return Va(t)||Wa(t)||!!(Jt&&t&&t[Jt])}function Eo(t,e){var r=typeof t;return!!(e=null==e?d:e)&&("number"==r||"symbol"!=r&&_t.test(t))&&t>-1&&t%1==0&&t<e}function bo(t,e,r){if(!ns(r))return!1;var n=typeof e;return!!("number"==n?$a(r)&&Eo(e,r.length):"string"==n&&e in r)&&za(r[e],t)}function xo(t,e){if(Va(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ls(t))||(et.test(t)||!tt.test(t)||null!=e&&t in Lt(e))}function No(t){var e=uo(t),r=Yr[e];if("function"!=typeof r||!(e in Br.prototype))return!1;if(t===r)return!0;var n=so(r);return!!n&&t===n[0]}(Ar&&yo(new Ar(new ArrayBuffer(1)))!=F||Tr&&yo(new Tr)!=N||Lr&&yo(Lr.resolve())!=L||Cr&&yo(new Cr)!=M||Mr&&yo(new Mr)!=D)&&(yo=function(t){var e=Ln(t),n=e==T?t.constructor:r,i=n?Yo(n):"";if(i)switch(i){case Rr:return F;case Fr:return N;case Pr:return L;case Sr:return M;case Gr:return D}return e});var Ao=Ft?ts:_u;function To(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Lo(t){return t==t&&!ns(t)}function Co(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Lt(n)))}}function Mo(t,e,n){return e=_r(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=_r(r.length-e,0),a=at(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=at(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Ne(t,this,s)}}function Oo(t,e){return e.length<2?t:An(t,oi(e,0,-1))}function Io(t,e){for(var n=t.length,i=wr(e.length,n),o=Ii(t);i--;){var a=e[i];t[i]=Eo(a,n)?o[a]:r}return t}function Do(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ro=Go(ri),Fo=pe||function(t,e){return fe.setTimeout(t,e)},Po=Go(ni);function So(t,e,r){var n=e+"";return Po(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Te(v,(function(r){var n="_."+r[0];e&r[1]&&!Oe(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(ct):[]}(n),r)))}function Go(t){var e=0,n=0;return function(){var i=Er(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function jo(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=Zn(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ko=function(t){var e=Ga(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,r,n,i){e.push(n?i.replace(ft,"$1"):r||t)})),e}));function Uo(t){if("string"==typeof t||ls(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Yo(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xo(t){if(t instanceof Br)return t.clone();var e=new Hr(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zo=Qn((function(t,e){return Za(t)?dn(t,_n(e,1,Za,!0)):[]})),Ho=Qn((function(t,e){var n=Jo(e);return Za(n)&&(n=r),Za(t)?dn(t,_n(e,1,Za,!0),ho(n,2)):[]})),Bo=Qn((function(t,e){var n=Jo(e);return Za(n)&&(n=r),Za(t)?dn(t,_n(e,1,Za,!0),r,n):[]}));function Wo(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ys(r);return i<0&&(i=_r(n+i,0)),ke(t,ho(e,3),i)}function Vo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ys(n),o=n<0?_r(i+o,0):wr(o,i-1)),ke(t,ho(e,3),o,!0)}function qo(t){return(null==t?0:t.length)?_n(t,1):[]}function $o(t){return t&&t.length?t[0]:r}var Zo=Qn((function(t){var e=De(t,_i);return e.length&&e[0]===t[0]?In(e):[]})),Ko=Qn((function(t){var e=Jo(t),n=De(t,_i);return e===Jo(n)?e=r:n.pop(),n.length&&n[0]===t[0]?In(n,ho(e,2)):[]})),Qo=Qn((function(t){var e=Jo(t),n=De(t,_i);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?In(n,r,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:r}var ta=Qn(ea);function ea(t,e){return t&&t.length&&e&&e.length?qn(t,e):t}var ra=io((function(t,e){var r=null==t?0:t.length,n=un(t,e);return $n(t,De(e,(function(t){return Eo(t,r)?+t:t})).sort(Ci)),n}));function na(t){return null==t?t:Nr.call(t)}var ia=Qn((function(t){return fi(_n(t,1,Za,!0))})),oa=Qn((function(t){var e=Jo(t);return Za(e)&&(e=r),fi(_n(t,1,Za,!0),ho(e,2))})),aa=Qn((function(t){var e=Jo(t);return e="function"==typeof e?e:r,fi(_n(t,1,Za,!0),r,e)}));function sa(t){if(!t||!t.length)return[];var e=0;return t=Me(t,(function(t){if(Za(t))return e=_r(t.length,e),!0})),qe(e,(function(e){return De(t,He(e))}))}function ua(t,e){if(!t||!t.length)return[];var n=sa(t);return null==e?n:De(n,(function(t){return Ne(e,r,t)}))}var ca=Qn((function(t,e){return Za(t)?dn(t,e):[]})),ha=Qn((function(t){return yi(Me(t,Za))})),la=Qn((function(t){var e=Jo(t);return Za(e)&&(e=r),yi(Me(t,Za),ho(e,2))})),fa=Qn((function(t){var e=Jo(t);return e="function"==typeof e?e:r,yi(Me(t,Za),r,e)})),da=Qn(sa);var pa=Qn((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ua(t,n)}));function ga(t){var e=Yr(t);return e.__chain__=!0,e}function va(t,e){return e(t)}var ya=io((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return un(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Br&&Eo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:va,args:[o],thisArg:r}),new Hr(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));var ma=Ri((function(t,e,r){St.call(t,r)?++t[r]:sn(t,r,1)}));var _a=Ui(Wo),wa=Ui(Vo);function Ea(t,e){return(Va(t)?Te:pn)(t,ho(e,3))}function ba(t,e){return(Va(t)?Le:gn)(t,ho(e,3))}var xa=Ri((function(t,e,r){St.call(t,r)?t[r].push(e):sn(t,r,[e])}));var Na=Qn((function(t,e,r){var n=-1,i="function"==typeof e,o=$a(t)?at(t.length):[];return pn(t,(function(t){o[++n]=i?Ne(e,t,r):Dn(t,e,r)})),o})),Aa=Ri((function(t,e,r){sn(t,r,e)}));function Ta(t,e){return(Va(t)?De:Yn)(t,ho(e,3))}var La=Ri((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var Ca=Qn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&bo(t,e[0],e[1])?e=[]:r>2&&bo(e[0],e[1],e[2])&&(e=[e[0]]),Wn(t,_n(e,1),[])})),Ma=de||function(){return fe.Date.now()};function Oa(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ji(t,h,r,r,r,r,e)}function Ia(t,e){var i;if("function"!=typeof e)throw new Ot(n);return t=ys(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var Da=Qn((function(t,e,r){var n=1;if(r.length){var i=ur(r,co(Da));n|=u}return Ji(t,n,e,r,i)})),Ra=Qn((function(t,e,r){var n=3;if(r.length){var i=ur(r,co(Ra));n|=u}return Ji(e,n,t,r,i)}));function Fa(t,e,i){var o,a,s,u,c,h,l=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new Ot(n);function g(e){var n=o,i=a;return o=a=r,l=e,u=t.apply(i,n)}function v(t){return l=t,c=Fo(m,e),f?g(t):u}function y(t){var n=t-h;return h===r||n>=e||n<0||d&&t-l>=s}function m(){var t=Ma();if(y(t))return _(t);c=Fo(m,function(t){var r=e-(t-h);return d?wr(r,s-(t-l)):r}(t))}function _(t){return c=r,p&&o?g(t):(o=a=r,u)}function w(){var t=Ma(),n=y(t);if(o=arguments,a=this,h=t,n){if(c===r)return v(h);if(d)return Ni(c),c=Fo(m,e),g(h)}return c===r&&(c=Fo(m,e)),u}return e=_s(e)||0,ns(i)&&(f=!!i.leading,s=(d="maxWait"in i)?_r(_s(i.maxWait)||0,e):s,p="trailing"in i?!!i.trailing:p),w.cancel=function(){c!==r&&Ni(c),l=0,o=h=a=c=r},w.flush=function(){return c===r?u:_(Ma())},w}var Pa=Qn((function(t,e){return fn(t,1,e)})),Sa=Qn((function(t,e,r){return fn(t,_s(e)||0,r)}));function Ga(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Ga.Cache||qr),r}function ja(t){if("function"!=typeof t)throw new Ot(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ga.Cache=qr;var ka=bi((function(t,e){var r=(e=1==e.length&&Va(e[0])?De(e[0],Ze(ho())):De(_n(e,1),Ze(ho()))).length;return Qn((function(n){for(var i=-1,o=wr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return Ne(t,this,n)}))})),Ua=Qn((function(t,e){var n=ur(e,co(Ua));return Ji(t,u,r,e,n)})),Ya=Qn((function(t,e){var n=ur(e,co(Ya));return Ji(t,c,r,e,n)})),Xa=io((function(t,e){return Ji(t,l,r,r,r,e)}));function za(t,e){return t===e||t!=t&&e!=e}var Ha=qi(Cn),Ba=qi((function(t,e){return t>=e})),Wa=Rn(function(){return arguments}())?Rn:function(t){return is(t)&&St.call(t,"callee")&&!$t.call(t,"callee")},Va=at.isArray,qa=me?Ze(me):function(t){return is(t)&&Ln(t)==R};function $a(t){return null!=t&&rs(t.length)&&!ts(t)}function Za(t){return is(t)&&$a(t)}var Ka=Be||_u,Qa=_e?Ze(_e):function(t){return is(t)&&Ln(t)==w};function Ja(t){if(!is(t))return!1;var e=Ln(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ss(t)}function ts(t){if(!ns(t))return!1;var e=Ln(t);return e==b||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function es(t){return"number"==typeof t&&t==ys(t)}function rs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ns(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function is(t){return null!=t&&"object"==typeof t}var os=we?Ze(we):function(t){return is(t)&&yo(t)==N};function as(t){return"number"==typeof t||is(t)&&Ln(t)==A}function ss(t){if(!is(t)||Ln(t)!=T)return!1;var e=Vt(t);if(null===e)return!0;var r=St.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Pt.call(r)==Ut}var us=Ee?Ze(Ee):function(t){return is(t)&&Ln(t)==C};var cs=be?Ze(be):function(t){return is(t)&&yo(t)==M};function hs(t){return"string"==typeof t||!Va(t)&&is(t)&&Ln(t)==O}function ls(t){return"symbol"==typeof t||is(t)&&Ln(t)==I}var fs=xe?Ze(xe):function(t){return is(t)&&rs(t.length)&&!!oe[Ln(t)]};var ds=qi(Un),ps=qi((function(t,e){return t<=e}));function gs(t){if(!t)return[];if($a(t))return hs(t)?fr(t):Ii(t);if(ee&&t[ee])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[ee]());var e=yo(t);return(e==N?ar:e==M?cr:zs)(t)}function vs(t){return t?(t=_s(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ys(t){var e=vs(t),r=e%1;return e==e?r?e-r:e:0}function ms(t){return t?cn(ys(t),0,g):0}function _s(t){if("number"==typeof t)return t;if(ls(t))return p;if(ns(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ns(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var r=vt.test(t);return r||mt.test(t)?ce(t.slice(2),r?2:8):gt.test(t)?p:+t}function ws(t){return Di(t,Ps(t))}function Es(t){return null==t?"":li(t)}var bs=Fi((function(t,e){if(To(e)||$a(e))Di(e,Fs(e),t);else for(var r in e)St.call(e,r)&&rn(t,r,e[r])})),xs=Fi((function(t,e){Di(e,Ps(e),t)})),Ns=Fi((function(t,e,r,n){Di(e,Ps(e),t,n)})),As=Fi((function(t,e,r,n){Di(e,Fs(e),t,n)})),Ts=io(un);var Ls=Qn((function(t,e){t=Lt(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&bo(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=Ps(a),u=-1,c=s.length;++u<c;){var h=s[u],l=t[h];(l===r||za(l,Rt[h])&&!St.call(t,h))&&(t[h]=a[h])}return t})),Cs=Qn((function(t){return t.push(r,eo),Ne(Gs,r,t)}));function Ms(t,e,n){var i=null==t?r:An(t,e);return i===r?n:i}function Os(t,e){return null!=t&&mo(t,e,On)}var Is=zi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=r}),nu(au)),Ds=zi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),St.call(t,e)?t[e].push(r):t[e]=[r]}),ho),Rs=Qn(Dn);function Fs(t){return $a(t)?Kr(t):jn(t)}function Ps(t){return $a(t)?Kr(t,!0):kn(t)}var Ss=Fi((function(t,e,r){Hn(t,e,r)})),Gs=Fi((function(t,e,r,n){Hn(t,e,r,n)})),js=io((function(t,e){var r={};if(null==t)return r;var n=!1;e=De(e,(function(e){return e=Ei(e,t),n||(n=e.length>1),e})),Di(t,ao(t),r),n&&(r=hn(r,7,ro));for(var i=e.length;i--;)di(r,e[i]);return r}));var ks=io((function(t,e){return null==t?{}:function(t,e){return Vn(t,e,(function(e,r){return Os(t,r)}))}(t,e)}));function Us(t,e){if(null==t)return{};var r=De(ao(t),(function(t){return[t]}));return e=ho(e),Vn(t,r,(function(t,r){return e(t,r[0])}))}var Ys=Qi(Fs),Xs=Qi(Ps);function zs(t){return null==t?[]:Ke(t,Fs(t))}var Hs=ji((function(t,e,r){return e=e.toLowerCase(),t+(r?Bs(e):e)}));function Bs(t){return Js(Es(t).toLowerCase())}function Ws(t){return(t=Es(t))&&t.replace(wt,rr).replace(Qt,"")}var Vs=ji((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),qs=ji((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),$s=Gi("toLowerCase");var Zs=ji((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Ks=ji((function(t,e,r){return t+(r?" ":"")+Js(e)}));var Qs=ji((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Js=Gi("toUpperCase");function tu(t,e,n){return t=Es(t),(e=n?r:e)===r?function(t){return re.test(t)}(t)?function(t){return t.match(te)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var eu=Qn((function(t,e){try{return Ne(t,r,e)}catch(t){return Ja(t)?t:new Nt(t)}})),ru=io((function(t,e){return Te(e,(function(e){e=Uo(e),sn(t,e,Da(t[e],t))})),t}));function nu(t){return function(){return t}}var iu=Yi(),ou=Yi(!0);function au(t){return t}function su(t){return Gn("function"==typeof t?t:hn(t,1))}var uu=Qn((function(t,e){return function(r){return Dn(r,t,e)}})),cu=Qn((function(t,e){return function(r){return Dn(t,r,e)}}));function hu(t,e,r){var n=Fs(e),i=Nn(e,n);null!=r||ns(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Nn(e,Fs(e)));var o=!(ns(r)&&"chain"in r&&!r.chain),a=ts(t);return Te(i,(function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__),i=r.__actions__=Ii(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Re([this.value()],arguments))})})),t}function lu(){}var fu=Bi(De),du=Bi(Ce),pu=Bi(Se);function gu(t){return xo(t)?He(Uo(t)):function(t){return function(e){return An(e,t)}}(t)}var vu=Vi(),yu=Vi(!0);function mu(){return[]}function _u(){return!1}var wu=Hi((function(t,e){return t+e}),0),Eu=Zi("ceil"),bu=Hi((function(t,e){return t/e}),1),xu=Zi("floor");var Nu,Au=Hi((function(t,e){return t*e}),1),Tu=Zi("round"),Lu=Hi((function(t,e){return t-e}),0);return Yr.after=function(t,e){if("function"!=typeof e)throw new Ot(n);return t=ys(t),function(){if(--t<1)return e.apply(this,arguments)}},Yr.ary=Oa,Yr.assign=bs,Yr.assignIn=xs,Yr.assignInWith=Ns,Yr.assignWith=As,Yr.at=Ts,Yr.before=Ia,Yr.bind=Da,Yr.bindAll=ru,Yr.bindKey=Ra,Yr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Va(t)?t:[t]},Yr.chain=ga,Yr.chunk=function(t,e,n){e=(n?bo(t,e,n):e===r)?1:_r(ys(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=at(ve(i/e));o<i;)s[a++]=oi(t,o,o+=e);return s},Yr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},Yr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=at(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Re(Va(r)?Ii(r):[r],_n(e,1))},Yr.cond=function(t){var e=null==t?0:t.length,r=ho();return t=e?De(t,(function(t){if("function"!=typeof t[1])throw new Ot(n);return[r(t[0]),t[1]]})):[],Qn((function(r){for(var n=-1;++n<e;){var i=t[n];if(Ne(i[0],this,r))return Ne(i[1],this,r)}}))},Yr.conforms=function(t){return function(t){var e=Fs(t);return function(r){return ln(r,t,e)}}(hn(t,1))},Yr.constant=nu,Yr.countBy=ma,Yr.create=function(t,e){var r=Xr(t);return null==e?r:an(r,e)},Yr.curry=function t(e,n,i){var o=Ji(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Yr.curryRight=function t(e,n,i){var o=Ji(e,s,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Yr.debounce=Fa,Yr.defaults=Ls,Yr.defaultsDeep=Cs,Yr.defer=Pa,Yr.delay=Sa,Yr.difference=zo,Yr.differenceBy=Ho,Yr.differenceWith=Bo,Yr.drop=function(t,e,n){var i=null==t?0:t.length;return i?oi(t,(e=n||e===r?1:ys(e))<0?0:e,i):[]},Yr.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?oi(t,0,(e=i-(e=n||e===r?1:ys(e)))<0?0:e):[]},Yr.dropRightWhile=function(t,e){return t&&t.length?gi(t,ho(e,3),!0,!0):[]},Yr.dropWhile=function(t,e){return t&&t.length?gi(t,ho(e,3),!0):[]},Yr.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&bo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=ys(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ys(i))<0&&(i+=o),i=n>i?0:ms(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Yr.filter=function(t,e){return(Va(t)?Me:mn)(t,ho(e,3))},Yr.flatMap=function(t,e){return _n(Ta(t,e),1)},Yr.flatMapDeep=function(t,e){return _n(Ta(t,e),f)},Yr.flatMapDepth=function(t,e,n){return n=n===r?1:ys(n),_n(Ta(t,e),n)},Yr.flatten=qo,Yr.flattenDeep=function(t){return(null==t?0:t.length)?_n(t,f):[]},Yr.flattenDepth=function(t,e){return(null==t?0:t.length)?_n(t,e=e===r?1:ys(e)):[]},Yr.flip=function(t){return Ji(t,512)},Yr.flow=iu,Yr.flowRight=ou,Yr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},Yr.functions=function(t){return null==t?[]:Nn(t,Fs(t))},Yr.functionsIn=function(t){return null==t?[]:Nn(t,Ps(t))},Yr.groupBy=xa,Yr.initial=function(t){return(null==t?0:t.length)?oi(t,0,-1):[]},Yr.intersection=Zo,Yr.intersectionBy=Ko,Yr.intersectionWith=Qo,Yr.invert=Is,Yr.invertBy=Ds,Yr.invokeMap=Na,Yr.iteratee=su,Yr.keyBy=Aa,Yr.keys=Fs,Yr.keysIn=Ps,Yr.map=Ta,Yr.mapKeys=function(t,e){var r={};return e=ho(e,3),bn(t,(function(t,n,i){sn(r,e(t,n,i),t)})),r},Yr.mapValues=function(t,e){var r={};return e=ho(e,3),bn(t,(function(t,n,i){sn(r,n,e(t,n,i))})),r},Yr.matches=function(t){return Xn(hn(t,1))},Yr.matchesProperty=function(t,e){return zn(t,hn(e,1))},Yr.memoize=Ga,Yr.merge=Ss,Yr.mergeWith=Gs,Yr.method=uu,Yr.methodOf=cu,Yr.mixin=hu,Yr.negate=ja,Yr.nthArg=function(t){return t=ys(t),Qn((function(e){return Bn(e,t)}))},Yr.omit=js,Yr.omitBy=function(t,e){return Us(t,ja(ho(e)))},Yr.once=function(t){return Ia(2,t)},Yr.orderBy=function(t,e,n,i){return null==t?[]:(Va(e)||(e=null==e?[]:[e]),Va(n=i?r:n)||(n=null==n?[]:[n]),Wn(t,e,n))},Yr.over=fu,Yr.overArgs=ka,Yr.overEvery=du,Yr.overSome=pu,Yr.partial=Ua,Yr.partialRight=Ya,Yr.partition=La,Yr.pick=ks,Yr.pickBy=Us,Yr.property=gu,Yr.propertyOf=function(t){return function(e){return null==t?r:An(t,e)}},Yr.pull=ta,Yr.pullAll=ea,Yr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?qn(t,e,ho(r,2)):t},Yr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?qn(t,e,r,n):t},Yr.pullAt=ra,Yr.range=vu,Yr.rangeRight=yu,Yr.rearg=Xa,Yr.reject=function(t,e){return(Va(t)?Me:mn)(t,ja(ho(e,3)))},Yr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=ho(e,3);++n<o;){var a=t[n];e(a,n,t)&&(r.push(a),i.push(n))}return $n(t,i),r},Yr.rest=function(t,e){if("function"!=typeof t)throw new Ot(n);return Qn(t,e=e===r?e:ys(e))},Yr.reverse=na,Yr.sampleSize=function(t,e,n){return e=(n?bo(t,e,n):e===r)?1:ys(e),(Va(t)?Jr:ti)(t,e)},Yr.set=function(t,e,r){return null==t?t:ei(t,e,r)},Yr.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:ei(t,e,n,i)},Yr.shuffle=function(t){return(Va(t)?tn:ii)(t)},Yr.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&bo(t,e,n)?(e=0,n=i):(e=null==e?0:ys(e),n=n===r?i:ys(n)),oi(t,e,n)):[]},Yr.sortBy=Ca,Yr.sortedUniq=function(t){return t&&t.length?ci(t):[]},Yr.sortedUniqBy=function(t,e){return t&&t.length?ci(t,ho(e,2)):[]},Yr.split=function(t,e,n){return n&&"number"!=typeof n&&bo(t,e,n)&&(e=n=r),(n=n===r?g:n>>>0)?(t=Es(t))&&("string"==typeof e||null!=e&&!us(e))&&!(e=li(e))&&or(t)?xi(fr(t),0,n):t.split(e,n):[]},Yr.spread=function(t,e){if("function"!=typeof t)throw new Ot(n);return e=null==e?0:_r(ys(e),0),Qn((function(r){var n=r[e],i=xi(r,0,e);return n&&Re(i,n),Ne(t,this,i)}))},Yr.tail=function(t){var e=null==t?0:t.length;return e?oi(t,1,e):[]},Yr.take=function(t,e,n){return t&&t.length?oi(t,0,(e=n||e===r?1:ys(e))<0?0:e):[]},Yr.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?oi(t,(e=i-(e=n||e===r?1:ys(e)))<0?0:e,i):[]},Yr.takeRightWhile=function(t,e){return t&&t.length?gi(t,ho(e,3),!1,!0):[]},Yr.takeWhile=function(t,e){return t&&t.length?gi(t,ho(e,3)):[]},Yr.tap=function(t,e){return e(t),t},Yr.throttle=function(t,e,r){var i=!0,o=!0;if("function"!=typeof t)throw new Ot(n);return ns(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),Fa(t,e,{leading:i,maxWait:e,trailing:o})},Yr.thru=va,Yr.toArray=gs,Yr.toPairs=Ys,Yr.toPairsIn=Xs,Yr.toPath=function(t){return Va(t)?De(t,Uo):ls(t)?[t]:Ii(ko(Es(t)))},Yr.toPlainObject=ws,Yr.transform=function(t,e,r){var n=Va(t),i=n||Ka(t)||fs(t);if(e=ho(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:ns(t)&&ts(o)?Xr(Vt(t)):{}}return(i?Te:bn)(t,(function(t,n,i){return e(r,t,n,i)})),r},Yr.unary=function(t){return Oa(t,1)},Yr.union=ia,Yr.unionBy=oa,Yr.unionWith=aa,Yr.uniq=function(t){return t&&t.length?fi(t):[]},Yr.uniqBy=function(t,e){return t&&t.length?fi(t,ho(e,2)):[]},Yr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?fi(t,r,e):[]},Yr.unset=function(t,e){return null==t||di(t,e)},Yr.unzip=sa,Yr.unzipWith=ua,Yr.update=function(t,e,r){return null==t?t:pi(t,e,wi(r))},Yr.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:pi(t,e,wi(n),i)},Yr.values=zs,Yr.valuesIn=function(t){return null==t?[]:Ke(t,Ps(t))},Yr.without=ca,Yr.words=tu,Yr.wrap=function(t,e){return Ua(wi(e),t)},Yr.xor=ha,Yr.xorBy=la,Yr.xorWith=fa,Yr.zip=da,Yr.zipObject=function(t,e){return mi(t||[],e||[],rn)},Yr.zipObjectDeep=function(t,e){return mi(t||[],e||[],ei)},Yr.zipWith=pa,Yr.entries=Ys,Yr.entriesIn=Xs,Yr.extend=xs,Yr.extendWith=Ns,hu(Yr,Yr),Yr.add=wu,Yr.attempt=eu,Yr.camelCase=Hs,Yr.capitalize=Bs,Yr.ceil=Eu,Yr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=_s(n))==n?n:0),e!==r&&(e=(e=_s(e))==e?e:0),cn(_s(t),e,n)},Yr.clone=function(t){return hn(t,4)},Yr.cloneDeep=function(t){return hn(t,5)},Yr.cloneDeepWith=function(t,e){return hn(t,5,e="function"==typeof e?e:r)},Yr.cloneWith=function(t,e){return hn(t,4,e="function"==typeof e?e:r)},Yr.conformsTo=function(t,e){return null==e||ln(t,e,Fs(e))},Yr.deburr=Ws,Yr.defaultTo=function(t,e){return null==t||t!=t?e:t},Yr.divide=bu,Yr.endsWith=function(t,e,n){t=Es(t),e=li(e);var i=t.length,o=n=n===r?i:cn(ys(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Yr.eq=za,Yr.escape=function(t){return(t=Es(t))&&Z.test(t)?t.replace(q,nr):t},Yr.escapeRegExp=function(t){return(t=Es(t))&&it.test(t)?t.replace(nt,"\\$&"):t},Yr.every=function(t,e,n){var i=Va(t)?Ce:vn;return n&&bo(t,e,n)&&(e=r),i(t,ho(e,3))},Yr.find=_a,Yr.findIndex=Wo,Yr.findKey=function(t,e){return je(t,ho(e,3),bn)},Yr.findLast=wa,Yr.findLastIndex=Vo,Yr.findLastKey=function(t,e){return je(t,ho(e,3),xn)},Yr.floor=xu,Yr.forEach=Ea,Yr.forEachRight=ba,Yr.forIn=function(t,e){return null==t?t:wn(t,ho(e,3),Ps)},Yr.forInRight=function(t,e){return null==t?t:En(t,ho(e,3),Ps)},Yr.forOwn=function(t,e){return t&&bn(t,ho(e,3))},Yr.forOwnRight=function(t,e){return t&&xn(t,ho(e,3))},Yr.get=Ms,Yr.gt=Ha,Yr.gte=Ba,Yr.has=function(t,e){return null!=t&&mo(t,e,Mn)},Yr.hasIn=Os,Yr.head=$o,Yr.identity=au,Yr.includes=function(t,e,r,n){t=$a(t)?t:zs(t),r=r&&!n?ys(r):0;var i=t.length;return r<0&&(r=_r(i+r,0)),hs(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&Ue(t,e,r)>-1},Yr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ys(r);return i<0&&(i=_r(n+i,0)),Ue(t,e,i)},Yr.inRange=function(t,e,n){return e=vs(e),n===r?(n=e,e=0):n=vs(n),function(t,e,r){return t>=wr(e,r)&&t<_r(e,r)}(t=_s(t),e,n)},Yr.invoke=Rs,Yr.isArguments=Wa,Yr.isArray=Va,Yr.isArrayBuffer=qa,Yr.isArrayLike=$a,Yr.isArrayLikeObject=Za,Yr.isBoolean=function(t){return!0===t||!1===t||is(t)&&Ln(t)==_},Yr.isBuffer=Ka,Yr.isDate=Qa,Yr.isElement=function(t){return is(t)&&1===t.nodeType&&!ss(t)},Yr.isEmpty=function(t){if(null==t)return!0;if($a(t)&&(Va(t)||"string"==typeof t||"function"==typeof t.splice||Ka(t)||fs(t)||Wa(t)))return!t.length;var e=yo(t);if(e==N||e==M)return!t.size;if(To(t))return!jn(t).length;for(var r in t)if(St.call(t,r))return!1;return!0},Yr.isEqual=function(t,e){return Fn(t,e)},Yr.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Fn(t,e,r,n):!!i},Yr.isError=Ja,Yr.isFinite=function(t){return"number"==typeof t&&vr(t)},Yr.isFunction=ts,Yr.isInteger=es,Yr.isLength=rs,Yr.isMap=os,Yr.isMatch=function(t,e){return t===e||Pn(t,e,fo(e))},Yr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Pn(t,e,fo(e),n)},Yr.isNaN=function(t){return as(t)&&t!=+t},Yr.isNative=function(t){if(Ao(t))throw new Nt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sn(t)},Yr.isNil=function(t){return null==t},Yr.isNull=function(t){return null===t},Yr.isNumber=as,Yr.isObject=ns,Yr.isObjectLike=is,Yr.isPlainObject=ss,Yr.isRegExp=us,Yr.isSafeInteger=function(t){return es(t)&&t>=-9007199254740991&&t<=d},Yr.isSet=cs,Yr.isString=hs,Yr.isSymbol=ls,Yr.isTypedArray=fs,Yr.isUndefined=function(t){return t===r},Yr.isWeakMap=function(t){return is(t)&&yo(t)==D},Yr.isWeakSet=function(t){return is(t)&&"[object WeakSet]"==Ln(t)},Yr.join=function(t,e){return null==t?"":yr.call(t,e)},Yr.kebabCase=Vs,Yr.last=Jo,Yr.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ys(n))<0?_r(i+o,0):wr(o,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):ke(t,Xe,o,!0)},Yr.lowerCase=qs,Yr.lowerFirst=$s,Yr.lt=ds,Yr.lte=ps,Yr.max=function(t){return t&&t.length?yn(t,au,Cn):r},Yr.maxBy=function(t,e){return t&&t.length?yn(t,ho(e,2),Cn):r},Yr.mean=function(t){return ze(t,au)},Yr.meanBy=function(t,e){return ze(t,ho(e,2))},Yr.min=function(t){return t&&t.length?yn(t,au,Un):r},Yr.minBy=function(t,e){return t&&t.length?yn(t,ho(e,2),Un):r},Yr.stubArray=mu,Yr.stubFalse=_u,Yr.stubObject=function(){return{}},Yr.stubString=function(){return""},Yr.stubTrue=function(){return!0},Yr.multiply=Au,Yr.nth=function(t,e){return t&&t.length?Bn(t,ys(e)):r},Yr.noConflict=function(){return fe._===this&&(fe._=Yt),this},Yr.noop=lu,Yr.now=Ma,Yr.pad=function(t,e,r){t=Es(t);var n=(e=ys(e))?lr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Wi(ye(i),r)+t+Wi(ve(i),r)},Yr.padEnd=function(t,e,r){t=Es(t);var n=(e=ys(e))?lr(t):0;return e&&n<e?t+Wi(e-n,r):t},Yr.padStart=function(t,e,r){t=Es(t);var n=(e=ys(e))?lr(t):0;return e&&n<e?Wi(e-n,r)+t:t},Yr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),br(Es(t).replace(ot,""),e||0)},Yr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&bo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=vs(t),e===r?(e=t,t=0):e=vs(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=xr();return wr(t+o*(e-t+ue("1e-"+((o+"").length-1))),e)}return Zn(t,e)},Yr.reduce=function(t,e,r){var n=Va(t)?Fe:We,i=arguments.length<3;return n(t,ho(e,4),r,i,pn)},Yr.reduceRight=function(t,e,r){var n=Va(t)?Pe:We,i=arguments.length<3;return n(t,ho(e,4),r,i,gn)},Yr.repeat=function(t,e,n){return e=(n?bo(t,e,n):e===r)?1:ys(e),Kn(Es(t),e)},Yr.replace=function(){var t=arguments,e=Es(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Yr.result=function(t,e,n){var i=-1,o=(e=Ei(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[Uo(e[i])];a===r&&(i=o,a=n),t=ts(a)?a.call(t):a}return t},Yr.round=Tu,Yr.runInContext=t,Yr.sample=function(t){return(Va(t)?Qr:Jn)(t)},Yr.size=function(t){if(null==t)return 0;if($a(t))return hs(t)?lr(t):t.length;var e=yo(t);return e==N||e==M?t.size:jn(t).length},Yr.snakeCase=Zs,Yr.some=function(t,e,n){var i=Va(t)?Se:ai;return n&&bo(t,e,n)&&(e=r),i(t,ho(e,3))},Yr.sortedIndex=function(t,e){return si(t,e)},Yr.sortedIndexBy=function(t,e,r){return ui(t,e,ho(r,2))},Yr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=si(t,e);if(n<r&&za(t[n],e))return n}return-1},Yr.sortedLastIndex=function(t,e){return si(t,e,!0)},Yr.sortedLastIndexBy=function(t,e,r){return ui(t,e,ho(r,2),!0)},Yr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=si(t,e,!0)-1;if(za(t[r],e))return r}return-1},Yr.startCase=Ks,Yr.startsWith=function(t,e,r){return t=Es(t),r=null==r?0:cn(ys(r),0,t.length),e=li(e),t.slice(r,r+e.length)==e},Yr.subtract=Lu,Yr.sum=function(t){return t&&t.length?Ve(t,au):0},Yr.sumBy=function(t,e){return t&&t.length?Ve(t,ho(e,2)):0},Yr.template=function(t,e,n){var i=Yr.templateSettings;n&&bo(t,e,n)&&(e=r),t=Es(t),e=Ns({},e,i,to);var o,a,s=Ns({},e.imports,i.imports,to),u=Fs(s),c=Ke(s,u),h=0,l=e.interpolate||Et,f="__p += '",d=Ct((e.escape||Et).source+"|"+l.source+"|"+(l===J?dt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(St.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(d,(function(e,r,n,i,s,u){return n||(n=i),f+=t.slice(h,u).replace(bt,ir),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=u+e.length,e})),f+="';\n";var g=St.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new Nt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(H,""):f).replace(B,"$1").replace(W,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=eu((function(){return At(u,p+"return "+f).apply(r,c)}));if(v.source=f,Ja(v))throw v;return v},Yr.times=function(t,e){if((t=ys(t))<1||t>d)return[];var r=g,n=wr(t,g);e=ho(e),t-=g;for(var i=qe(n,e);++r<t;)e(r);return i},Yr.toFinite=vs,Yr.toInteger=ys,Yr.toLength=ms,Yr.toLower=function(t){return Es(t).toLowerCase()},Yr.toNumber=_s,Yr.toSafeInteger=function(t){return t?cn(ys(t),-9007199254740991,d):0===t?t:0},Yr.toString=Es,Yr.toUpper=function(t){return Es(t).toUpperCase()},Yr.trim=function(t,e,n){if((t=Es(t))&&(n||e===r))return $e(t);if(!t||!(e=li(e)))return t;var i=fr(t),o=fr(e);return xi(i,Je(i,o),tr(i,o)+1).join("")},Yr.trimEnd=function(t,e,n){if((t=Es(t))&&(n||e===r))return t.slice(0,dr(t)+1);if(!t||!(e=li(e)))return t;var i=fr(t);return xi(i,0,tr(i,fr(e))+1).join("")},Yr.trimStart=function(t,e,n){if((t=Es(t))&&(n||e===r))return t.replace(ot,"");if(!t||!(e=li(e)))return t;var i=fr(t);return xi(i,Je(i,fr(e))).join("")},Yr.truncate=function(t,e){var n=30,i="...";if(ns(e)){var o="separator"in e?e.separator:o;n="length"in e?ys(e.length):n,i="omission"in e?li(e.omission):i}var a=(t=Es(t)).length;if(or(t)){var s=fr(t);a=s.length}if(n>=a)return t;var u=n-lr(i);if(u<1)return i;var c=s?xi(s,0,u).join(""):t.slice(0,u);if(o===r)return c+i;if(s&&(u+=c.length-u),us(o)){if(t.slice(u).search(o)){var h,l=c;for(o.global||(o=Ct(o.source,Es(pt.exec(o))+"g")),o.lastIndex=0;h=o.exec(l);)var f=h.index;c=c.slice(0,f===r?u:f)}}else if(t.indexOf(li(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},Yr.unescape=function(t){return(t=Es(t))&&$.test(t)?t.replace(V,pr):t},Yr.uniqueId=function(t){var e=++Gt;return Es(t)+e},Yr.upperCase=Qs,Yr.upperFirst=Js,Yr.each=Ea,Yr.eachRight=ba,Yr.first=$o,hu(Yr,(Nu={},bn(Yr,(function(t,e){St.call(Yr.prototype,e)||(Nu[e]=t)})),Nu),{chain:!1}),Yr.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Yr[t].placeholder=Yr})),Te(["drop","take"],(function(t,e){Br.prototype[t]=function(n){n=n===r?1:_r(ys(n),0);var i=this.__filtered__&&!e?new Br(this):this.clone();return i.__filtered__?i.__takeCount__=wr(n,i.__takeCount__):i.__views__.push({size:wr(n,g),type:t+(i.__dir__<0?"Right":"")}),i},Br.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Br.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ho(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Te(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Br.prototype[t]=function(){return this[r](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Br.prototype[t]=function(){return this.__filtered__?new Br(this):this[r](1)}})),Br.prototype.compact=function(){return this.filter(au)},Br.prototype.find=function(t){return this.filter(t).head()},Br.prototype.findLast=function(t){return this.reverse().find(t)},Br.prototype.invokeMap=Qn((function(t,e){return"function"==typeof t?new Br(this):this.map((function(r){return Dn(r,t,e)}))})),Br.prototype.reject=function(t){return this.filter(ja(ho(t)))},Br.prototype.slice=function(t,e){t=ys(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Br(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ys(e))<0?n.dropRight(-e):n.take(e-t)),n)},Br.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Br.prototype.toArray=function(){return this.take(g)},bn(Br.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Yr[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(Yr.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof Br,c=s[0],h=u||Va(e),l=function(t){var e=o.apply(Yr,Re([t],s));return i&&f?e[0]:e};h&&n&&"function"==typeof c&&1!=c.length&&(u=h=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,g=u&&!d;if(!a&&h){e=g?e:new Br(this);var v=t.apply(e,s);return v.__actions__.push({func:va,args:[l],thisArg:r}),new Hr(v,f)}return p&&g?t.apply(this,s):(v=this.thru(l),p?i?v.value()[0]:v.value():v)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=It[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Yr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Va(i)?i:[],t)}return this[r]((function(r){return e.apply(Va(r)?r:[],t)}))}})),bn(Br.prototype,(function(t,e){var r=Yr[e];if(r){var n=r.name+"";St.call(Dr,n)||(Dr[n]=[]),Dr[n].push({name:e,func:r})}})),Dr[Xi(r,2).name]=[{name:"wrapper",func:r}],Br.prototype.clone=function(){var t=new Br(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},Br.prototype.reverse=function(){if(this.__filtered__){var t=new Br(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Br.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Va(t),n=e<0,i=r?t.length:0,o=function(t,e,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wr(e,t+a);break;case"takeRight":t=_r(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=n?s:a-1,h=this.__iteratees__,l=h.length,f=0,d=wr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return vi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var g=-1,v=t[c+=e];++g<l;){var y=h[g],m=y.iteratee,_=y.type,w=m(v);if(2==_)v=w;else if(!w){if(1==_)continue t;break t}}p[f++]=v}return p},Yr.prototype.at=ya,Yr.prototype.chain=function(){return ga(this)},Yr.prototype.commit=function(){return new Hr(this.value(),this.__chain__)},Yr.prototype.next=function(){this.__values__===r&&(this.__values__=gs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Yr.prototype.plant=function(t){for(var e,n=this;n instanceof zr;){var i=Xo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Yr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Br){var e=t;return this.__actions__.length&&(e=new Br(this)),(e=e.reverse()).__actions__.push({func:va,args:[na],thisArg:r}),new Hr(e,this.__chain__)}return this.thru(na)},Yr.prototype.toJSON=Yr.prototype.valueOf=Yr.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Yr.prototype.first=Yr.prototype.head,ee&&(Yr.prototype[ee]=function(){return this}),Yr}();pe?((pe.exports=gr)._=gr,de._=gr):fe._=gr}).call(a)}(g,g.exports);var v=function(){this.__data__=[],this.size=0};var y=function(t,e){return t===e||t!=t&&e!=e},m=y;var _=function(t,e){for(var r=t.length;r--;)if(m(t[r][0],e))return r;return-1},w=_,E=Array.prototype.splice;var b=_;var x=_;var N=_;var A=v,T=function(t){var e=this.__data__,r=w(e,t);return!(r<0)&&(r==e.length-1?e.pop():E.call(e,r,1),--this.size,!0)},L=function(t){var e=this.__data__,r=b(e,t);return r<0?void 0:e[r][1]},C=function(t){return x(this.__data__,t)>-1},M=function(t,e){var r=this.__data__,n=N(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function O(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}O.prototype.clear=A,O.prototype.delete=T,O.prototype.get=L,O.prototype.has=C,O.prototype.set=M;var I=O,D=I;var R=function(){this.__data__=new D,this.size=0};var F=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var P=function(t){return this.__data__.get(t)};var S=function(t){return this.__data__.has(t)},G="object"==typeof a&&a&&a.Object===Object&&a,j=G,k="object"==typeof self&&self&&self.Object===Object&&self,U=j||k||Function("return this")(),Y=U.Symbol,X=Y,z=Object.prototype,H=z.hasOwnProperty,B=z.toString,W=X?X.toStringTag:void 0;var V=function(t){var e=H.call(t,W),r=t[W];try{t[W]=void 0;var n=!0}catch(t){}var i=B.call(t);return n&&(e?t[W]=r:delete t[W]),i},q=Object.prototype.toString;var $=V,Z=function(t){return q.call(t)},K=Y?Y.toStringTag:void 0;var Q=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":K&&K in Object(t)?$(t):Z(t)};var J=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},tt=Q,et=J;var rt,nt=function(t){if(!et(t))return!1;var e=tt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},it=U["__core-js_shared__"],ot=(rt=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+rt:"";var at=function(t){return!!ot&&ot in t},st=Function.prototype.toString;var ut=function(t){if(null!=t){try{return st.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ct=nt,ht=at,lt=J,ft=ut,dt=/^\[object .+?Constructor\]$/,pt=Function.prototype,gt=Object.prototype,vt=pt.toString,yt=gt.hasOwnProperty,mt=RegExp("^"+vt.call(yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var _t=function(t){return!(!lt(t)||ht(t))&&(ct(t)?mt:dt).test(ft(t))},wt=function(t,e){return null==t?void 0:t[e]};var Et=function(t,e){var r=wt(t,e);return _t(r)?r:void 0},bt=Et(U,"Map"),xt=Et(Object,"create"),Nt=xt;var At=function(){this.__data__=Nt?Nt(null):{},this.size=0};var Tt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Lt=xt,Ct=Object.prototype.hasOwnProperty;var Mt=function(t){var e=this.__data__;if(Lt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ct.call(e,t)?e[t]:void 0},Ot=xt,It=Object.prototype.hasOwnProperty;var Dt=xt;var Rt=At,Ft=Tt,Pt=Mt,St=function(t){var e=this.__data__;return Ot?void 0!==e[t]:It.call(e,t)},Gt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Dt&&void 0===e?"__lodash_hash_undefined__":e,this};function jt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jt.prototype.clear=Rt,jt.prototype.delete=Ft,jt.prototype.get=Pt,jt.prototype.has=St,jt.prototype.set=Gt;var kt=jt,Ut=I,Yt=bt;var Xt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var zt=function(t,e){var r=t.__data__;return Xt(e)?r["string"==typeof e?"string":"hash"]:r.map},Ht=zt;var Bt=zt;var Wt=zt;var Vt=zt;var qt=function(t,e){var r=Vt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},$t=function(){this.size=0,this.__data__={hash:new kt,map:new(Yt||Ut),string:new kt}},Zt=function(t){var e=Ht(this,t).delete(t);return this.size-=e?1:0,e},Kt=function(t){return Bt(this,t).get(t)},Qt=function(t){return Wt(this,t).has(t)},Jt=qt;function te(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}te.prototype.clear=$t,te.prototype.delete=Zt,te.prototype.get=Kt,te.prototype.has=Qt,te.prototype.set=Jt;var ee=te,re=I,ne=bt,ie=ee;var oe=I,ae=R,se=F,ue=P,ce=S,he=function(t,e){var r=this.__data__;if(r instanceof re){var n=r.__data__;if(!ne||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(t,e),this.size=r.size,this};function le(t){var e=this.__data__=new oe(t);this.size=e.size}le.prototype.clear=ae,le.prototype.delete=se,le.prototype.get=ue,le.prototype.has=ce,le.prototype.set=he;var fe=le;var de=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},pe=Et,ge=function(){try{var t=pe(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ve=ge;var ye=function(t,e,r){"__proto__"==e&&ve?ve(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},me=ye,_e=y,we=Object.prototype.hasOwnProperty;var Ee=function(t,e,r){var n=t[e];we.call(t,e)&&_e(n,r)&&(void 0!==r||e in t)||me(t,e,r)},be=Ee,xe=ye;var Ne=function(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(r[s],t[s],s,r,t):void 0;void 0===u&&(u=t[s]),i?xe(r,s,u):be(r,s,u)}return r};var Ae=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Te=function(t){return null!=t&&"object"==typeof t},Le=Q,Ce=Te;var Me=function(t){return Ce(t)&&"[object Arguments]"==Le(t)},Oe=Te,Ie=Object.prototype,De=Ie.hasOwnProperty,Re=Ie.propertyIsEnumerable,Fe=Me(function(){return arguments}())?Me:function(t){return Oe(t)&&De.call(t,"callee")&&!Re.call(t,"callee")},Pe=Array.isArray,Se={exports:{}};var Ge=function(){return!1};!function(t,e){var r=U,n=Ge,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||n;t.exports=s}(Se,Se.exports);var je=/^(?:0|[1-9]\d*)$/;var ke=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&je.test(t))&&t>-1&&t%1==0&&t<e};var Ue=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ye=Q,Xe=Ue,ze=Te,He={};He["[object Float32Array]"]=He["[object Float64Array]"]=He["[object Int8Array]"]=He["[object Int16Array]"]=He["[object Int32Array]"]=He["[object Uint8Array]"]=He["[object Uint8ClampedArray]"]=He["[object Uint16Array]"]=He["[object Uint32Array]"]=!0,He["[object Arguments]"]=He["[object Array]"]=He["[object ArrayBuffer]"]=He["[object Boolean]"]=He["[object DataView]"]=He["[object Date]"]=He["[object Error]"]=He["[object Function]"]=He["[object Map]"]=He["[object Number]"]=He["[object Object]"]=He["[object RegExp]"]=He["[object Set]"]=He["[object String]"]=He["[object WeakMap]"]=!1;var Be=function(t){return ze(t)&&Xe(t.length)&&!!He[Ye(t)]};var We=function(t){return function(e){return t(e)}},Ve={exports:{}};!function(t,e){var r=G,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Ve,Ve.exports);var qe=Be,$e=We,Ze=Ve.exports,Ke=Ze&&Ze.isTypedArray,Qe=Ke?$e(Ke):qe,Je=Ae,tr=Fe,er=Pe,rr=Se.exports,nr=ke,ir=Qe,or=Object.prototype.hasOwnProperty;var ar=function(t,e){var r=er(t),n=!r&&tr(t),i=!r&&!n&&rr(t),o=!r&&!n&&!i&&ir(t),a=r||n||i||o,s=a?Je(t.length,String):[],u=s.length;for(var c in t)!e&&!or.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||nr(c,u))||s.push(c);return s},sr=Object.prototype;var ur=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sr)};var cr=function(t,e){return function(r){return t(e(r))}},hr=cr(Object.keys,Object),lr=ur,fr=hr,dr=Object.prototype.hasOwnProperty;var pr=function(t){if(!lr(t))return fr(t);var e=[];for(var r in Object(t))dr.call(t,r)&&"constructor"!=r&&e.push(r);return e},gr=nt,vr=Ue;var yr=function(t){return null!=t&&vr(t.length)&&!gr(t)},mr=ar,_r=pr,wr=yr;var Er=function(t){return wr(t)?mr(t):_r(t)},br=Ne,xr=Er;var Nr=function(t,e){return t&&br(e,xr(e),t)};var Ar=J,Tr=ur,Lr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Cr=Object.prototype.hasOwnProperty;var Mr=ar,Or=function(t){if(!Ar(t))return Lr(t);var e=Tr(t),r=[];for(var n in t)("constructor"!=n||!e&&Cr.call(t,n))&&r.push(n);return r},Ir=yr;var Dr=function(t){return Ir(t)?Mr(t,!0):Or(t)},Rr=Ne,Fr=Dr;var Pr=function(t,e){return t&&Rr(e,Fr(e),t)},Sr={exports:{}};!function(t,e){var r=U,n=e&&!e.nodeType&&e,i=n&&t&&!t.nodeType&&t,o=i&&i.exports===n?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}}(Sr,Sr.exports);var Gr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var jr=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o};var kr=function(){return[]},Ur=jr,Yr=kr,Xr=Object.prototype.propertyIsEnumerable,zr=Object.getOwnPropertySymbols,Hr=zr?function(t){return null==t?[]:(t=Object(t),Ur(zr(t),(function(e){return Xr.call(t,e)})))}:Yr,Br=Ne,Wr=Hr;var Vr=function(t,e){return Br(t,Wr(t),e)};var qr=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},$r=cr(Object.getPrototypeOf,Object),Zr=qr,Kr=$r,Qr=Hr,Jr=kr,tn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Zr(e,Qr(t)),t=Kr(t);return e}:Jr,en=Ne,rn=tn;var nn=function(t,e){return en(t,rn(t),e)},on=qr,an=Pe;var sn=function(t,e,r){var n=e(t);return an(t)?n:on(n,r(t))},un=sn,cn=Hr,hn=Er;var ln=function(t){return un(t,hn,cn)},fn=sn,dn=tn,pn=Dr;var gn=function(t){return fn(t,pn,dn)},vn=Et(U,"DataView"),yn=Et(U,"Promise"),mn=Et(U,"Set"),_n=vn,wn=bt,En=yn,bn=mn,xn=Et(U,"WeakMap"),Nn=Q,An=ut,Tn=An(_n),Ln=An(wn),Cn=An(En),Mn=An(bn),On=An(xn),In=Nn;(_n&&"[object DataView]"!=In(new _n(new ArrayBuffer(1)))||wn&&"[object Map]"!=In(new wn)||En&&"[object Promise]"!=In(En.resolve())||bn&&"[object Set]"!=In(new bn)||xn&&"[object WeakMap]"!=In(new xn))&&(In=function(t){var e=Nn(t),r="[object Object]"==e?t.constructor:void 0,n=r?An(r):"";if(n)switch(n){case Tn:return"[object DataView]";case Ln:return"[object Map]";case Cn:return"[object Promise]";case Mn:return"[object Set]";case On:return"[object WeakMap]"}return e});var Dn=In,Rn=Object.prototype.hasOwnProperty;var Fn=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Rn.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Pn=U.Uint8Array,Sn=Pn;var Gn=function(t){var e=new t.constructor(t.byteLength);return new Sn(e).set(new Sn(t)),e},jn=Gn;var kn=function(t,e){var r=e?jn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Un=/\w*$/;var Yn=function(t){var e=new t.constructor(t.source,Un.exec(t));return e.lastIndex=t.lastIndex,e},Xn=Y?Y.prototype:void 0,zn=Xn?Xn.valueOf:void 0;var Hn=Gn;var Bn=Gn,Wn=kn,Vn=Yn,qn=function(t){return zn?Object(zn.call(t)):{}},$n=function(t,e){var r=e?Hn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Zn=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Bn(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Wn(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return $n(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Vn(t);case"[object Symbol]":return qn(t)}},Kn=J,Qn=Object.create,Jn=function(){function t(){}return function(e){if(!Kn(e))return{};if(Qn)return Qn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ti=Jn,ei=$r,ri=ur;var ni=function(t){return"function"!=typeof t.constructor||ri(t)?{}:ti(ei(t))},ii=Dn,oi=Te;var ai=function(t){return oi(t)&&"[object Map]"==ii(t)},si=We,ui=Ve.exports,ci=ui&&ui.isMap,hi=ci?si(ci):ai,li=Dn,fi=Te;var di=function(t){return fi(t)&&"[object Set]"==li(t)},pi=We,gi=Ve.exports,vi=gi&&gi.isSet,yi=vi?pi(vi):di,mi=fe,_i=de,wi=Ee,Ei=Nr,bi=Pr,xi=Sr.exports,Ni=Gr,Ai=Vr,Ti=nn,Li=ln,Ci=gn,Mi=Dn,Oi=Fn,Ii=Zn,Di=ni,Ri=Pe,Fi=Se.exports,Pi=hi,Si=J,Gi=yi,ji=Er,ki=Dr,Ui={};Ui["[object Arguments]"]=Ui["[object Array]"]=Ui["[object ArrayBuffer]"]=Ui["[object DataView]"]=Ui["[object Boolean]"]=Ui["[object Date]"]=Ui["[object Float32Array]"]=Ui["[object Float64Array]"]=Ui["[object Int8Array]"]=Ui["[object Int16Array]"]=Ui["[object Int32Array]"]=Ui["[object Map]"]=Ui["[object Number]"]=Ui["[object Object]"]=Ui["[object RegExp]"]=Ui["[object Set]"]=Ui["[object String]"]=Ui["[object Symbol]"]=Ui["[object Uint8Array]"]=Ui["[object Uint8ClampedArray]"]=Ui["[object Uint16Array]"]=Ui["[object Uint32Array]"]=!0,Ui["[object Error]"]=Ui["[object Function]"]=Ui["[object WeakMap]"]=!1;var Yi=function t(e,r,n,i,o,a){var s,u=1&r,c=2&r,h=4&r;if(n&&(s=o?n(e,i,o,a):n(e)),void 0!==s)return s;if(!Si(e))return e;var l=Ri(e);if(l){if(s=Oi(e),!u)return Ni(e,s)}else{var f=Mi(e),d="[object Function]"==f||"[object GeneratorFunction]"==f;if(Fi(e))return xi(e,u);if("[object Object]"==f||"[object Arguments]"==f||d&&!o){if(s=c||d?{}:Di(e),!u)return c?Ti(e,bi(s,e)):Ai(e,Ei(s,e))}else{if(!Ui[f])return o?e:{};s=Ii(e,f,u)}}a||(a=new mi);var p=a.get(e);if(p)return p;a.set(e,s),Gi(e)?e.forEach((function(i){s.add(t(i,r,n,i,e,a))})):Pi(e)&&e.forEach((function(i,o){s.set(o,t(i,r,n,o,e,a))}));var g=l?void 0:(h?c?Ci:Li:c?ki:ji)(e);return _i(g||e,(function(i,o){g&&(i=e[o=i]),wi(s,o,t(i,r,n,o,e,a))})),s},Xi=Yi;var zi=function(t){return Xi(t,4)};var Hi=function(t){return function(){return t}};var Bi=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}(),Wi=Er;var Vi=function(t,e){return t&&Bi(t,e,Wi)},qi=yr;var $i=function(t,e){return function(r,n){if(null==r)return r;if(!qi(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=Object(r);(e?o--:++o<i)&&!1!==n(a[o],o,a););return r}}(Vi);var Zi=function(t){return t},Ki=Zi;var Qi=de,Ji=$i,to=function(t){return"function"==typeof t?t:Ki},eo=Pe;var ro=function(t,e){return(eo(t)?Qi:Ji)(t,to(e))},no=$i;var io=function(t,e){var r=[];return no(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r};var oo=ee,ao=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},so=function(t){return this.__data__.has(t)};function uo(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new oo;++e<r;)this.add(t[e])}uo.prototype.add=uo.prototype.push=ao,uo.prototype.has=so;var co=uo;var ho=function(t,e){return t.has(e)},lo=co,fo=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},po=ho;var go=function(t,e,r,n,i,o){var a=1&r,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var l=-1,f=!0,d=2&r?new lo:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var p=t[l],g=e[l];if(n)var v=a?n(g,p,l,e,t,o):n(p,g,l,t,e,o);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!fo(e,(function(t,e){if(!po(d,e)&&(p===t||i(p,t,r,n,o)))return d.push(e)}))){f=!1;break}}else if(p!==g&&!i(p,g,r,n,o)){f=!1;break}}return o.delete(t),o.delete(e),f};var vo=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var yo=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},mo=Pn,_o=y,wo=go,Eo=vo,bo=yo,xo=Y?Y.prototype:void 0,No=xo?xo.valueOf:void 0;var Ao=function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new mo(t),new mo(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Eo;case"[object Set]":var u=1&n;if(s||(s=bo),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;n|=2,a.set(t,e);var h=wo(s(t),s(e),n,i,o,a);return a.delete(t),h;case"[object Symbol]":if(No)return No.call(t)==No.call(e)}return!1},To=ln,Lo=Object.prototype.hasOwnProperty;var Co=fe,Mo=go,Oo=Ao,Io=function(t,e,r,n,i,o){var a=1&r,s=To(t),u=s.length;if(u!=To(e).length&&!a)return!1;for(var c=u;c--;){var h=s[c];if(!(a?h in e:Lo.call(e,h)))return!1}var l=o.get(t),f=o.get(e);if(l&&f)return l==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<u;){var g=t[h=s[c]],v=e[h];if(n)var y=a?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||i(g,v,r,n,o):y)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(d=!1)}return o.delete(t),o.delete(e),d},Do=Dn,Ro=Pe,Fo=Se.exports,Po=Qe,So="[object Object]",Go=Object.prototype.hasOwnProperty;var jo=function(t,e,r,n,i,o){var a=Ro(t),s=Ro(e),u=a?"[object Array]":Do(t),c=s?"[object Array]":Do(e),h=(u="[object Arguments]"==u?So:u)==So,l=(c="[object Arguments]"==c?So:c)==So,f=u==c;if(f&&Fo(t)){if(!Fo(e))return!1;a=!0,h=!1}if(f&&!h)return o||(o=new Co),a||Po(t)?Mo(t,e,r,n,i,o):Oo(t,e,u,r,n,i,o);if(!(1&r)){var d=h&&Go.call(t,"__wrapped__"),p=l&&Go.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return o||(o=new Co),i(g,v,r,n,o)}}return!!f&&(o||(o=new Co),Io(t,e,r,n,i,o))},ko=Te;var Uo=function t(e,r,n,i,o){return e===r||(null==e||null==r||!ko(e)&&!ko(r)?e!=e&&r!=r:jo(e,r,n,i,t,o))},Yo=fe,Xo=Uo;var zo=J;var Ho=function(t){return t==t&&!zo(t)},Bo=Ho,Wo=Er;var Vo=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}},qo=function(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Object(t);i--;){var s=r[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=r[i])[0],c=t[u],h=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var l=new Yo;if(n)var f=n(c,h,u,t,e,l);if(!(void 0===f?Xo(h,c,3,n,l):f))return!1}}return!0},$o=function(t){for(var e=Wo(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Bo(i)]}return e},Zo=Vo;var Ko=function(t){var e=$o(t);return 1==e.length&&e[0][2]?Zo(e[0][0],e[0][1]):function(r){return r===t||qo(r,t,e)}},Qo=Q,Jo=Te;var ta=function(t){return"symbol"==typeof t||Jo(t)&&"[object Symbol]"==Qo(t)},ea=Pe,ra=ta,na=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ia=/^\w*$/;var oa=function(t,e){if(ea(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ra(t))||(ia.test(t)||!na.test(t)||null!=e&&t in Object(e))},aa=ee;function sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(sa.Cache||aa),r}sa.Cache=aa;var ua=sa;var ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ha=/\\(\\)?/g,la=function(t){var e=ua(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ca,(function(t,r,n,i){e.push(n?i.replace(ha,"$1"):r||t)})),e}));var fa=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i},da=fa,pa=Pe,ga=ta,va=Y?Y.prototype:void 0,ya=va?va.toString:void 0;var ma=function t(e){if("string"==typeof e)return e;if(pa(e))return da(e,t)+"";if(ga(e))return ya?ya.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},_a=ma;var wa=Pe,Ea=oa,ba=la,xa=function(t){return null==t?"":_a(t)};var Na=function(t,e){return wa(t)?t:Ea(t,e)?[t]:ba(xa(t))},Aa=ta;var Ta=function(t){if("string"==typeof t||Aa(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e},La=Na,Ca=Ta;var Ma=function(t,e){for(var r=0,n=(e=La(e,t)).length;null!=t&&r<n;)t=t[Ca(e[r++])];return r&&r==n?t:void 0},Oa=Ma;var Ia=Na,Da=Fe,Ra=Pe,Fa=ke,Pa=Ue,Sa=Ta;var Ga=function(t,e,r){for(var n=-1,i=(e=Ia(e,t)).length,o=!1;++n<i;){var a=Sa(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&Pa(i)&&Fa(a,i)&&(Ra(t)||Da(t))},ja=function(t,e){return null!=t&&e in Object(t)},ka=Ga;var Ua=Uo,Ya=function(t,e,r){var n=null==t?void 0:Oa(t,e);return void 0===n?r:n},Xa=function(t,e){return null!=t&&ka(t,e,ja)},za=oa,Ha=Ho,Ba=Vo,Wa=Ta;var Va=function(t){return function(e){return null==e?void 0:e[t]}},qa=Ma;var $a=Va,Za=function(t){return function(e){return qa(e,t)}},Ka=oa,Qa=Ta;var Ja=Ko,ts=function(t,e){return za(t)&&Ha(e)?Ba(Wa(t),e):function(r){var n=Ya(r,t);return void 0===n&&n===e?Xa(r,t):Ua(e,n,3)}},es=Zi,rs=Pe,ns=function(t){return Ka(t)?$a(Qa(t)):Za(t)};var is=function(t){return"function"==typeof t?t:null==t?es:"object"==typeof t?rs(t)?ts(t[0],t[1]):Ja(t):ns(t)},os=jr,as=io,ss=is,us=Pe;var cs=function(t,e){return(us(t)?os:as)(t,ss(e))},hs=Object.prototype.hasOwnProperty;var ls=function(t,e){return null!=t&&hs.call(t,e)},fs=Ga;var ds=function(t,e){return null!=t&&fs(t,e,ls)},ps=pr,gs=Dn,vs=Fe,ys=Pe,ms=yr,_s=Se.exports,ws=ur,Es=Qe,bs=Object.prototype.hasOwnProperty;var xs=function(t){if(null==t)return!0;if(ms(t)&&(ys(t)||"string"==typeof t||"function"==typeof t.splice||_s(t)||Es(t)||vs(t)))return!t.length;var e=gs(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(ws(t))return!ps(t).length;for(var r in t)if(bs.call(t,r))return!1;return!0};var Ns=function(t){return void 0===t},As=$i,Ts=yr;var Ls=fa,Cs=is,Ms=function(t,e){var r=-1,n=Ts(t)?Array(t.length):[];return As(t,(function(t,i,o){n[++r]=e(t,i,o)})),n},Os=Pe;var Is=function(t,e){return(Os(t)?Ls:Ms)(t,Cs(e))};var Ds=function(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r},Rs=$i,Fs=is,Ps=function(t,e,r,n,i){return i(t,(function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)})),r},Ss=Pe;var Gs=function(t,e,r){var n=Ss(t)?Ds:Ps,i=arguments.length<3;return n(t,Fs(e),r,i,Rs)},js=Q,ks=Pe,Us=Te;var Ys=function(t){return"string"==typeof t||!ks(t)&&Us(t)&&"[object String]"==js(t)},Xs=Va("length"),zs=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Hs=function(t){return zs.test(t)},Bs="[\\ud800-\\udfff]",Ws="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Vs="\\ud83c[\\udffb-\\udfff]",qs="[^\\ud800-\\udfff]",$s="(?:\\ud83c[\\udde6-\\uddff]){2}",Zs="[\\ud800-\\udbff][\\udc00-\\udfff]",Ks="(?:"+Ws+"|"+Vs+")"+"?",Qs="[\\ufe0e\\ufe0f]?"+Ks+("(?:\\u200d(?:"+[qs,$s,Zs].join("|")+")[\\ufe0e\\ufe0f]?"+Ks+")*"),Js="(?:"+[qs+Ws+"?",Ws,$s,Zs,Bs].join("|")+")",tu=RegExp(Vs+"(?="+Vs+")|"+Js+Qs,"g");var eu=Xs,ru=Hs,nu=function(t){for(var e=tu.lastIndex=0;tu.test(t);)++e;return e};var iu=pr,ou=Dn,au=yr,su=Ys,uu=function(t){return ru(t)?nu(t):eu(t)};var cu=function(t){if(null==t)return 0;if(au(t))return su(t)?uu(t):t.length;var e=ou(t);return"[object Map]"==e||"[object Set]"==e?t.size:iu(t).length},hu=de,lu=Jn,fu=Vi,du=is,pu=$r,gu=Pe,vu=Se.exports,yu=nt,mu=J,_u=Qe;var wu=function(t,e,r){var n=gu(t),i=n||vu(t)||_u(t);if(e=du(e),null==r){var o=t&&t.constructor;r=i?n?new o:[]:mu(t)&&yu(o)?lu(pu(t)):{}}return(i?hu:fu)(t,(function(t,n,i){return e(r,t,n,i)})),r},Eu=Fe,bu=Pe,xu=Y?Y.isConcatSpreadable:void 0;var Nu=qr,Au=function(t){return bu(t)||Eu(t)||!!(xu&&t&&t[xu])};var Tu=function t(e,r,n,i,o){var a=-1,s=e.length;for(n||(n=Au),o||(o=[]);++a<s;){var u=e[a];r>0&&n(u)?r>1?t(u,r-1,n,i,o):Nu(o,u):i||(o[o.length]=u)}return o};var Lu=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Cu=Math.max;var Mu=function(t,e,r){return e=Cu(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Cu(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Lu(t,this,s)}},Ou=Hi,Iu=ge,Du=Iu?function(t,e){return Iu(t,"toString",{configurable:!0,enumerable:!1,value:Ou(e),writable:!0})}:Zi,Ru=Date.now;var Fu=function(t){var e=0,r=0;return function(){var n=Ru(),i=16-(n-r);if(r=n,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Du),Pu=Zi,Su=Mu,Gu=Fu;var ju=function(t,e){return Gu(Su(t,e,Pu),t+"")};var ku=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1},Uu=function(t){return t!=t},Yu=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1};var Xu=function(t,e,r){return e==e?Yu(t,e,r):ku(t,Uu,r)};var zu=function(t,e){return!!(null==t?0:t.length)&&Xu(t,e,0)>-1};var Hu=function(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1};var Bu=mn,Wu=function(){},Vu=Bu&&1/yo(new Bu([,-0]))[1]==1/0?function(t){return new Bu(t)}:Wu,qu=co,$u=zu,Zu=Hu,Ku=ho,Qu=Vu,Ju=yo;var tc=yr,ec=Te;var rc=Tu,nc=function(t,e,r){var n=-1,i=$u,o=t.length,a=!0,s=[],u=s;if(r)a=!1,i=Zu;else if(o>=200){var c=e?null:Qu(t);if(c)return Ju(c);a=!1,i=Ku,u=new qu}else u=e?[]:s;t:for(;++n<o;){var h=t[n],l=e?e(h):h;if(h=r||0!==h?h:0,a&&l==l){for(var f=u.length;f--;)if(u[f]===l)continue t;e&&u.push(l),s.push(h)}else i(u,l,r)||(u!==s&&u.push(l),s.push(h))}return s},ic=function(t){return ec(t)&&tc(t)},oc=ju((function(t){return nc(rc(t,1,ic,!0))})),ac=fa;var sc=function(t,e){return ac(e,(function(e){return t[e]}))},uc=Er;var cc,hc=function(t){return null==t?[]:sc(t,uc(t))};try{cc={clone:zi,constant:Hi,each:ro,filter:cs,has:ds,isArray:Pe,isEmpty:xs,isFunction:nt,isUndefined:Ns,keys:Er,map:Is,reduce:Gs,size:cu,transform:wu,union:oc,values:hc}}catch(t){}cc||(cc=window._);var lc=cc,fc=lc,dc=pc;function pc(t){this._isDirected=!fc.has(t,"directed")||t.directed,this._isMultigraph=!!fc.has(t,"multigraph")&&t.multigraph,this._isCompound=!!fc.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=fc.constant(void 0),this._defaultEdgeLabelFn=fc.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function gc(t,e){t[e]?t[e]++:t[e]=1}function vc(t,e){--t[e]||delete t[e]}function yc(t,e,r,n){var i=""+e,o=""+r;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(fc.isUndefined(n)?"\0":n)}function mc(t,e,r,n){var i=""+e,o=""+r;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return n&&(s.name=n),s}function _c(t,e){return yc(t,e.v,e.w,e.name)}pc.prototype._nodeCount=0,pc.prototype._edgeCount=0,pc.prototype.isDirected=function(){return this._isDirected},pc.prototype.isMultigraph=function(){return this._isMultigraph},pc.prototype.isCompound=function(){return this._isCompound},pc.prototype.setGraph=function(t){return this._label=t,this},pc.prototype.graph=function(){return this._label},pc.prototype.setDefaultNodeLabel=function(t){return fc.isFunction(t)||(t=fc.constant(t)),this._defaultNodeLabelFn=t,this},pc.prototype.nodeCount=function(){return this._nodeCount},pc.prototype.nodes=function(){return fc.keys(this._nodes)},pc.prototype.sources=function(){var t=this;return fc.filter(this.nodes(),(function(e){return fc.isEmpty(t._in[e])}))},pc.prototype.sinks=function(){var t=this;return fc.filter(this.nodes(),(function(e){return fc.isEmpty(t._out[e])}))},pc.prototype.setNodes=function(t,e){var r=arguments,n=this;return fc.each(t,(function(t){r.length>1?n.setNode(t,e):n.setNode(t)})),this},pc.prototype.setNode=function(t,e){return fc.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},pc.prototype.node=function(t){return this._nodes[t]},pc.prototype.hasNode=function(t){return fc.has(this._nodes,t)},pc.prototype.removeNode=function(t){var e=this;if(fc.has(this._nodes,t)){var r=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],fc.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),fc.each(fc.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],fc.each(fc.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},pc.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(fc.isUndefined(e))e="\0";else{for(var r=e+="";!fc.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},pc.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},pc.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\0"!==e)return e}},pc.prototype.children=function(t){if(fc.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return fc.keys(e)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},pc.prototype.predecessors=function(t){var e=this._preds[t];if(e)return fc.keys(e)},pc.prototype.successors=function(t){var e=this._sucs[t];if(e)return fc.keys(e)},pc.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return fc.union(e,this.successors(t))},pc.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},pc.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;fc.each(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),fc.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};function i(t){var o=r.parent(t);return void 0===o||e.hasNode(o)?(n[t]=o,o):o in n?n[o]:i(o)}return this._isCompound&&fc.each(e.nodes(),(function(t){e.setParent(t,i(t))})),e},pc.prototype.setDefaultEdgeLabel=function(t){return fc.isFunction(t)||(t=fc.constant(t)),this._defaultEdgeLabelFn=t,this},pc.prototype.edgeCount=function(){return this._edgeCount},pc.prototype.edges=function(){return fc.values(this._edgeObjs)},pc.prototype.setPath=function(t,e){var r=this,n=arguments;return fc.reduce(t,(function(t,i){return n.length>1?r.setEdge(t,i,e):r.setEdge(t,i),i})),this},pc.prototype.setEdge=function(){var t,e,r,n,i=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,r=o.name,2===arguments.length&&(n=arguments[1],i=!0)):(t=o,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),t=""+t,e=""+e,fc.isUndefined(r)||(r=""+r);var a=yc(this._isDirected,t,e,r);if(fc.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=n),this;if(!fc.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?n:this._defaultEdgeLabelFn(t,e,r);var s=mc(this._isDirected,t,e,r);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,gc(this._preds[e],t),gc(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this},pc.prototype.edge=function(t,e,r){var n=1===arguments.length?_c(this._isDirected,arguments[0]):yc(this._isDirected,t,e,r);return this._edgeLabels[n]},pc.prototype.hasEdge=function(t,e,r){var n=1===arguments.length?_c(this._isDirected,arguments[0]):yc(this._isDirected,t,e,r);return fc.has(this._edgeLabels,n)},pc.prototype.removeEdge=function(t,e,r){var n=1===arguments.length?_c(this._isDirected,arguments[0]):yc(this._isDirected,t,e,r),i=this._edgeObjs[n];return i&&(t=i.v,e=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],vc(this._preds[e],t),vc(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},pc.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=fc.values(r);return e?fc.filter(n,(function(t){return t.v===e})):n}},pc.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=fc.values(r);return e?fc.filter(n,(function(t){return t.w===e})):n}},pc.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};var wc={Graph:dc,version:"2.1.8"},Ec=lc,bc=dc,xc={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Nc(t),edges:Ac(t)};Ec.isUndefined(t.graph())||(e.value=Ec.clone(t.graph()));return e},read:function(t){var e=new bc(t.options).setGraph(t.value);return Ec.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),Ec.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}};function Nc(t){return Ec.map(t.nodes(),(function(e){var r=t.node(e),n=t.parent(e),i={v:e};return Ec.isUndefined(r)||(i.value=r),Ec.isUndefined(n)||(i.parent=n),i}))}function Ac(t){return Ec.map(t.edges(),(function(e){var r=t.edge(e),n={v:e.v,w:e.w};return Ec.isUndefined(e.name)||(n.name=e.name),Ec.isUndefined(r)||(n.value=r),n}))}var Tc=lc,Lc=function(t){var e,r={},n=[];function i(n){Tc.has(r,n)||(r[n]=!0,e.push(n),Tc.each(t.successors(n),i),Tc.each(t.predecessors(n),i))}return Tc.each(t.nodes(),(function(t){e=[],i(t),e.length&&n.push(e)})),n};var Cc=lc,Mc=Oc;function Oc(){this._arr=[],this._keyIndices={}}Oc.prototype.size=function(){return this._arr.length},Oc.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},Oc.prototype.has=function(t){return Cc.has(this._keyIndices,t)},Oc.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},Oc.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Oc.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!Cc.has(r,t)){var n=this._arr,i=n.length;return r[t]=i,n.push({key:t,priority:e}),this._decrease(i),!0}return!1},Oc.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},Oc.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},Oc.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,i=t;r<e.length&&(i=e[r].priority<e[i].priority?r:i,n<e.length&&(i=e[n].priority<e[i].priority?n:i),i!==t&&(this._swap(t,i),this._heapify(i)))},Oc.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},Oc.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,i=r[t],o=r[e];r[t]=o,r[e]=i,n[o.key]=t,n[i.key]=e};var Ic=Mc,Dc=function(t,e,r,n){return function(t,e,r,n){var i,o,a={},s=new Ic,u=function(t){var e=t.v!==i?t.v:t.w,n=a[e],u=r(t),c=o.distance+u;if(u<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+u);c<n.distance&&(n.distance=c,n.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var r=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:r},s.add(t,r)}));for(;s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)n(i).forEach(u);return a}(t,String(e),r||Rc,n||function(e){return t.outEdges(e)})},Rc=lc.constant(1);var Fc=Dc,Pc=lc,Sc=function(t,e,r){return Pc.transform(t.nodes(),(function(n,i){n[i]=Fc(t,i,e,r)}),{})};var Gc=lc,jc=function(t){var e=0,r=[],n={},i=[];function o(a){var s=n[a]={onStack:!0,lowlink:e,index:e++};if(r.push(a),t.successors(a).forEach((function(t){Gc.has(n,t)?n[t].onStack&&(s.lowlink=Math.min(s.lowlink,n[t].index)):(o(t),s.lowlink=Math.min(s.lowlink,n[t].lowlink))})),s.lowlink===s.index){var u,c=[];do{u=r.pop(),n[u].onStack=!1,c.push(u)}while(a!==u);i.push(c)}}return t.nodes().forEach((function(t){Gc.has(n,t)||o(t)})),i};var kc=lc,Uc=jc,Yc=function(t){return kc.filter(Uc(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))};var Xc=function(t,e,r){return function(t,e,r){var n={},i=t.nodes();return i.forEach((function(t){n[t]={},n[t][t]={distance:0},i.forEach((function(e){t!==e&&(n[t][e]={distance:Number.POSITIVE_INFINITY})})),r(t).forEach((function(r){var i=r.v===t?r.w:r.v,o=e(r);n[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=n[t];i.forEach((function(r){var o=n[r];i.forEach((function(r){var n=o[t],i=e[r],a=o[r],s=n.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),n}(t,e||zc,r||function(e){return t.outEdges(e)})},zc=lc.constant(1);var Hc=lc,Bc=Wc;function Wc(t){var e={},r={},n=[];if(Hc.each(t.sinks(),(function i(o){if(Hc.has(r,o))throw new Vc;Hc.has(e,o)||(r[o]=!0,e[o]=!0,Hc.each(t.predecessors(o),i),delete r[o],n.push(o))})),Hc.size(e)!==t.nodeCount())throw new Vc;return n}function Vc(){}Wc.CycleException=Vc,Vc.prototype=new Error;var qc=Bc;var $c=lc,Zc=function(t,e,r){$c.isArray(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return $c.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);Kc(t,e,"post"===r,o,n,i)})),i};function Kc(t,e,r,n,i,o){$c.has(n,e)||(n[e]=!0,r||o.push(e),$c.each(i(e),(function(e){Kc(t,e,r,n,i,o)})),r&&o.push(e))}var Qc=Zc;var Jc=Zc;var th=lc,eh=dc,rh=Mc;var nh={Graph:wc.Graph,json:xc,alg:{components:Lc,dijkstra:Dc,dijkstraAll:Sc,findCycles:Yc,floydWarshall:Xc,isAcyclic:function(t){try{qc(t)}catch(t){if(t instanceof qc.CycleException)return!1;throw t}return!0},postorder:function(t,e){return Qc(t,e,"post")},preorder:function(t,e){return Jc(t,e,"pre")},prim:function(t,e){var r,n=new eh,i={},o=new rh;function a(t){var n=t.v===r?t.w:t.v,a=o.priority(n);if(void 0!==a){var s=e(t);s<a&&(i[n]=r,o.decrease(n,s))}}if(0===t.nodeCount())return n;th.each(t.nodes(),(function(t){o.add(t,Number.POSITIVE_INFINITY),n.setNode(t)})),o.decrease(t.nodes()[0],0);var s=!1;for(;o.size()>0;){if(r=o.removeMin(),th.has(i,r))n.setEdge(r,i[r]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(r).forEach(a)}return n},tarjan:jc,topsort:Bc},version:wc.version};function ih(){var t={};t._next=t._prev=t,this._sentinel=t}function oh(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function ah(t,e){if("_next"!==t&&"_prev"!==t)return e}ih.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return oh(e),e},ih.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&oh(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},ih.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,ah)),r=r._prev;return"["+t.join(", ")+"]"};var sh=g.exports.constant(1);function uh(t,e){if(t.nodeCount()<=1)return[];var r=function(t,e){var r=new nh.Graph,n=0,i=0;g.exports.forEach(t.nodes(),(function(t){r.setNode(t,{v:t,in:0,out:0})})),g.exports.forEach(t.edges(),(function(t){var o=r.edge(t.v,t.w)||0,a=e(t),s=o+a;r.setEdge(t.v,t.w,s),i=Math.max(i,r.node(t.v).out+=a),n=Math.max(n,r.node(t.w).in+=a)}));var o=g.exports.range(i+n+3).map((function(){return new ih})),a=n+1;return g.exports.forEach(r.nodes(),(function(t){hh(o,a,r.node(t))})),{graph:r,buckets:o,zeroIdx:a}}(t,e||sh),n=function(t,e,r){var n,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;n=a.dequeue();)ch(t,e,r,n);for(;n=o.dequeue();)ch(t,e,r,n);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(n=e[s].dequeue()){i=i.concat(ch(t,e,r,n,!0));break}}return i}(r.graph,r.buckets,r.zeroIdx);return g.exports.flatten(g.exports.map(n,(function(e){return t.outEdges(e.v,e.w)})),!0)}function ch(t,e,r,n,i){var o=i?[]:void 0;return g.exports.forEach(t.inEdges(n.v),(function(n){var a=t.edge(n),s=t.node(n.v);i&&o.push({v:n.v,w:n.w}),s.out-=a,hh(e,r,s)})),g.exports.forEach(t.outEdges(n.v),(function(n){var i=t.edge(n),o=n.w,a=t.node(o);a.in-=i,hh(e,r,a)})),t.removeNode(n.v),o}function hh(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function lh(t){var e="greedy"===t.graph().acyclicer?uh(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],r={},n={};function i(o){g.exports.has(n,o)||(n[o]=!0,r[o]=!0,g.exports.forEach(t.outEdges(o),(function(t){g.exports.has(r,t.w)?e.push(t):i(t.w)})),delete r[o])}return g.exports.forEach(t.nodes(),i),e}(t);g.exports.forEach(e,(function(e){var r=t.edge(e);t.removeEdge(e),r.forwardName=e.name,r.reversed=!0,t.setEdge(e.w,e.v,r,g.exports.uniqueId("rev"))}))}function fh(t,e,r,n){var i;do{i=g.exports.uniqueId(n)}while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function dh(t){var e=g.exports.map(g.exports.range(gh(t)+1),(function(){return[]}));return g.exports.forEach(t.nodes(),(function(r){var n=t.node(r),i=n.rank;g.exports.isUndefined(i)||(e[i][n.order]=r)})),e}function ph(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),fh(t,"border",i,e)}function gh(t){return g.exports.max(g.exports.map(t.nodes(),(function(e){var r=t.node(e).rank;if(!g.exports.isUndefined(r))return r})))}function vh(t,e){var r=g.exports.now();try{return e()}finally{console.log(t+" time: "+(g.exports.now()-r)+"ms")}}function yh(t,e){return e()}function mh(t){t.graph().dummyChains=[],g.exports.forEach(t.edges(),(function(e){!function(t,e){var r,n,i,o=e.v,a=t.node(o).rank,s=e.w,u=t.node(s).rank,c=e.name,h=t.edge(e),l=h.labelRank;if(u===a+1)return;for(t.removeEdge(e),i=0,++a;a<u;++i,++a)h.points=[],r=fh(t,"edge",n={width:0,height:0,edgeLabel:h,edgeObj:e,rank:a},"_d"),a===l&&(n.width=h.width,n.height=h.height,n.dummy="edge-label",n.labelpos=h.labelpos),t.setEdge(o,r,{weight:h.weight},c),0===i&&t.graph().dummyChains.push(r),o=r;t.setEdge(o,s,{weight:h.weight},c)}(t,e)}))}function _h(t){var e={};g.exports.forEach(t.sources(),(function r(n){var i=t.node(n);if(g.exports.has(e,n))return i.rank;e[n]=!0;var o=g.exports.min(g.exports.map(t.outEdges(n),(function(e){return r(e.w)-t.edge(e).minlen})));return o!==Number.POSITIVE_INFINITY&&null!=o||(o=0),i.rank=o}))}function wh(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function Eh(t){var e,r,n=new nh.Graph({directed:!1}),i=t.nodes()[0],o=t.nodeCount();for(n.setNode(i,{});bh(n,t)<o;)e=xh(n,t),r=n.hasNode(e.v)?wh(t,e):-wh(t,e),Nh(n,t,r);return n}function bh(t,e){return g.exports.forEach(t.nodes(),(function r(n){g.exports.forEach(e.nodeEdges(n),(function(i){var o=i.v,a=n===o?i.w:o;t.hasNode(a)||wh(e,i)||(t.setNode(a,{}),t.setEdge(n,a,{}),r(a))}))})),t.nodeCount()}function xh(t,e){return g.exports.minBy(e.edges(),(function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return wh(e,r)}))}function Nh(t,e,r){g.exports.forEach(t.nodes(),(function(t){e.node(t).rank+=r}))}function Ah(t){t=function(t){var e=(new nh.Graph).setGraph(t.graph());return g.exports.forEach(t.nodes(),(function(r){e.setNode(r,t.node(r))})),g.exports.forEach(t.edges(),(function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})})),e}(t),_h(t);var e,r=Eh(t);for(Ch(r),Th(r,t);e=Oh(r);)Dh(r,t,e,Ih(r,t,e))}function Th(t,e){var r=nh.alg.postorder(t,t.nodes());r=r.slice(0,r.length-1),g.exports.forEach(r,(function(r){!function(t,e,r){var n=t.node(r).parent;t.edge(r,n).cutvalue=Lh(t,e,r)}(t,e,r)}))}function Lh(t,e,r){var n=t.node(r).parent,i=!0,o=e.edge(r,n),a=0;return o||(i=!1,o=e.edge(n,r)),a=o.weight,g.exports.forEach(e.nodeEdges(r),(function(o){var s,u,c=o.v===r,h=c?o.w:o.v;if(h!==n){var l=c===i,f=e.edge(o).weight;if(a+=l?f:-f,s=r,u=h,t.hasEdge(s,u)){var d=t.edge(r,h).cutvalue;a+=l?-d:d}}})),a}function Ch(t,e){arguments.length<2&&(e=t.nodes()[0]),Mh(t,{},1,e)}function Mh(t,e,r,n,i){var o=r,a=t.node(n);return e[n]=!0,g.exports.forEach(t.neighbors(n),(function(i){g.exports.has(e,i)||(r=Mh(t,e,r,i,n))})),a.low=o,a.lim=r++,i?a.parent=i:delete a.parent,r}function Oh(t){return g.exports.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function Ih(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var o=t.node(n),a=t.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=g.exports.filter(e.edges(),(function(e){return u===Rh(t,t.node(e.v),s)&&u!==Rh(t,t.node(e.w),s)}));return g.exports.minBy(c,(function(t){return wh(e,t)}))}function Dh(t,e,r,n){var i=r.v,o=r.w;t.removeEdge(i,o),t.setEdge(n.v,n.w,{}),Ch(t),Th(t,e),function(t,e){var r=g.exports.find(t.nodes(),(function(t){return!e.node(t).parent})),n=nh.alg.preorder(t,r);n=n.slice(1),g.exports.forEach(n,(function(r){var n=t.node(r).parent,i=e.edge(r,n),o=!1;i||(i=e.edge(n,r),o=!0),e.node(r).rank=e.node(n).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function Rh(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}function Fh(t){switch(t.graph().ranker){case"network-simplex":default:Sh(t);break;case"tight-tree":!function(t){_h(t),Eh(t)}(t);break;case"longest-path":Ph(t)}}Ah.initLowLimValues=Ch,Ah.initCutValues=Th,Ah.calcCutValue=Lh,Ah.leaveEdge=Oh,Ah.enterEdge=Ih,Ah.exchangeEdges=Dh;var Ph=_h;function Sh(t){Ah(t)}function Gh(t){var e=function(t){var e={},r=0;function n(i){var o=r;g.exports.forEach(t.children(i),n),e[i]={low:o,lim:r++}}return g.exports.forEach(t.children(),n),e}(t);g.exports.forEach(t.graph().dummyChains,(function(r){for(var n=t.node(r),i=n.edgeObj,o=function(t,e,r,n){var i,o,a=[],s=[],u=Math.min(e[r].low,e[n].low),c=Math.max(e[r].lim,e[n].lim);i=r;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>u||c>e[i].lim));o=i,i=n;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],h=!0;r!==i.w;){if(n=t.node(r),h){for(;(c=a[u])!==s&&t.node(c).maxRank<n.rank;)u++;c===s&&(h=!1)}if(!h){for(;u<a.length-1&&t.node(c=a[u+1]).minRank<=n.rank;)u++;c=a[u]}t.setParent(r,c),r=t.successors(r)[0]}}))}function jh(t){var e=fh(t,"root",{},"_root"),r=function(t){var e={};function r(n,i){var o=t.children(n);o&&o.length&&g.exports.forEach(o,(function(t){r(t,i+1)})),e[n]=i}return g.exports.forEach(t.children(),(function(t){r(t,1)})),e}(t),n=g.exports.max(g.exports.values(r))-1,i=2*n+1;t.graph().nestingRoot=e,g.exports.forEach(t.edges(),(function(e){t.edge(e).minlen*=i}));var o=function(t){return g.exports.reduce(t.edges(),(function(e,r){return e+t.edge(r).weight}),0)}(t)+1;g.exports.forEach(t.children(),(function(a){kh(t,e,i,o,n,r,a)})),t.graph().nodeRankFactor=i}function kh(t,e,r,n,i,o,a){var s=t.children(a);if(s.length){var u=ph(t,"_bt"),c=ph(t,"_bb"),h=t.node(a);t.setParent(u,a),h.borderTop=u,t.setParent(c,a),h.borderBottom=c,g.exports.forEach(s,(function(s){kh(t,e,r,n,i,o,s);var h=t.node(s),l=h.borderTop?h.borderTop:s,f=h.borderBottom?h.borderBottom:s,d=h.borderTop?n:2*n,p=l!==f?1:i-o[a]+1;t.setEdge(u,l,{weight:d,minlen:p,nestingEdge:!0}),t.setEdge(f,c,{weight:d,minlen:p,nestingEdge:!0})})),t.parent(a)||t.setEdge(e,u,{weight:0,minlen:i+o[a]})}else a!==e&&t.setEdge(e,a,{weight:0,minlen:r})}function Uh(t,e,r,n,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],u=fh(t,"border",a,r);i[e][o]=u,t.setParent(u,n),s&&t.setEdge(s,u,{weight:1})}function Yh(t,e){for(var r=0,n=1;n<e.length;++n)r+=Xh(t,e[n-1],e[n]);return r}function Xh(t,e,r){for(var n=g.exports.zipObject(r,g.exports.map(r,(function(t,e){return e}))),i=g.exports.flatten(g.exports.map(e,(function(e){return g.exports.sortBy(g.exports.map(t.outEdges(e),(function(e){return{pos:n[e.w],weight:t.edge(e).weight}})),"pos")})),!0),o=1;o<r.length;)o<<=1;var a=2*o-1;o-=1;var s=g.exports.map(new Array(a),(function(){return 0})),u=0;return g.exports.forEach(i.forEach((function(t){var e=t.pos+o;s[e]+=t.weight;for(var r=0;e>0;)e%2&&(r+=s[e+1]),s[e=e-1>>1]+=t.weight;u+=t.weight*r}))),u}function zh(t,e){var r={};return g.exports.forEach(t,(function(t,e){var n=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};g.exports.isUndefined(t.barycenter)||(n.barycenter=t.barycenter,n.weight=t.weight)})),g.exports.forEach(e.edges(),(function(t){var e=r[t.v],n=r[t.w];g.exports.isUndefined(e)||g.exports.isUndefined(n)||(n.indegree++,e.out.push(r[t.w]))})),function(t){var e=[];function r(t){return function(e){e.merged||(g.exports.isUndefined(e.barycenter)||g.exports.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight);e.weight&&(r+=e.barycenter*e.weight,n+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function n(e){return function(r){r.in.push(e),0==--r.indegree&&t.push(r)}}for(;t.length;){var i=t.pop();e.push(i),g.exports.forEach(i.in.reverse(),r(i)),g.exports.forEach(i.out,n(i))}return g.exports.map(g.exports.filter(e,(function(t){return!t.merged})),(function(t){return g.exports.pick(t,["vs","i","barycenter","weight"])}))}(g.exports.filter(r,(function(t){return!t.indegree})))}function Hh(t,e){var r,n=function(t,e){var r={lhs:[],rhs:[]};return g.exports.forEach(t,(function(t){e(t)?r.lhs.push(t):r.rhs.push(t)})),r}(t,(function(t){return g.exports.has(t,"barycenter")})),i=n.lhs,o=g.exports.sortBy(n.rhs,(function(t){return-t.i})),a=[],s=0,u=0,c=0;i.sort((r=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:r?e.i-t.i:t.i-e.i})),c=Bh(a,o,c),g.exports.forEach(i,(function(t){c+=t.vs.length,a.push(t.vs),s+=t.barycenter*t.weight,u+=t.weight,c=Bh(a,o,c)}));var h={vs:g.exports.flatten(a,!0)};return u&&(h.barycenter=s/u,h.weight=u),h}function Bh(t,e,r){for(var n;e.length&&(n=g.exports.last(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function Wh(t,e,r,n){var i=t.children(e),o=t.node(e),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,u={};a&&(i=g.exports.filter(i,(function(t){return t!==a&&t!==s})));var c=function(t,e){return g.exports.map(e,(function(e){var r=t.inEdges(e);if(r.length){var n=g.exports.reduce(r,(function(e,r){var n=t.edge(r),i=t.node(r.v);return{sum:e.sum+n.weight*i.order,weight:e.weight+n.weight}}),{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight}}return{v:e}}))}(t,i);g.exports.forEach(c,(function(e){if(t.children(e.v).length){var i=Wh(t,e.v,r,n);u[e.v]=i,g.exports.has(i,"barycenter")&&(o=e,a=i,g.exports.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var h=zh(c,r);!function(t,e){g.exports.forEach(t,(function(t){t.vs=g.exports.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(h,u);var l=Hh(h,n);if(a&&(l.vs=g.exports.flatten([a,l.vs,s],!0),t.predecessors(a).length)){var f=t.node(t.predecessors(a)[0]),d=t.node(t.predecessors(s)[0]);g.exports.has(l,"barycenter")||(l.barycenter=0,l.weight=0),l.barycenter=(l.barycenter*l.weight+f.order+d.order)/(l.weight+2),l.weight+=2}return l}function Vh(t,e,r){var n=function(t){var e;for(;t.hasNode(e=g.exports.uniqueId("_root")););return e}(t),i=new nh.Graph({compound:!0}).setGraph({root:n}).setDefaultNodeLabel((function(e){return t.node(e)}));return g.exports.forEach(t.nodes(),(function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||n),g.exports.forEach(t[r](o),(function(e){var r=e.v===o?e.w:e.v,n=i.edge(r,o),a=g.exports.isUndefined(n)?0:n.weight;i.setEdge(r,o,{weight:t.edge(e).weight+a})})),g.exports.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))})),i}var qh={};function $h(t,e,r,o){var a=r.eles.nodes(),s=function(t){for(var e=[],r=0;r<t.length;r++){for(var n=[],i=0;i<t[r].length;i++)t[r][i].startsWith("_d")||n.push(t[r][i]);n.length>0&&e.push(n)}return e}(e);!function(t){for(var e=0;e<t.length;e++)t[e].sort((function(){return Math.random()-.5}))}(s);var c=new f(s,o);!function(t,e,r){for(var o=r.rankGap,a=r.orderGap,s=Math.max.apply(Math,i([],n(e.map((function(t){return t.length}))),!1))*a,u=0;u<e.length;u++)for(var c=0;c<e[u].length;c++){var h=t.node(e[u][c]),l=e[u].length;h.x=s/(l+1)*(c+1),h.y=o*u}}(t,s,r),c.swapPeriod=r.swapPeriod,c.minPairSwapPeriod=r.minPairSwapPeriod,c.isFastCooling=r.isFastCooling,c.swapForceLimit=r.swapForceLimit,c.coolingCoefficient=r.coolingCoefficient,c.orderFlipPeriod=r.orderFlipPeriod,c.nodeRepulsionCalculationWidth=r.nodeRepulsionCalculationWidth,c.fullyCalcRep4Ticks=r.fullyCalcRep4Ticks,c.uniformNodeDimensions=r.uniformNodeDimensions,c.maxNodeDisplacement=r.maxNodeDisplacement,c.expansionCoefficient=r.expansionCoefficient,c.orderGap=r.orderGap,c.performPostProcessing=r.performPostProcessing,c.displayInitialPositions=r.displayInitialPositions,c.randomizeInitialPositions=r.randomizeInitialPositions,c.nodeRepulsion=r.nodeRepulsion,c.useFRGridVariantHySE=r.useFRGridVariant,c.idealEdgeLength=r.idealEdgeLength,c.colorSwappedPair=!r.colorSwappedPair,h.CoSEConstants.TILE=!1;var p=c.newGraphManager();if(function(t,e,r,n){for(var i=n.eles.nodes().filter((function(t){return!t.id().startsWith("_d")})),o=[],a=0;a<i.length;a++){var s=i[a];if(!o.includes(s.id())){o.push(s.id());var c=null,h=null;if(1!=s.data("isDirected")){c=new u.exports.layoutBase.PointD(0,0);var f=s.layoutDimensions(n);if(h=new u.exports.layoutBase.DimensionD(f.w,f.h),(g=new l(r.graphManager,c,h,null,i[a].id(),-1)).nodeRepulsion=n.nodeRepulsion,g.isDirected=0,null==g.isDirected&&(g.isDirected=0),g.noOfChildren=n.eles.nodes("#"+i[a].id()).children().length+1,g.noOfChildren>1){var d=r.newGraph();Zh(t,r.graphManager.add(d,g),r,n,o,s,g)}n.eles.nodes("#"+i[a].id()).data("parent")&&(g.parentId=n.eles.nodes("#"+i[a].id()).data("parent")),g.noOfChildren>=2&&(g.noOfChildren-=1);var p=e.add(g);qh[i[a].id()]=p}else{var g;s=t.node(s.id()),c=new u.exports.layoutBase.PointD(s.x,s.y),h=new u.exports.layoutBase.DimensionD(s.width,s.height),(g=new l(r.graphManager,c,h,null,i[a].id(),s.rank)).nodeRepulsion=n.nodeRepulsion,g.isDirected=1;p=e.add(g);qh[i[a].id()]=p}}}}(t,p.addRoot(),c,r),function(t,e,r){for(var n=r.eles.edges(),i={},o=0;o<n.length;o++){i[n[o].id()]||(i[n[o].id()]={});var a=n[o].source().id(),s=n[o].target().id();a.startsWith("_d")||(i[n[o].id()].v=a),s.startsWith("_d")||(i[n[o].id()].w=s)}for(var u in i){var c=i[u],h=qh[c.v],l=qh[c.w],f=new d(h,l,null);f.idealLength=r.idealEdgeLength,f.edgeElasticity=r.edgeElasticity,e.add(f,h,l)}}(0,p,r),"during"!=r.animate){c.runLayout();for(var g=0;g<p.getAllNodes().length;g++){var v=p.getAllNodes()[g];r.isRelayer||(v.id instanceof Object?window.cy.nodes("#"+v.id.id()).scratch("force_directed_pos",{x:v.rect.x,y:v.rect.y}):window.cy.nodes("#"+v.id).scratch("force_directed_pos",{x:v.rect.x,y:v.rect.y}))}r.isRelayer&&(e=function(t,e){for(var r=[],n=function(e){var n=t.allNodes.filter((function(t){return t.rank==e})).sort((function(t,e){return t.rect.x-e.rect.x})).map((function(t){return t.id}));r.push(n)},i=0;i<e.length;i++)n(i);return r}(p,e))}else!function(t,e,r){t.beforeLayout(),t.swapPeriod=r.swapPeriod,t.minPairSwapPeriod=r.minPairSwapPeriod,t.isFastCooling=r.isFastCooling,t.swapForceLimit=r.swapForceLimit,t.coolingCoefficient=r.coolingCoefficient,t.orderFlipPeriod=r.orderFlipPeriod,t.nodeRepulsionCalculationWidth=r.nodeRepulsionCalculationWidth,t.fullyCalcRep4Ticks=r.fullyCalcRep4Ticks,t.uniformNodeDimensions=r.uniformNodeDimensions,t.maxNodeDisplacement=r.maxNodeDisplacement,t.expansionCoefficient=r.expansionCoefficient,t.orderGap=r.orderGap,t.performPostProcessing=r.performPostProcessing,t.displayInitialPositions=r.displayInitialPositions,t.randomizeInitialPositions=r.randomizeInitialPositions,t.nodeRepulsion=r.nodeRepulsion,t.useFRGridVariantHySE=r.useFRGridVariant,t.idealEdgeLength=r.idealEdgeLength,h.CoSEConstants.TILE=!1;var n=function(){setTimeout((function(){for(var i=!1,o=0;o<r.ticksPerFrame&&!i;o++)i=t.tick();e.positions((function(t){var e=qh[t.id()];return{x:e.getRect().x,y:e.getRect().y}})),i?(t.performPostProcessing&&(t.postLayoutRepulsionPhase(),e.positions((function(t){var e=qh[t.id()];return{x:e.getRect().x,y:e.getRect().y}}))),r.stop&&"function"==typeof r.stop&&r.stop()):(window.cy.fit(),requestAnimationFrame(n))}),r.tickDelay)};requestAnimationFrame(n)}(c,a,r);return e}function Zh(t,e,r,n,i,o,a){for(var s=0;s<o.children().length;s++){var c=o.children()[s];if(i.includes(c.id()))return;i.push(c.id());var h=null,f=null;if(1!=c.data("isDirected")){h=new u.exports.layoutBase.PointD(0,0);var d=c.layoutDimensions(n);f=new u.exports.layoutBase.DimensionD(d.w,d.h);var p=new l(r.graphManager,h,f,null,c.id(),-1);if(p.nodeRepulsion=n.nodeRepulsion,p.isDirected=n.eles.nodes("#"+c.id()).data("isDirected"),p.noOfChildren=n.eles.nodes("#"+c.id()).children().length+1,p.noOfChildren>1){var g=r.newGraph();Zh(t,r.graphManager.add(g,p),r,n,i,c,p)}n.eles.nodes("#"+c.id()).data("parent")&&(p.parentId=n.eles.nodes("#"+c.id()).data("parent")),p.noOfChildren>=2&&(p.noOfChildren-=1);var v=a.getChild().add(p);qh[c.id()]=v}}}function Kh(t,e,r){var n=gh(t),i=Qh(t,g.exports.range(1,n+1),"inEdges"),o=Qh(t,g.exports.range(n-1,-1,-1),"outEdges"),a=function(t){var e={},r=g.exports.filter(t.nodes(),(function(e){return!t.children(e).length})),n=g.exports.max(g.exports.map(r,(function(e){return t.node(e).rank}))),i=g.exports.map(g.exports.range(n+1),(function(){return[]})),o=g.exports.sortBy(r,(function(e){return t.node(e).rank}));return g.exports.forEach(o,(function r(n){if(!g.exports.has(e,n)){e[n]=!0;var o=t.node(n);i[o.rank].push(n),g.exports.forEach(t.successors(n),r)}})),i}(t);if(tl(t,a),e.isForceDirected){const n=$h(t,a,e,r);e.isRelayer&&tl(t,n)}else{for(var s,u=Number.POSITIVE_INFINITY,c=0,h=0;h<4;++c,++h){Jh(c%2?i:o,c%4>=2);var l=Yh(t,a=dh(t));l<u&&(h=0,s=g.exports.cloneDeep(a),u=l)}tl(t,s)}}function Qh(t,e,r){return g.exports.map(e,(function(e){return Vh(t,e,r)}))}function Jh(t,e){var r=new nh.Graph;g.exports.forEach(t,(function(t){var n=t.graph().root,i=Wh(t,n,r,e);g.exports.forEach(i.vs,(function(e,r){t.node(e).order=r})),function(t,e,r){var n,i={};g.exports.forEach(r,(function(r){for(var o,a,s=t.parent(r);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=n,n=s),a&&a!==s)return void e.setEdge(a,s);s=o}}))}(t,r,i.vs)}))}function tl(t,e){g.exports.forEach(e,(function(e){g.exports.forEach(e,(function(e,r){t.node(e).order=r}))}))}function el(t,e,r){var n=e&&e.debugTiming?vh:yh;n("layout",(function(){var i=n("  buildLayoutGraph",(function(){return function(t){var e=new nh.Graph({multigraph:!0,compound:!0}),r=ll(t.graph());return e.setGraph(g.exports.merge({},nl,hl(r,rl),g.exports.pick(r,il))),g.exports.forEach(t.nodes(),(function(r){var n=ll(t.node(r));e.setNode(r,g.exports.defaults(hl(n,ol),al)),e.setParent(r,t.parent(r))})),g.exports.forEach(t.edges(),(function(r){var n=ll(t.edge(r));e.setEdge(r,g.exports.merge({},ul,hl(n,sl),g.exports.pick(n,cl)))})),e}(t)}));n("  runLayout",(function(){!function(t,e,r,n){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,g.exports.forEach(t.edges(),(function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){g.exports.forEach(t.edges(),(function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){lh(t)})),e("    nestingGraph.run",(function(){jh(t)})),e("    rank",(function(){Fh(function(t){var e=new nh.Graph({multigraph:t.isMultigraph()}).setGraph(t.graph());return g.exports.forEach(t.nodes(),(function(r){t.children(r).length||e.setNode(r,t.node(r))})),g.exports.forEach(t.edges(),(function(r){e.setEdge(r,t.edge(r))})),e}(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){g.exports.forEach(t.edges(),(function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i={rank:(t.node(e.w).rank-n.rank)/2+n.rank,e:e};fh(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){!function(t){var e=g.exports.min(g.exports.map(t.nodes(),(function(e){return t.node(e).rank}))),r=[];g.exports.forEach(t.nodes(),(function(n){var i=t.node(n).rank-e;r[i]||(r[i]=[]),r[i].push(n)}));var n=0,i=t.graph().nodeRankFactor;g.exports.forEach(r,(function(e,r){g.exports.isUndefined(e)&&r%i!=0?--n:n&&g.exports.forEach(e,(function(e){t.node(e).rank+=n}))}))}(t)})),e("    nestingGraph.cleanup",(function(){!function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,g.exports.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}(t)})),e("    normalizeRanks",(function(){!function(t){var e=g.exports.min(g.exports.map(t.nodes(),(function(e){return t.node(e).rank})));g.exports.forEach(t.nodes(),(function(r){var n=t.node(r);g.exports.has(n,"rank")&&(n.rank-=e)}))}(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;g.exports.forEach(t.nodes(),(function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=g.exports.max(e,n.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){g.exports.forEach(t.nodes(),(function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){mh(t)})),e("    parentDummyChains",(function(){Gh(t)})),e("    addBorderSegments",(function(){!function(t){g.exports.forEach(t.children(),(function e(r){var n=t.children(r),i=t.node(r);if(n.length&&g.exports.forEach(n,e),g.exports.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Uh(t,"borderLeft","_bl",r,i,o),Uh(t,"borderRight","_br",r,i,o)}}))}(t)})),e("    order",(function(){Kh(t,r,n)}))}(i,n,e,r)}))}))}var rl=["nodesep","edgesep","ranksep","marginx","marginy"],nl={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},il=["acyclicer","ranker","rankdir","align"],ol=["width","height"],al={width:0,height:0},sl=["minlen","weight","width","height","labeloffset"],ul={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},cl=["labelpos"];function hl(t,e){return g.exports.mapValues(g.exports.pick(t,e),Number)}function ll(t){var e={};return g.exports.forEach(t,(function(t,r){e[r.toLowerCase()]=t})),e}var fl=function(){function t(t){this.options=Object.assign({},o,t)}return t.prototype.run=function(){var t=performance.now(),e=this.options,r=e.cy,n=e.eles,i=function(t,e){return"function"==typeof e?e.apply(t,[t]):e},o=e.boundingBox||{x1:0,y1:0,w:r.width(),h:r.height()};void 0===o.x2&&(o.x2=o.x1+o.w),void 0===o.w&&(o.w=o.x2-o.x1),void 0===o.y2&&(o.y2=o.y1+o.h),void 0===o.h&&(o.h=o.y2-o.y1);for(var a=new nh.Graph({multigraph:!0,compound:!0}),s={},u=function(t,e){null!=e&&(s[t]=e)},c=n.nodes().filter((function(t){return 1==t.data("isDirected")})),h=0,l=0,f=0;f<c.length;f++){var d=c[f],p=d.layoutDimensions(e);a.setNode(d.id(),{width:p.w,height:p.h,name:d.id(),isDirected:d.data("isDirected")}),p.h>h&&(h=p.h),p.w>l&&(l=p.w)}e.rankGap+=h,e.orderGap<20+l&&(e.orderGap=20+l),u("nodesep",e.nodeSep),u("edgesep",e.edgeSep),u("ranksep",e.rankSep),u("rankdir",e.rankDir),u("align",e.align),u("ranker",e.ranker),u("acyclicer",e.acyclicer),a.setGraph(s),a.setDefaultEdgeLabel((function(){return{}})),a.setDefaultNodeLabel((function(){return{}}));var g=n.edges().stdFilter((function(t){return 1==t.source().data("isDirected")&&1==t.target().data("isDirected")}));for(f=0;f<g.length;f++){var v=g[f];a.setEdge(v.source().id(),v.target().id(),{minlen:i(v,e.minLen),weight:i(v,e.edgeWeight),name:v.id()},v.id())}el(a,e,r);var y,m=a.nodes();for(f=0;f<m.length;f++){var _=m[f],w=a.node(_);r.getElementById(_).scratch().dagre=w}e.boundingBox?(y={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},c.forEach((function(t){var e=t.scratch().dagre;y.x1=Math.min(y.x1,e.x),y.x2=Math.max(y.x2,e.x),y.y1=Math.min(y.y1,e.y),y.y2=Math.max(y.y2,e.y)})),y.w=y.x2-y.x1,y.h=y.y2-y.y1):y=o;var E=0;e.isForceDirected&&!e.isRelayer?c.layoutPositions(this,e,(function(t){if(E++,null!=(t="object"==typeof t?t:this)){var e=t.scratch("force_directed_pos");if(null!=e)return{x:e.x,y:e.y}}})):c.layoutPositions(this,e,(function(t){E++;var r=(t="object"==typeof t?t:this).scratch().dagre;return function(t){if(e.boundingBox){var r=0===y.w?0:(t.x-y.x1)/y.w,n=0===y.h?0:(t.y-y.y1)/y.h;return{x:o.x1+r*o.w,y:o.y1+n*o.h}}return t}({x:r.x,y:r.y})}));var b=performance.now()-t;return window.hyseExecutionTimes||(window.hyseExecutionTimes=[]),window.hyseExecutionTimes.push(b),console.log(E),console.log("HySE executed in",b,"ms"),this},t}();function dl(t){t&&(t("layout","hyse",fl),t("layout","force-directed",p))}void 0!==window.cytoscape&&dl(window.cytoscape),module.exports=dl;
